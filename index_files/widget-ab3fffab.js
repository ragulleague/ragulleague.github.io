webpackJsonp([0,6],[function(t,e,n){(function(t){n(2),n(8),window._=n(17),window.$=window.jQuery=n(1);var e=n(18),i=n(22),r=n(25);t(function(){e.newWidget?r.start("1465915664"):i.start()})}).call(e,n(1))},function(t,e,n){var i,r;!function(e,n){"object"==typeof t&&"object"==typeof t.exports?t.exports=e.document?n(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return n(t)}:n(e)}("undefined"!=typeof window?window:this,function(n,o){function s(t){var e="length"in t&&t.length,n=it.type(t);return"function"===n||it.isWindow(t)?!1:1===t.nodeType&&e?!0:"array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t}function a(t,e,n){if(it.isFunction(e))return it.grep(t,function(t,i){return!!e.call(t,i,t)!==n});if(e.nodeType)return it.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(ht.test(e))return it.filter(e,t,n);e=it.filter(e,t)}return it.grep(t,function(t){return X.call(e,t)>=0!==n})}function u(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function l(t){var e=_t[t]={};return it.each(t.match(vt)||[],function(t,n){e[n]=!0}),e}function c(){et.removeEventListener("DOMContentLoaded",c,!1),n.removeEventListener("load",c,!1),it.ready()}function h(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=it.expando+h.uid++}function d(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(kt,"-$1").toLowerCase(),n=t.getAttribute(i),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:St.test(n)?it.parseJSON(n):n}catch(r){}Et.set(t,e,n)}else n=void 0;return n}function f(){return!0}function p(){return!1}function g(){try{return et.activeElement}catch(t){}}function m(t,e){return it.nodeName(t,"table")&&it.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function v(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function _(t){var e=Bt.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function y(t,e){for(var n=0,i=t.length;i>n;n++)wt.set(t[n],"globalEval",!e||wt.get(e[n],"globalEval"))}function b(t,e){var n,i,r,o,s,a,u,l;if(1===e.nodeType){if(wt.hasData(t)&&(o=wt.access(t),s=wt.set(e,o),l=o.events)){delete s.handle,s.events={};for(r in l)for(n=0,i=l[r].length;i>n;n++)it.event.add(e,r,l[r][n])}Et.hasData(t)&&(a=Et.access(t),u=it.extend({},a),Et.set(e,u))}}function w(t,e){var n=t.getElementsByTagName?t.getElementsByTagName(e||"*"):t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&it.nodeName(t,e)?it.merge([t],n):n}function E(t,e){var n=e.nodeName.toLowerCase();"input"===n&&Pt.test(t.type)?e.checked=t.checked:("input"===n||"textarea"===n)&&(e.defaultValue=t.defaultValue)}function S(t,e){var i,r=it(e.createElement(t)).appendTo(e.body),o=n.getDefaultComputedStyle&&(i=n.getDefaultComputedStyle(r[0]))?i.display:it.css(r[0],"display");return r.detach(),o}function k(t){var e=et,n=$t[t];return n||(n=S(t,e),"none"!==n&&n||(qt=(qt||it("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),e=qt[0].contentDocument,e.write(),e.close(),n=S(t,e),qt.detach()),$t[t]=n),n}function x(t,e,n){var i,r,o,s,a=t.style;return n=n||Gt(t),n&&(s=n.getPropertyValue(e)||n[e]),n&&(""!==s||it.contains(t.ownerDocument,t)||(s=it.style(t,e)),Wt.test(s)&&Vt.test(e)&&(i=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=i,a.minWidth=r,a.maxWidth=o)),void 0!==s?s+"":s}function T(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function A(t,e){if(e in t)return e;for(var n=e[0].toUpperCase()+e.slice(1),i=e,r=Zt.length;r--;)if(e=Zt[r]+n,e in t)return e;return i}function P(t,e,n){var i=Yt.exec(e);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):e}function I(t,e,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===e?1:0,s=0;4>o;o+=2)"margin"===n&&(s+=it.css(t,n+Tt[o],!0,r)),i?("content"===n&&(s-=it.css(t,"padding"+Tt[o],!0,r)),"margin"!==n&&(s-=it.css(t,"border"+Tt[o]+"Width",!0,r))):(s+=it.css(t,"padding"+Tt[o],!0,r),"padding"!==n&&(s+=it.css(t,"border"+Tt[o]+"Width",!0,r)));return s}function C(t,e,n){var i=!0,r="width"===e?t.offsetWidth:t.offsetHeight,o=Gt(t),s="border-box"===it.css(t,"boxSizing",!1,o);if(0>=r||null==r){if(r=x(t,e,o),(0>r||null==r)&&(r=t.style[e]),Wt.test(r))return r;i=s&&(tt.boxSizingReliable()||r===t.style[e]),r=parseFloat(r)||0}return r+I(t,e,n||(s?"border":"content"),i,o)+"px"}function D(t,e){for(var n,i,r,o=[],s=0,a=t.length;a>s;s++)i=t[s],i.style&&(o[s]=wt.get(i,"olddisplay"),n=i.style.display,e?(o[s]||"none"!==n||(i.style.display=""),""===i.style.display&&At(i)&&(o[s]=wt.access(i,"olddisplay",k(i.nodeName)))):(r=At(i),"none"===n&&r||wt.set(i,"olddisplay",r?n:it.css(i,"display"))));for(s=0;a>s;s++)i=t[s],i.style&&(e&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=e?o[s]||"":"none"));return t}function O(t,e,n,i,r){return new O.prototype.init(t,e,n,i,r)}function L(){return setTimeout(function(){te=void 0}),te=it.now()}function M(t,e){var n,i=0,r={height:t};for(e=e?1:0;4>i;i+=2-e)n=Tt[i],r["margin"+n]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function R(t,e,n){for(var i,r=(se[e]||[]).concat(se["*"]),o=0,s=r.length;s>o;o++)if(i=r[o].call(n,e,t))return i}function N(t,e,n){var i,r,o,s,a,u,l,c,h=this,d={},f=t.style,p=t.nodeType&&At(t),g=wt.get(t,"fxshow");n.queue||(a=it._queueHooks(t,"fx"),null==a.unqueued&&(a.unqueued=0,u=a.empty.fire,a.empty.fire=function(){a.unqueued||u()}),a.unqueued++,h.always(function(){h.always(function(){a.unqueued--,it.queue(t,"fx").length||a.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],l=it.css(t,"display"),c="none"===l?wt.get(t,"olddisplay")||k(t.nodeName):l,"inline"===c&&"none"===it.css(t,"float")&&(f.display="inline-block")),n.overflow&&(f.overflow="hidden",h.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}));for(i in e)if(r=e[i],ne.exec(r)){if(delete e[i],o=o||"toggle"===r,r===(p?"hide":"show")){if("show"!==r||!g||void 0===g[i])continue;p=!0}d[i]=g&&g[i]||it.style(t,i)}else l=void 0;if(it.isEmptyObject(d))"inline"===("none"===l?k(t.nodeName):l)&&(f.display=l);else{g?"hidden"in g&&(p=g.hidden):g=wt.access(t,"fxshow",{}),o&&(g.hidden=!p),p?it(t).show():h.done(function(){it(t).hide()}),h.done(function(){var e;wt.remove(t,"fxshow");for(e in d)it.style(t,e,d[e])});for(i in d)s=R(p?g[i]:0,i,h),i in g||(g[i]=s.start,p&&(s.end=s.start,s.start="width"===i||"height"===i?1:0))}}function F(t,e){var n,i,r,o,s;for(n in t)if(i=it.camelCase(n),r=e[i],o=t[n],it.isArray(o)&&(r=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),s=it.cssHooks[i],s&&"expand"in s){o=s.expand(o),delete t[i];for(n in o)n in t||(t[n]=o[n],e[n]=r)}else e[i]=r}function U(t,e,n){var i,r,o=0,s=oe.length,a=it.Deferred().always(function(){delete u.elem}),u=function(){if(r)return!1;for(var e=te||L(),n=Math.max(0,l.startTime+l.duration-e),i=n/l.duration||0,o=1-i,s=0,u=l.tweens.length;u>s;s++)l.tweens[s].run(o);return a.notifyWith(t,[l,o,n]),1>o&&u?n:(a.resolveWith(t,[l]),!1)},l=a.promise({elem:t,props:it.extend({},e),opts:it.extend(!0,{specialEasing:{}},n),originalProperties:e,originalOptions:n,startTime:te||L(),duration:n.duration,tweens:[],createTween:function(e,n){var i=it.Tween(t,l.opts,e,n,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(i),i},stop:function(e){var n=0,i=e?l.tweens.length:0;if(r)return this;for(r=!0;i>n;n++)l.tweens[n].run(1);return e?a.resolveWith(t,[l,e]):a.rejectWith(t,[l,e]),this}}),c=l.props;for(F(c,l.opts.specialEasing);s>o;o++)if(i=oe[o].call(l,t,c,l.opts))return i;return it.map(c,R,l),it.isFunction(l.opts.start)&&l.opts.start.call(t,l),it.fx.timer(it.extend(u,{elem:t,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function j(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,o=e.toLowerCase().match(vt)||[];if(it.isFunction(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function B(t,e,n,i){function r(a){var u;return o[a]=!0,it.each(t[a]||[],function(t,a){var l=a(e,n,i);return"string"!=typeof l||s||o[l]?s?!(u=l):void 0:(e.dataTypes.unshift(l),r(l),!1)}),u}var o={},s=t===Se;return r(e.dataTypes[0])||!o["*"]&&r("*")}function H(t,e){var n,i,r=it.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((r[n]?t:i||(i={}))[n]=e[n]);return i&&it.extend(!0,t,i),t}function z(t,e,n){for(var i,r,o,s,a=t.contents,u=t.dataTypes;"*"===u[0];)u.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(r in a)if(a[r]&&a[r].test(i)){u.unshift(r);break}if(u[0]in n)o=u[0];else{for(r in n){if(!u[0]||t.converters[r+" "+u[0]]){o=r;break}s||(s=r)}o=o||s}return o?(o!==u[0]&&u.unshift(o),n[o]):void 0}function q(t,e,n,i){var r,o,s,a,u,l={},c=t.dataTypes.slice();if(c[1])for(s in t.converters)l[s.toLowerCase()]=t.converters[s];for(o=c.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!u&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(s=l[u+" "+o]||l["* "+o],!s)for(r in l)if(a=r.split(" "),a[1]===o&&(s=l[u+" "+a[0]]||l["* "+a[0]])){s===!0?s=l[r]:l[r]!==!0&&(o=a[0],c.unshift(a[1]));break}if(s!==!0)if(s&&t["throws"])e=s(e);else try{e=s(e)}catch(h){return{state:"parsererror",error:s?h:"No conversion from "+u+" to "+o}}}return{state:"success",data:e}}function $(t,e,n,i){var r;if(it.isArray(e))it.each(e,function(e,r){n||Pe.test(t)?i(t,r):$(t+"["+("object"==typeof r?e:"")+"]",r,n,i)});else if(n||"object"!==it.type(e))i(t,e);else for(r in e)$(t+"["+r+"]",e[r],n,i)}function V(t){return it.isWindow(t)?t:9===t.nodeType&&t.defaultView}var W=[],G=W.slice,K=W.concat,Y=W.push,X=W.indexOf,J={},Q=J.toString,Z=J.hasOwnProperty,tt={},et=n.document,nt="2.1.4",it=function(t,e){return new it.fn.init(t,e)},rt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ot=/^-ms-/,st=/-([\da-z])/gi,at=function(t,e){return e.toUpperCase()};it.fn=it.prototype={jquery:nt,constructor:it,selector:"",length:0,toArray:function(){return G.call(this)},get:function(t){return null!=t?0>t?this[t+this.length]:this[t]:G.call(this)},pushStack:function(t){var e=it.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return it.each(this,t,e)},map:function(t){return this.pushStack(it.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(G.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(0>t?e:0);return this.pushStack(n>=0&&e>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:Y,sort:W.sort,splice:W.splice},it.extend=it.fn.extend=function(){var t,e,n,i,r,o,s=arguments[0]||{},a=1,u=arguments.length,l=!1;for("boolean"==typeof s&&(l=s,s=arguments[a]||{},a++),"object"==typeof s||it.isFunction(s)||(s={}),a===u&&(s=this,a--);u>a;a++)if(null!=(t=arguments[a]))for(e in t)n=s[e],i=t[e],s!==i&&(l&&i&&(it.isPlainObject(i)||(r=it.isArray(i)))?(r?(r=!1,o=n&&it.isArray(n)?n:[]):o=n&&it.isPlainObject(n)?n:{},s[e]=it.extend(l,o,i)):void 0!==i&&(s[e]=i));return s},it.extend({expando:"jQuery"+(nt+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===it.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){return!it.isArray(t)&&t-parseFloat(t)+1>=0},isPlainObject:function(t){return"object"!==it.type(t)||t.nodeType||it.isWindow(t)?!1:t.constructor&&!Z.call(t.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?J[Q.call(t)]||"object":typeof t},globalEval:function(t){var e,n=eval;t=it.trim(t),t&&(1===t.indexOf("use strict")?(e=et.createElement("script"),e.text=t,et.head.appendChild(e).parentNode.removeChild(e)):n(t))},camelCase:function(t){return t.replace(ot,"ms-").replace(st,at)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,n){var i,r=0,o=t.length,a=s(t);if(n){if(a)for(;o>r&&(i=e.apply(t[r],n),i!==!1);r++);else for(r in t)if(i=e.apply(t[r],n),i===!1)break}else if(a)for(;o>r&&(i=e.call(t[r],r,t[r]),i!==!1);r++);else for(r in t)if(i=e.call(t[r],r,t[r]),i===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(rt,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(s(Object(t))?it.merge(n,"string"==typeof t?[t]:t):Y.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:X.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;n>i;i++)t[r++]=e[i];return t.length=r,t},grep:function(t,e,n){for(var i,r=[],o=0,s=t.length,a=!n;s>o;o++)i=!e(t[o],o),i!==a&&r.push(t[o]);return r},map:function(t,e,n){var i,r=0,o=t.length,a=s(t),u=[];if(a)for(;o>r;r++)i=e(t[r],r,n),null!=i&&u.push(i);else for(r in t)i=e(t[r],r,n),null!=i&&u.push(i);return K.apply([],u)},guid:1,proxy:function(t,e){var n,i,r;return"string"==typeof e&&(n=t[e],e=t,t=n),it.isFunction(t)?(i=G.call(arguments,2),r=function(){return t.apply(e||this,i.concat(G.call(arguments)))},r.guid=t.guid=t.guid||it.guid++,r):void 0},now:Date.now,support:tt}),it.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){J["[object "+e+"]"]=e.toLowerCase()});var ut=function(t){function e(t,e,n,i){var r,o,s,a,u,l,h,f,p,g;if((e?e.ownerDocument||e:B)!==O&&D(e),e=e||O,n=n||[],a=e.nodeType,"string"!=typeof t||!t||1!==a&&9!==a&&11!==a)return n;if(!i&&M){if(11!==a&&(r=_t.exec(t)))if(s=r[1]){if(9===a){if(o=e.getElementById(s),!o||!o.parentNode)return n;if(o.id===s)return n.push(o),n}else if(e.ownerDocument&&(o=e.ownerDocument.getElementById(s))&&U(e,o)&&o.id===s)return n.push(o),n}else{if(r[2])return Q.apply(n,e.getElementsByTagName(t)),n;if((s=r[3])&&w.getElementsByClassName)return Q.apply(n,e.getElementsByClassName(s)),n}if(w.qsa&&(!R||!R.test(t))){if(f=h=j,p=e,g=1!==a&&t,1===a&&"object"!==e.nodeName.toLowerCase()){for(l=x(t),(h=e.getAttribute("id"))?f=h.replace(bt,"\\$&"):e.setAttribute("id",f),f="[id='"+f+"'] ",u=l.length;u--;)l[u]=f+d(l[u]);p=yt.test(t)&&c(e.parentNode)||e,g=l.join(",")}if(g)try{return Q.apply(n,p.querySelectorAll(g)),n}catch(m){}finally{h||e.removeAttribute("id")}}}return A(t.replace(ut,"$1"),e,n,i)}function n(){function t(n,i){return e.push(n+" ")>E.cacheLength&&delete t[e.shift()],t[n+" "]=i}var e=[];return t}function i(t){return t[j]=!0,t}function r(t){var e=O.createElement("div");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var n=t.split("|"),i=t.length;i--;)E.attrHandle[n[i]]=e}function s(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||G)-(~t.sourceIndex||G);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function a(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function u(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function l(t){return i(function(e){return e=+e,i(function(n,i){for(var r,o=t([],n.length,e),s=o.length;s--;)n[r=o[s]]&&(n[r]=!(i[r]=n[r]))})})}function c(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function h(){}function d(t){for(var e=0,n=t.length,i="";n>e;e++)i+=t[e].value;return i}function f(t,e,n){var i=e.dir,r=n&&"parentNode"===i,o=z++;return e.first?function(e,n,o){for(;e=e[i];)if(1===e.nodeType||r)return t(e,n,o)}:function(e,n,s){var a,u,l=[H,o];if(s){for(;e=e[i];)if((1===e.nodeType||r)&&t(e,n,s))return!0}else for(;e=e[i];)if(1===e.nodeType||r){if(u=e[j]||(e[j]={}),(a=u[i])&&a[0]===H&&a[1]===o)return l[2]=a[2];if(u[i]=l,l[2]=t(e,n,s))return!0}}}function p(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function g(t,n,i){for(var r=0,o=n.length;o>r;r++)e(t,n[r],i);return i}function m(t,e,n,i,r){for(var o,s=[],a=0,u=t.length,l=null!=e;u>a;a++)(o=t[a])&&(!n||n(o,i,r))&&(s.push(o),l&&e.push(a));return s}function v(t,e,n,r,o,s){return r&&!r[j]&&(r=v(r)),o&&!o[j]&&(o=v(o,s)),i(function(i,s,a,u){var l,c,h,d=[],f=[],p=s.length,v=i||g(e||"*",a.nodeType?[a]:a,[]),_=!t||!i&&e?v:m(v,d,t,a,u),y=n?o||(i?t:p||r)?[]:s:_;if(n&&n(_,y,a,u),r)for(l=m(y,f),r(l,[],a,u),c=l.length;c--;)(h=l[c])&&(y[f[c]]=!(_[f[c]]=h));if(i){if(o||t){if(o){for(l=[],c=y.length;c--;)(h=y[c])&&l.push(_[c]=h);o(null,y=[],l,u)}for(c=y.length;c--;)(h=y[c])&&(l=o?tt(i,h):d[c])>-1&&(i[l]=!(s[l]=h))}}else y=m(y===s?y.splice(p,y.length):y),o?o(null,s,y,u):Q.apply(s,y)})}function _(t){for(var e,n,i,r=t.length,o=E.relative[t[0].type],s=o||E.relative[" "],a=o?1:0,u=f(function(t){return t===e},s,!0),l=f(function(t){return tt(e,t)>-1},s,!0),c=[function(t,n,i){var r=!o&&(i||n!==P)||((e=n).nodeType?u(t,n,i):l(t,n,i));return e=null,r}];r>a;a++)if(n=E.relative[t[a].type])c=[f(p(c),n)];else{if(n=E.filter[t[a].type].apply(null,t[a].matches),n[j]){for(i=++a;r>i&&!E.relative[t[i].type];i++);return v(a>1&&p(c),a>1&&d(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(ut,"$1"),n,i>a&&_(t.slice(a,i)),r>i&&_(t=t.slice(i)),r>i&&d(t))}c.push(n)}return p(c)}function y(t,n){var r=n.length>0,o=t.length>0,s=function(i,s,a,u,l){var c,h,d,f=0,p="0",g=i&&[],v=[],_=P,y=i||o&&E.find.TAG("*",l),b=H+=null==_?1:Math.random()||.1,w=y.length;for(l&&(P=s!==O&&s);p!==w&&null!=(c=y[p]);p++){if(o&&c){for(h=0;d=t[h++];)if(d(c,s,a)){u.push(c);break}l&&(H=b)}r&&((c=!d&&c)&&f--,i&&g.push(c))}if(f+=p,r&&p!==f){for(h=0;d=n[h++];)d(g,v,s,a);if(i){if(f>0)for(;p--;)g[p]||v[p]||(v[p]=X.call(u));v=m(v)}Q.apply(u,v),l&&!i&&v.length>0&&f+n.length>1&&e.uniqueSort(u)}return l&&(H=b,P=_),g};return r?i(s):s}var b,w,E,S,k,x,T,A,P,I,C,D,O,L,M,R,N,F,U,j="sizzle"+1*new Date,B=t.document,H=0,z=0,q=n(),$=n(),V=n(),W=function(t,e){return t===e&&(C=!0),0},G=1<<31,K={}.hasOwnProperty,Y=[],X=Y.pop,J=Y.push,Q=Y.push,Z=Y.slice,tt=function(t,e){for(var n=0,i=t.length;i>n;n++)if(t[n]===e)return n;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",it="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",rt=it.replace("w","w#"),ot="\\["+nt+"*("+it+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+rt+"))|)"+nt+"*\\]",st=":("+it+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ot+")*)|.*)\\)|)",at=new RegExp(nt+"+","g"),ut=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),lt=new RegExp("^"+nt+"*,"+nt+"*"),ct=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),ht=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),dt=new RegExp(st),ft=new RegExp("^"+rt+"$"),pt={ID:new RegExp("^#("+it+")"),CLASS:new RegExp("^\\.("+it+")"),TAG:new RegExp("^("+it.replace("w","w*")+")"),ATTR:new RegExp("^"+ot),PSEUDO:new RegExp("^"+st),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},gt=/^(?:input|select|textarea|button)$/i,mt=/^h\d$/i,vt=/^[^{]+\{\s*\[native \w/,_t=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,yt=/[+~]/,bt=/'|\\/g,wt=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),Et=function(t,e,n){var i="0x"+e-65536;return i!==i||n?e:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},St=function(){D()};try{Q.apply(Y=Z.call(B.childNodes),B.childNodes),Y[B.childNodes.length].nodeType}catch(kt){Q={apply:Y.length?function(t,e){J.apply(t,Z.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}w=e.support={},k=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},D=e.setDocument=function(t){var e,n,i=t?t.ownerDocument||t:B;return i!==O&&9===i.nodeType&&i.documentElement?(O=i,L=i.documentElement,n=i.defaultView,n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",St,!1):n.attachEvent&&n.attachEvent("onunload",St)),M=!k(i),w.attributes=r(function(t){return t.className="i",!t.getAttribute("className")}),w.getElementsByTagName=r(function(t){return t.appendChild(i.createComment("")),!t.getElementsByTagName("*").length}),w.getElementsByClassName=vt.test(i.getElementsByClassName),w.getById=r(function(t){return L.appendChild(t).id=j,!i.getElementsByName||!i.getElementsByName(j).length}),w.getById?(E.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&M){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}},E.filter.ID=function(t){var e=t.replace(wt,Et);return function(t){return t.getAttribute("id")===e}}):(delete E.find.ID,E.filter.ID=function(t){var e=t.replace(wt,Et);return function(t){var n="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}}),E.find.TAG=w.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):w.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},E.find.CLASS=w.getElementsByClassName&&function(t,e){return M?e.getElementsByClassName(t):void 0},N=[],R=[],(w.qsa=vt.test(i.querySelectorAll))&&(r(function(t){L.appendChild(t).innerHTML="<a id='"+j+"'></a><select id='"+j+"-\f]' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&R.push("[*^$]="+nt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||R.push("\\["+nt+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+j+"-]").length||R.push("~="),t.querySelectorAll(":checked").length||R.push(":checked"),t.querySelectorAll("a#"+j+"+*").length||R.push(".#.+[+~]")}),r(function(t){var e=i.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&R.push("name"+nt+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||R.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),R.push(",.*:")})),(w.matchesSelector=vt.test(F=L.matches||L.webkitMatchesSelector||L.mozMatchesSelector||L.oMatchesSelector||L.msMatchesSelector))&&r(function(t){w.disconnectedMatch=F.call(t,"div"),F.call(t,"[s!='']:x"),N.push("!=",st)}),R=R.length&&new RegExp(R.join("|")),N=N.length&&new RegExp(N.join("|")),e=vt.test(L.compareDocumentPosition),U=e||vt.test(L.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},W=e?function(t,e){if(t===e)return C=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n?n:(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&n||!w.sortDetached&&e.compareDocumentPosition(t)===n?t===i||t.ownerDocument===B&&U(B,t)?-1:e===i||e.ownerDocument===B&&U(B,e)?1:I?tt(I,t)-tt(I,e):0:4&n?-1:1)}:function(t,e){if(t===e)return C=!0,0;var n,r=0,o=t.parentNode,a=e.parentNode,u=[t],l=[e];if(!o||!a)return t===i?-1:e===i?1:o?-1:a?1:I?tt(I,t)-tt(I,e):0;if(o===a)return s(t,e);for(n=t;n=n.parentNode;)u.unshift(n);for(n=e;n=n.parentNode;)l.unshift(n);for(;u[r]===l[r];)r++;return r?s(u[r],l[r]):u[r]===B?-1:l[r]===B?1:0},i):O},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==O&&D(t),n=n.replace(ht,"='$1']"),w.matchesSelector&&M&&(!N||!N.test(n))&&(!R||!R.test(n)))try{var i=F.call(t,n);if(i||w.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(r){}return e(n,O,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==O&&D(t),U(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==O&&D(t);var n=E.attrHandle[e.toLowerCase()],i=n&&K.call(E.attrHandle,e.toLowerCase())?n(t,e,!M):void 0;return void 0!==i?i:w.attributes||!M?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],i=0,r=0;if(C=!w.detectDuplicates,I=!w.sortStable&&t.slice(0),t.sort(W),C){for(;e=t[r++];)e===t[r]&&(i=n.push(r));for(;i--;)t.splice(n[i],1)}return I=null,t},S=e.getText=function(t){var e,n="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=S(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[i++];)n+=S(e);return n},E=e.selectors={cacheLength:50,createPseudo:i,match:pt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(wt,Et),t[3]=(t[3]||t[4]||t[5]||"").replace(wt,Et),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return pt.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&dt.test(n)&&(e=x(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(wt,Et).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=q[t+" "];return e||(e=new RegExp("(^|"+nt+")"+t+"("+nt+"|$)"))&&q(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,n,i){return function(r){var o=e.attr(r,t);return null==o?"!="===n:n?(o+="","="===n?o===i:"!="===n?o!==i:"^="===n?i&&0===o.indexOf(i):"*="===n?i&&o.indexOf(i)>-1:"$="===n?i&&o.slice(-i.length)===i:"~="===n?(" "+o.replace(at," ")+" ").indexOf(i)>-1:"|="===n?o===i||o.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(t,e,n,i,r){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,u){var l,c,h,d,f,p,g=o!==s?"nextSibling":"previousSibling",m=e.parentNode,v=a&&e.nodeName.toLowerCase(),_=!u&&!a;if(m){if(o){for(;g;){for(h=e;h=h[g];)if(a?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;p=g="only"===t&&!p&&"nextSibling"}return!0}if(p=[s?m.firstChild:m.lastChild],s&&_){for(c=m[j]||(m[j]={}),l=c[t]||[],f=l[0]===H&&l[1],d=l[0]===H&&l[2],h=f&&m.childNodes[f];h=++f&&h&&h[g]||(d=f=0)||p.pop();)if(1===h.nodeType&&++d&&h===e){c[t]=[H,f,d];break}}else if(_&&(l=(e[j]||(e[j]={}))[t])&&l[0]===H)d=l[1];else for(;(h=++f&&h&&h[g]||(d=f=0)||p.pop())&&((a?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++d||(_&&((h[j]||(h[j]={}))[t]=[H,d]),h!==e)););return d-=r,d===i||d%i===0&&d/i>=0}}},PSEUDO:function(t,n){var r,o=E.pseudos[t]||E.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[j]?o(n):o.length>1?(r=[t,t,"",n],E.setFilters.hasOwnProperty(t.toLowerCase())?i(function(t,e){for(var i,r=o(t,n),s=r.length;s--;)i=tt(t,r[s]),t[i]=!(e[i]=r[s])}):function(t){return o(t,0,r)}):o}},pseudos:{not:i(function(t){var e=[],n=[],r=T(t.replace(ut,"$1"));return r[j]?i(function(t,e,n,i){for(var o,s=r(t,null,i,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))}):function(t,i,o){return e[0]=t,r(e,null,o,n),e[0]=null,!n.pop()}}),has:i(function(t){return function(n){return e(t,n).length>0}}),contains:i(function(t){return t=t.replace(wt,Et),function(e){return(e.textContent||e.innerText||S(e)).indexOf(t)>-1}}),lang:i(function(t){return ft.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(wt,Et).toLowerCase(),function(e){var n;do if(n=M?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===L},focus:function(t){return t===O.activeElement&&(!O.hasFocus||O.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!E.pseudos.empty(t)},header:function(t){return mt.test(t.nodeName)},input:function(t){return gt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:l(function(){return[0]}),last:l(function(t,e){return[e-1]}),eq:l(function(t,e,n){return[0>n?n+e:n]}),even:l(function(t,e){for(var n=0;e>n;n+=2)t.push(n);return t}),odd:l(function(t,e){for(var n=1;e>n;n+=2)t.push(n);return t}),lt:l(function(t,e,n){for(var i=0>n?n+e:n;--i>=0;)t.push(i);return t}),gt:l(function(t,e,n){for(var i=0>n?n+e:n;++i<e;)t.push(i);return t})}},E.pseudos.nth=E.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})E.pseudos[b]=a(b);for(b in{submit:!0,reset:!0})E.pseudos[b]=u(b);return h.prototype=E.filters=E.pseudos,E.setFilters=new h,x=e.tokenize=function(t,n){var i,r,o,s,a,u,l,c=$[t+" "];if(c)return n?0:c.slice(0);for(a=t,u=[],l=E.preFilter;a;){(!i||(r=lt.exec(a)))&&(r&&(a=a.slice(r[0].length)||a),u.push(o=[])),i=!1,(r=ct.exec(a))&&(i=r.shift(),o.push({value:i,type:r[0].replace(ut," ")}),a=a.slice(i.length));for(s in E.filter)!(r=pt[s].exec(a))||l[s]&&!(r=l[s](r))||(i=r.shift(),o.push({value:i,type:s,matches:r}),a=a.slice(i.length));if(!i)break}return n?a.length:a?e.error(t):$(t,u).slice(0)},T=e.compile=function(t,e){var n,i=[],r=[],o=V[t+" "];if(!o){for(e||(e=x(t)),n=e.length;n--;)o=_(e[n]),o[j]?i.push(o):r.push(o);o=V(t,y(r,i)),o.selector=t}return o},A=e.select=function(t,e,n,i){var r,o,s,a,u,l="function"==typeof t&&t,h=!i&&x(t=l.selector||t);if(n=n||[],1===h.length){if(o=h[0]=h[0].slice(0),o.length>2&&"ID"===(s=o[0]).type&&w.getById&&9===e.nodeType&&M&&E.relative[o[1].type]){if(e=(E.find.ID(s.matches[0].replace(wt,Et),e)||[])[0],!e)return n;l&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(r=pt.needsContext.test(t)?0:o.length;r--&&(s=o[r],!E.relative[a=s.type]);)if((u=E.find[a])&&(i=u(s.matches[0].replace(wt,Et),yt.test(o[0].type)&&c(e.parentNode)||e))){if(o.splice(r,1),t=i.length&&d(o),!t)return Q.apply(n,i),n;break}}return(l||T(t,h))(i,e,!M,n,yt.test(t)&&c(e.parentNode)||e),n},w.sortStable=j.split("").sort(W).join("")===j,w.detectDuplicates=!!C,D(),w.sortDetached=r(function(t){return 1&t.compareDocumentPosition(O.createElement("div"))}),r(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,n){return n?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),w.attributes&&r(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,n){return n||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),r(function(t){return null==t.getAttribute("disabled")})||o(et,function(t,e,n){var i;return n?void 0:t[e]===!0?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),e}(n);it.find=ut,it.expr=ut.selectors,it.expr[":"]=it.expr.pseudos,it.unique=ut.uniqueSort,it.text=ut.getText,it.isXMLDoc=ut.isXML,it.contains=ut.contains;var lt=it.expr.match.needsContext,ct=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ht=/^.[^:#\[\.,]*$/;
it.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?it.find.matchesSelector(i,t)?[i]:[]:it.find.matches(t,it.grep(e,function(t){return 1===t.nodeType}))},it.fn.extend({find:function(t){var e,n=this.length,i=[],r=this;if("string"!=typeof t)return this.pushStack(it(t).filter(function(){for(e=0;n>e;e++)if(it.contains(r[e],this))return!0}));for(e=0;n>e;e++)it.find(t,r[e],i);return i=this.pushStack(n>1?it.unique(i):i),i.selector=this.selector?this.selector+" "+t:t,i},filter:function(t){return this.pushStack(a(this,t||[],!1))},not:function(t){return this.pushStack(a(this,t||[],!0))},is:function(t){return!!a(this,"string"==typeof t&&lt.test(t)?it(t):t||[],!1).length}});var dt,ft=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,pt=it.fn.init=function(t,e){var n,i;if(!t)return this;if("string"==typeof t){if(n="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:ft.exec(t),!n||!n[1]&&e)return!e||e.jquery?(e||dt).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof it?e[0]:e,it.merge(this,it.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:et,!0)),ct.test(n[1])&&it.isPlainObject(e))for(n in e)it.isFunction(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}return i=et.getElementById(n[2]),i&&i.parentNode&&(this.length=1,this[0]=i),this.context=et,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):it.isFunction(t)?"undefined"!=typeof dt.ready?dt.ready(t):t(it):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),it.makeArray(t,this))};pt.prototype=it.fn,dt=it(et);var gt=/^(?:parents|prev(?:Until|All))/,mt={children:!0,contents:!0,next:!0,prev:!0};it.extend({dir:function(t,e,n){for(var i=[],r=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&it(t).is(n))break;i.push(t)}return i},sibling:function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n}}),it.fn.extend({has:function(t){var e=it(t,this),n=e.length;return this.filter(function(){for(var t=0;n>t;t++)if(it.contains(this,e[t]))return!0})},closest:function(t,e){for(var n,i=0,r=this.length,o=[],s=lt.test(t)||"string"!=typeof t?it(t,e||this.context):0;r>i;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&it.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?it.unique(o):o)},index:function(t){return t?"string"==typeof t?X.call(it(t),this[0]):X.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(it.unique(it.merge(this.get(),it(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),it.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return it.dir(t,"parentNode")},parentsUntil:function(t,e,n){return it.dir(t,"parentNode",n)},next:function(t){return u(t,"nextSibling")},prev:function(t){return u(t,"previousSibling")},nextAll:function(t){return it.dir(t,"nextSibling")},prevAll:function(t){return it.dir(t,"previousSibling")},nextUntil:function(t,e,n){return it.dir(t,"nextSibling",n)},prevUntil:function(t,e,n){return it.dir(t,"previousSibling",n)},siblings:function(t){return it.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return it.sibling(t.firstChild)},contents:function(t){return t.contentDocument||it.merge([],t.childNodes)}},function(t,e){it.fn[t]=function(n,i){var r=it.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=it.filter(i,r)),this.length>1&&(mt[t]||it.unique(r),gt.test(t)&&r.reverse()),this.pushStack(r)}});var vt=/\S+/g,_t={};it.Callbacks=function(t){t="string"==typeof t?_t[t]||l(t):it.extend({},t);var e,n,i,r,o,s,a=[],u=!t.once&&[],c=function(l){for(e=t.memory&&l,n=!0,s=r||0,r=0,o=a.length,i=!0;a&&o>s;s++)if(a[s].apply(l[0],l[1])===!1&&t.stopOnFalse){e=!1;break}i=!1,a&&(u?u.length&&c(u.shift()):e?a=[]:h.disable())},h={add:function(){if(a){var n=a.length;!function s(e){it.each(e,function(e,n){var i=it.type(n);"function"===i?t.unique&&h.has(n)||a.push(n):n&&n.length&&"string"!==i&&s(n)})}(arguments),i?o=a.length:e&&(r=n,c(e))}return this},remove:function(){return a&&it.each(arguments,function(t,e){for(var n;(n=it.inArray(e,a,n))>-1;)a.splice(n,1),i&&(o>=n&&o--,s>=n&&s--)}),this},has:function(t){return t?it.inArray(t,a)>-1:!(!a||!a.length)},empty:function(){return a=[],o=0,this},disable:function(){return a=u=e=void 0,this},disabled:function(){return!a},lock:function(){return u=void 0,e||h.disable(),this},locked:function(){return!u},fireWith:function(t,e){return!a||n&&!u||(e=e||[],e=[t,e.slice?e.slice():e],i?u.push(e):c(e)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!n}};return h},it.extend({Deferred:function(t){var e=[["resolve","done",it.Callbacks("once memory"),"resolved"],["reject","fail",it.Callbacks("once memory"),"rejected"],["notify","progress",it.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var t=arguments;return it.Deferred(function(n){it.each(e,function(e,o){var s=it.isFunction(t[e])&&t[e];r[o[1]](function(){var t=s&&s.apply(this,arguments);t&&it.isFunction(t.promise)?t.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===i?n.promise():this,s?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?it.extend(t,i):i}},r={};return i.pipe=i.then,it.each(e,function(t,o){var s=o[2],a=o[3];i[o[1]]=s.add,a&&s.add(function(){n=a},e[1^t][2].disable,e[2][2].lock),r[o[0]]=function(){return r[o[0]+"With"](this===r?i:this,arguments),this},r[o[0]+"With"]=s.fireWith}),i.promise(r),t&&t.call(r,r),r},when:function(t){var e,n,i,r=0,o=G.call(arguments),s=o.length,a=1!==s||t&&it.isFunction(t.promise)?s:0,u=1===a?t:it.Deferred(),l=function(t,n,i){return function(r){n[t]=this,i[t]=arguments.length>1?G.call(arguments):r,i===e?u.notifyWith(n,i):--a||u.resolveWith(n,i)}};if(s>1)for(e=new Array(s),n=new Array(s),i=new Array(s);s>r;r++)o[r]&&it.isFunction(o[r].promise)?o[r].promise().done(l(r,i,o)).fail(u.reject).progress(l(r,n,e)):--a;return a||u.resolveWith(i,o),u.promise()}});var yt;it.fn.ready=function(t){return it.ready.promise().done(t),this},it.extend({isReady:!1,readyWait:1,holdReady:function(t){t?it.readyWait++:it.ready(!0)},ready:function(t){(t===!0?--it.readyWait:it.isReady)||(it.isReady=!0,t!==!0&&--it.readyWait>0||(yt.resolveWith(et,[it]),it.fn.triggerHandler&&(it(et).triggerHandler("ready"),it(et).off("ready"))))}}),it.ready.promise=function(t){return yt||(yt=it.Deferred(),"complete"===et.readyState?setTimeout(it.ready):(et.addEventListener("DOMContentLoaded",c,!1),n.addEventListener("load",c,!1))),yt.promise(t)},it.ready.promise();var bt=it.access=function(t,e,n,i,r,o,s){var a=0,u=t.length,l=null==n;if("object"===it.type(n)){r=!0;for(a in n)it.access(t,e,a,n[a],!0,o,s)}else if(void 0!==i&&(r=!0,it.isFunction(i)||(s=!0),l&&(s?(e.call(t,i),e=null):(l=e,e=function(t,e,n){return l.call(it(t),n)})),e))for(;u>a;a++)e(t[a],n,s?i:i.call(t[a],a,e(t[a],n)));return r?t:l?e.call(t):u?e(t[0],n):o};it.acceptData=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType},h.uid=1,h.accepts=it.acceptData,h.prototype={key:function(t){if(!h.accepts(t))return 0;var e={},n=t[this.expando];if(!n){n=h.uid++;try{e[this.expando]={value:n},Object.defineProperties(t,e)}catch(i){e[this.expando]=n,it.extend(t,e)}}return this.cache[n]||(this.cache[n]={}),n},set:function(t,e,n){var i,r=this.key(t),o=this.cache[r];if("string"==typeof e)o[e]=n;else if(it.isEmptyObject(o))it.extend(this.cache[r],e);else for(i in e)o[i]=e[i];return o},get:function(t,e){var n=this.cache[this.key(t)];return void 0===e?n:n[e]},access:function(t,e,n){var i;return void 0===e||e&&"string"==typeof e&&void 0===n?(i=this.get(t,e),void 0!==i?i:this.get(t,it.camelCase(e))):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i,r,o=this.key(t),s=this.cache[o];if(void 0===e)this.cache[o]={};else{it.isArray(e)?i=e.concat(e.map(it.camelCase)):(r=it.camelCase(e),e in s?i=[e,r]:(i=r,i=i in s?[i]:i.match(vt)||[])),n=i.length;for(;n--;)delete s[i[n]]}},hasData:function(t){return!it.isEmptyObject(this.cache[t[this.expando]]||{})},discard:function(t){t[this.expando]&&delete this.cache[t[this.expando]]}};var wt=new h,Et=new h,St=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,kt=/([A-Z])/g;it.extend({hasData:function(t){return Et.hasData(t)||wt.hasData(t)},data:function(t,e,n){return Et.access(t,e,n)},removeData:function(t,e){Et.remove(t,e)},_data:function(t,e,n){return wt.access(t,e,n)},_removeData:function(t,e){wt.remove(t,e)}}),it.fn.extend({data:function(t,e){var n,i,r,o=this[0],s=o&&o.attributes;if(void 0===t){if(this.length&&(r=Et.get(o),1===o.nodeType&&!wt.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&(i=s[n].name,0===i.indexOf("data-")&&(i=it.camelCase(i.slice(5)),d(o,i,r[i])));wt.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each(function(){Et.set(this,t)}):bt(this,function(e){var n,i=it.camelCase(t);if(o&&void 0===e){if(n=Et.get(o,t),void 0!==n)return n;if(n=Et.get(o,i),void 0!==n)return n;if(n=d(o,i,void 0),void 0!==n)return n}else this.each(function(){var n=Et.get(this,i);Et.set(this,i,e),-1!==t.indexOf("-")&&void 0!==n&&Et.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){Et.remove(this,t)})}}),it.extend({queue:function(t,e,n){var i;return t?(e=(e||"fx")+"queue",i=wt.get(t,e),n&&(!i||it.isArray(n)?i=wt.access(t,e,it.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(t,e){e=e||"fx";var n=it.queue(t,e),i=n.length,r=n.shift(),o=it._queueHooks(t,e),s=function(){it.dequeue(t,e)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,s,o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return wt.get(t,n)||wt.access(t,n,{empty:it.Callbacks("once memory").add(function(){wt.remove(t,[e+"queue",n])})})}}),it.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?it.queue(this[0],t):void 0===e?this:this.each(function(){var n=it.queue(this,t,e);it._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&it.dequeue(this,t)})},dequeue:function(t){return this.each(function(){it.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=it.Deferred(),o=this,s=this.length,a=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)n=wt.get(o[s],t+"queueHooks"),n&&n.empty&&(i++,n.empty.add(a));return a(),r.promise(e)}});var xt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Tt=["Top","Right","Bottom","Left"],At=function(t,e){return t=e||t,"none"===it.css(t,"display")||!it.contains(t.ownerDocument,t)},Pt=/^(?:checkbox|radio)$/i;!function(){var t=et.createDocumentFragment(),e=t.appendChild(et.createElement("div")),n=et.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),e.appendChild(n),tt.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",tt.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var It="undefined";tt.focusinBubbles="onfocusin"in n;var Ct=/^key/,Dt=/^(?:mouse|pointer|contextmenu)|click/,Ot=/^(?:focusinfocus|focusoutblur)$/,Lt=/^([^.]*)(?:\.(.+)|)$/;it.event={global:{},add:function(t,e,n,i,r){var o,s,a,u,l,c,h,d,f,p,g,m=wt.get(t);if(m)for(n.handler&&(o=n,n=o.handler,r=o.selector),n.guid||(n.guid=it.guid++),(u=m.events)||(u=m.events={}),(s=m.handle)||(s=m.handle=function(e){return typeof it!==It&&it.event.triggered!==e.type?it.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(vt)||[""],l=e.length;l--;)a=Lt.exec(e[l])||[],f=g=a[1],p=(a[2]||"").split(".").sort(),f&&(h=it.event.special[f]||{},f=(r?h.delegateType:h.bindType)||f,h=it.event.special[f]||{},c=it.extend({type:f,origType:g,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&it.expr.match.needsContext.test(r),namespace:p.join(".")},o),(d=u[f])||(d=u[f]=[],d.delegateCount=0,h.setup&&h.setup.call(t,i,p,s)!==!1||t.addEventListener&&t.addEventListener(f,s,!1)),h.add&&(h.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),r?d.splice(d.delegateCount++,0,c):d.push(c),it.event.global[f]=!0)},remove:function(t,e,n,i,r){var o,s,a,u,l,c,h,d,f,p,g,m=wt.hasData(t)&&wt.get(t);if(m&&(u=m.events)){for(e=(e||"").match(vt)||[""],l=e.length;l--;)if(a=Lt.exec(e[l])||[],f=g=a[1],p=(a[2]||"").split(".").sort(),f){for(h=it.event.special[f]||{},f=(i?h.delegateType:h.bindType)||f,d=u[f]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=d.length;o--;)c=d[o],!r&&g!==c.origType||n&&n.guid!==c.guid||a&&!a.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(d.splice(o,1),c.selector&&d.delegateCount--,h.remove&&h.remove.call(t,c));s&&!d.length&&(h.teardown&&h.teardown.call(t,p,m.handle)!==!1||it.removeEvent(t,f,m.handle),delete u[f])}else for(f in u)it.event.remove(t,f+e[l],n,i,!0);it.isEmptyObject(u)&&(delete m.handle,wt.remove(t,"events"))}},trigger:function(t,e,i,r){var o,s,a,u,l,c,h,d=[i||et],f=Z.call(t,"type")?t.type:t,p=Z.call(t,"namespace")?t.namespace.split("."):[];if(s=a=i=i||et,3!==i.nodeType&&8!==i.nodeType&&!Ot.test(f+it.event.triggered)&&(f.indexOf(".")>=0&&(p=f.split("."),f=p.shift(),p.sort()),l=f.indexOf(":")<0&&"on"+f,t=t[it.expando]?t:new it.Event(f,"object"==typeof t&&t),t.isTrigger=r?2:3,t.namespace=p.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),e=null==e?[t]:it.makeArray(e,[t]),h=it.event.special[f]||{},r||!h.trigger||h.trigger.apply(i,e)!==!1)){if(!r&&!h.noBubble&&!it.isWindow(i)){for(u=h.delegateType||f,Ot.test(u+f)||(s=s.parentNode);s;s=s.parentNode)d.push(s),a=s;a===(i.ownerDocument||et)&&d.push(a.defaultView||a.parentWindow||n)}for(o=0;(s=d[o++])&&!t.isPropagationStopped();)t.type=o>1?u:h.bindType||f,c=(wt.get(s,"events")||{})[t.type]&&wt.get(s,"handle"),c&&c.apply(s,e),c=l&&s[l],c&&c.apply&&it.acceptData(s)&&(t.result=c.apply(s,e),t.result===!1&&t.preventDefault());return t.type=f,r||t.isDefaultPrevented()||h._default&&h._default.apply(d.pop(),e)!==!1||!it.acceptData(i)||l&&it.isFunction(i[f])&&!it.isWindow(i)&&(a=i[l],a&&(i[l]=null),it.event.triggered=f,i[f](),it.event.triggered=void 0,a&&(i[l]=a)),t.result}},dispatch:function(t){t=it.event.fix(t);var e,n,i,r,o,s=[],a=G.call(arguments),u=(wt.get(this,"events")||{})[t.type]||[],l=it.event.special[t.type]||{};if(a[0]=t,t.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,t)!==!1){for(s=it.event.handlers.call(this,t,u),e=0;(r=s[e++])&&!t.isPropagationStopped();)for(t.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!t.isImmediatePropagationStopped();)(!t.namespace_re||t.namespace_re.test(o.namespace))&&(t.handleObj=o,t.data=o.data,i=((it.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,a),void 0!==i&&(t.result=i)===!1&&(t.preventDefault(),t.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,i,r,o,s=[],a=e.delegateCount,u=t.target;if(a&&u.nodeType&&(!t.button||"click"!==t.type))for(;u!==this;u=u.parentNode||this)if(u.disabled!==!0||"click"!==t.type){for(i=[],n=0;a>n;n++)o=e[n],r=o.selector+" ",void 0===i[r]&&(i[r]=o.needsContext?it(r,this).index(u)>=0:it.find(r,this,null,[u]).length),i[r]&&i.push(o);i.length&&s.push({elem:u,handlers:i})}return a<e.length&&s.push({elem:this,handlers:e.slice(a)}),s},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,i,r,o=e.button;return null==t.pageX&&null!=e.clientX&&(n=t.target.ownerDocument||et,i=n.documentElement,r=n.body,t.pageX=e.clientX+(i&&i.scrollLeft||r&&r.scrollLeft||0)-(i&&i.clientLeft||r&&r.clientLeft||0),t.pageY=e.clientY+(i&&i.scrollTop||r&&r.scrollTop||0)-(i&&i.clientTop||r&&r.clientTop||0)),t.which||void 0===o||(t.which=1&o?1:2&o?3:4&o?2:0),t}},fix:function(t){if(t[it.expando])return t;var e,n,i,r=t.type,o=t,s=this.fixHooks[r];for(s||(this.fixHooks[r]=s=Dt.test(r)?this.mouseHooks:Ct.test(r)?this.keyHooks:{}),i=s.props?this.props.concat(s.props):this.props,t=new it.Event(o),e=i.length;e--;)n=i[e],t[n]=o[n];return t.target||(t.target=et),3===t.target.nodeType&&(t.target=t.target.parentNode),s.filter?s.filter(t,o):t},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==g()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===g()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&it.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(t){return it.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n,i){var r=it.extend(new it.Event,n,{type:t,isSimulated:!0,originalEvent:{}});i?it.event.trigger(r,null,e):it.event.dispatch.call(e,r),r.isDefaultPrevented()&&n.preventDefault()}},it.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n,!1)},it.Event=function(t,e){return this instanceof it.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?f:p):this.type=t,e&&it.extend(this,e),this.timeStamp=t&&t.timeStamp||it.now(),void(this[it.expando]=!0)):new it.Event(t,e)},it.Event.prototype={isDefaultPrevented:p,isPropagationStopped:p,isImmediatePropagationStopped:p,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=f,t&&t.preventDefault&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=f,t&&t.stopPropagation&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=f,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},it.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){it.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,r=t.relatedTarget,o=t.handleObj;return(!r||r!==i&&!it.contains(i,r))&&(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}}),tt.focusinBubbles||it.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){it.event.simulate(e,t.target,it.event.fix(t),!0)};it.event.special[e]={setup:function(){var i=this.ownerDocument||this,r=wt.access(i,e);r||i.addEventListener(t,n,!0),wt.access(i,e,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=wt.access(i,e)-1;r?wt.access(i,e,r):(i.removeEventListener(t,n,!0),wt.remove(i,e))}}}),it.fn.extend({on:function(t,e,n,i,r){var o,s;if("object"==typeof t){"string"!=typeof e&&(n=n||e,e=void 0);for(s in t)this.on(s,e,n,t[s],r);return this}if(null==n&&null==i?(i=e,n=e=void 0):null==i&&("string"==typeof e?(i=n,n=void 0):(i=n,n=e,e=void 0)),i===!1)i=p;else if(!i)return this;return 1===r&&(o=i,i=function(t){return it().off(t),o.apply(this,arguments)},i.guid=o.guid||(o.guid=it.guid++)),this.each(function(){it.event.add(this,t,i,n,e)})},one:function(t,e,n,i){return this.on(t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,it(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return(e===!1||"function"==typeof e)&&(n=e,e=void 0),n===!1&&(n=p),this.each(function(){it.event.remove(this,t,n,e)})},trigger:function(t,e){return this.each(function(){it.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];return n?it.event.trigger(t,e,n,!0):void 0}});var Mt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Rt=/<([\w:]+)/,Nt=/<|&#?\w+;/,Ft=/<(?:script|style|link)/i,Ut=/checked\s*(?:[^=]|=\s*.checked.)/i,jt=/^$|\/(?:java|ecma)script/i,Bt=/^true\/(.*)/,Ht=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,zt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};zt.optgroup=zt.option,zt.tbody=zt.tfoot=zt.colgroup=zt.caption=zt.thead,zt.th=zt.td,it.extend({clone:function(t,e,n){var i,r,o,s,a=t.cloneNode(!0),u=it.contains(t.ownerDocument,t);if(!(tt.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||it.isXMLDoc(t)))for(s=w(a),o=w(t),i=0,r=o.length;r>i;i++)E(o[i],s[i]);if(e)if(n)for(o=o||w(t),s=s||w(a),i=0,r=o.length;r>i;i++)b(o[i],s[i]);else b(t,a);return s=w(a,"script"),s.length>0&&y(s,!u&&w(t,"script")),a},buildFragment:function(t,e,n,i){for(var r,o,s,a,u,l,c=e.createDocumentFragment(),h=[],d=0,f=t.length;f>d;d++)if(r=t[d],r||0===r)if("object"===it.type(r))it.merge(h,r.nodeType?[r]:r);else if(Nt.test(r)){for(o=o||c.appendChild(e.createElement("div")),s=(Rt.exec(r)||["",""])[1].toLowerCase(),a=zt[s]||zt._default,o.innerHTML=a[1]+r.replace(Mt,"<$1></$2>")+a[2],l=a[0];l--;)o=o.lastChild;it.merge(h,o.childNodes),o=c.firstChild,o.textContent=""}else h.push(e.createTextNode(r));for(c.textContent="",d=0;r=h[d++];)if((!i||-1===it.inArray(r,i))&&(u=it.contains(r.ownerDocument,r),o=w(c.appendChild(r),"script"),u&&y(o),n))for(l=0;r=o[l++];)jt.test(r.type||"")&&n.push(r);return c},cleanData:function(t){for(var e,n,i,r,o=it.event.special,s=0;void 0!==(n=t[s]);s++){if(it.acceptData(n)&&(r=n[wt.expando],r&&(e=wt.cache[r]))){if(e.events)for(i in e.events)o[i]?it.event.remove(n,i):it.removeEvent(n,i,e.handle);wt.cache[r]&&delete wt.cache[r]}delete Et.cache[n[Et.expando]]}}}),it.fn.extend({text:function(t){return bt(this,function(t){return void 0===t?it.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=t)})},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=m(this,t);e.appendChild(t)}})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=m(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var n,i=t?it.filter(t,this):this,r=0;null!=(n=i[r]);r++)e||1!==n.nodeType||it.cleanData(w(n)),n.parentNode&&(e&&it.contains(n.ownerDocument,n)&&y(w(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(it.cleanData(w(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return it.clone(this,t,e)})},html:function(t){return bt(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Ft.test(t)&&!zt[(Rt.exec(t)||["",""])[1].toLowerCase()]){t=t.replace(Mt,"<$1></$2>");try{for(;i>n;n++)e=this[n]||{},1===e.nodeType&&(it.cleanData(w(e,!1)),e.innerHTML=t);e=0}catch(r){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=arguments[0];return this.domManip(arguments,function(e){t=this.parentNode,it.cleanData(w(this)),t&&t.replaceChild(e,this)}),t&&(t.length||t.nodeType)?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(t,e){t=K.apply([],t);var n,i,r,o,s,a,u=0,l=this.length,c=this,h=l-1,d=t[0],f=it.isFunction(d);if(f||l>1&&"string"==typeof d&&!tt.checkClone&&Ut.test(d))return this.each(function(n){var i=c.eq(n);f&&(t[0]=d.call(this,n,i.html())),i.domManip(t,e)});if(l&&(n=it.buildFragment(t,this[0].ownerDocument,!1,this),i=n.firstChild,1===n.childNodes.length&&(n=i),i)){for(r=it.map(w(n,"script"),v),o=r.length;l>u;u++)s=n,u!==h&&(s=it.clone(s,!0,!0),o&&it.merge(r,w(s,"script"))),e.call(this[u],s,u);if(o)for(a=r[r.length-1].ownerDocument,it.map(r,_),u=0;o>u;u++)s=r[u],jt.test(s.type||"")&&!wt.access(s,"globalEval")&&it.contains(a,s)&&(s.src?it._evalUrl&&it._evalUrl(s.src):it.globalEval(s.textContent.replace(Ht,"")))}return this}}),it.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){it.fn[t]=function(t){for(var n,i=[],r=it(t),o=r.length-1,s=0;o>=s;s++)n=s===o?this:this.clone(!0),it(r[s])[e](n),Y.apply(i,n.get());return this.pushStack(i)}});var qt,$t={},Vt=/^margin/,Wt=new RegExp("^("+xt+")(?!px)[a-z%]+$","i"),Gt=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):n.getComputedStyle(t,null)};!function(){function t(){s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",s.innerHTML="",r.appendChild(o);var t=n.getComputedStyle(s,null);e="1%"!==t.top,i="4px"===t.width,r.removeChild(o)}var e,i,r=et.documentElement,o=et.createElement("div"),s=et.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",tt.clearCloneStyle="content-box"===s.style.backgroundClip,o.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",o.appendChild(s),n.getComputedStyle&&it.extend(tt,{pixelPosition:function(){return t(),e},boxSizingReliable:function(){return null==i&&t(),i},reliableMarginRight:function(){var t,e=s.appendChild(et.createElement("div"));return e.style.cssText=s.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",e.style.marginRight=e.style.width="0",s.style.width="1px",r.appendChild(o),t=!parseFloat(n.getComputedStyle(e,null).marginRight),r.removeChild(o),s.removeChild(e),t}}))}(),it.swap=function(t,e,n,i){var r,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];r=n.apply(t,i||[]);for(o in e)t.style[o]=s[o];return r};var Kt=/^(none|table(?!-c[ea]).+)/,Yt=new RegExp("^("+xt+")(.*)$","i"),Xt=new RegExp("^([+-])=("+xt+")","i"),Jt={position:"absolute",visibility:"hidden",display:"block"},Qt={letterSpacing:"0",fontWeight:"400"},Zt=["Webkit","O","Moz","ms"];it.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=x(t,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,s,a=it.camelCase(e),u=t.style;return e=it.cssProps[a]||(it.cssProps[a]=A(u,a)),s=it.cssHooks[e]||it.cssHooks[a],void 0===n?s&&"get"in s&&void 0!==(r=s.get(t,!1,i))?r:u[e]:(o=typeof n,"string"===o&&(r=Xt.exec(n))&&(n=(r[1]+1)*r[2]+parseFloat(it.css(t,e)),o="number"),null!=n&&n===n&&("number"!==o||it.cssNumber[a]||(n+="px"),tt.clearCloneStyle||""!==n||0!==e.indexOf("background")||(u[e]="inherit"),s&&"set"in s&&void 0===(n=s.set(t,n,i))||(u[e]=n)),void 0)}},css:function(t,e,n,i){var r,o,s,a=it.camelCase(e);return e=it.cssProps[a]||(it.cssProps[a]=A(t.style,a)),s=it.cssHooks[e]||it.cssHooks[a],s&&"get"in s&&(r=s.get(t,!0,n)),void 0===r&&(r=x(t,e,i)),"normal"===r&&e in Qt&&(r=Qt[e]),""===n||n?(o=parseFloat(r),n===!0||it.isNumeric(o)?o||0:r):r}}),it.each(["height","width"],function(t,e){it.cssHooks[e]={get:function(t,n,i){return n?Kt.test(it.css(t,"display"))&&0===t.offsetWidth?it.swap(t,Jt,function(){return C(t,e,i)}):C(t,e,i):void 0},set:function(t,n,i){var r=i&&Gt(t);return P(t,n,i?I(t,e,i,"border-box"===it.css(t,"boxSizing",!1,r),r):0)}}}),it.cssHooks.marginRight=T(tt.reliableMarginRight,function(t,e){return e?it.swap(t,{display:"inline-block"},x,[t,"marginRight"]):void 0}),it.each({margin:"",padding:"",border:"Width"},function(t,e){it.cssHooks[t+e]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];4>i;i++)r[t+Tt[i]+e]=o[i]||o[i-2]||o[0];return r}},Vt.test(t)||(it.cssHooks[t+e].set=P)}),it.fn.extend({css:function(t,e){return bt(this,function(t,e,n){var i,r,o={},s=0;if(it.isArray(e)){for(i=Gt(t),r=e.length;r>s;s++)o[e[s]]=it.css(t,e[s],!1,i);return o}return void 0!==n?it.style(t,e,n):it.css(t,e)},t,e,arguments.length>1)},show:function(){return D(this,!0)},hide:function(){return D(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){At(this)?it(this).show():it(this).hide()})}}),it.Tween=O,O.prototype={constructor:O,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||"swing",this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(it.cssNumber[n]?"":"px")},cur:function(){var t=O.propHooks[this.prop];return t&&t.get?t.get(this):O.propHooks._default.get(this)},run:function(t){var e,n=O.propHooks[this.prop];return this.options.duration?this.pos=e=it.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):O.propHooks._default.set(this),this}},O.prototype.init.prototype=O.prototype,O.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=it.css(t.elem,t.prop,""),e&&"auto"!==e?e:0):t.elem[t.prop]},set:function(t){it.fx.step[t.prop]?it.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[it.cssProps[t.prop]]||it.cssHooks[t.prop])?it.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},O.propHooks.scrollTop=O.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},it.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},it.fx=O.prototype.init,it.fx.step={};var te,ee,ne=/^(?:toggle|show|hide)$/,ie=new RegExp("^(?:([+-])=|)("+xt+")([a-z%]*)$","i"),re=/queueHooks$/,oe=[N],se={"*":[function(t,e){var n=this.createTween(t,e),i=n.cur(),r=ie.exec(e),o=r&&r[3]||(it.cssNumber[t]?"":"px"),s=(it.cssNumber[t]||"px"!==o&&+i)&&ie.exec(it.css(n.elem,t)),a=1,u=20;if(s&&s[3]!==o){o=o||s[3],r=r||[],s=+i||1;do a=a||".5",s/=a,it.style(n.elem,t,s+o);while(a!==(a=n.cur()/i)&&1!==a&&--u)}return r&&(s=n.start=+s||+i||0,n.unit=o,n.end=r[1]?s+(r[1]+1)*r[2]:+r[2]),n}]};it.Animation=it.extend(U,{tweener:function(t,e){it.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var n,i=0,r=t.length;r>i;i++)n=t[i],se[n]=se[n]||[],se[n].unshift(e)},prefilter:function(t,e){e?oe.unshift(t):oe.push(t)}}),it.speed=function(t,e,n){var i=t&&"object"==typeof t?it.extend({},t):{complete:n||!n&&e||it.isFunction(t)&&t,duration:t,easing:n&&e||e&&!it.isFunction(e)&&e};return i.duration=it.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in it.fx.speeds?it.fx.speeds[i.duration]:it.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){it.isFunction(i.old)&&i.old.call(this),i.queue&&it.dequeue(this,i.queue)},i},it.fn.extend({fadeTo:function(t,e,n,i){return this.filter(At).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=it.isEmptyObject(t),o=it.speed(e,n,i),s=function(){var e=U(this,it.extend({},t),o);(r||wt.get(this,"finish"))&&e.stop(!0)};return s.finish=s,r||o.queue===!1?this.each(s):this.queue(o.queue,s)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,
e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",o=it.timers,s=wt.get(this);if(r)s[r]&&s[r].stop&&i(s[r]);else for(r in s)s[r]&&s[r].stop&&re.test(r)&&i(s[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(n),e=!1,o.splice(r,1));(e||!n)&&it.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,n=wt.get(this),i=n[t+"queue"],r=n[t+"queueHooks"],o=it.timers,s=i?i.length:0;for(n.finish=!0,it.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;s>e;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),it.each(["toggle","show","hide"],function(t,e){var n=it.fn[e];it.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(M(e,!0),t,i,r)}}),it.each({slideDown:M("show"),slideUp:M("hide"),slideToggle:M("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){it.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),it.timers=[],it.fx.tick=function(){var t,e=0,n=it.timers;for(te=it.now();e<n.length;e++)t=n[e],t()||n[e]!==t||n.splice(e--,1);n.length||it.fx.stop(),te=void 0},it.fx.timer=function(t){it.timers.push(t),t()?it.fx.start():it.timers.pop()},it.fx.interval=13,it.fx.start=function(){ee||(ee=setInterval(it.fx.tick,it.fx.interval))},it.fx.stop=function(){clearInterval(ee),ee=null},it.fx.speeds={slow:600,fast:200,_default:400},it.fn.delay=function(t,e){return t=it.fx?it.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,n){var i=setTimeout(e,t);n.stop=function(){clearTimeout(i)}})},function(){var t=et.createElement("input"),e=et.createElement("select"),n=e.appendChild(et.createElement("option"));t.type="checkbox",tt.checkOn=""!==t.value,tt.optSelected=n.selected,e.disabled=!0,tt.optDisabled=!n.disabled,t=et.createElement("input"),t.value="t",t.type="radio",tt.radioValue="t"===t.value}();var ae,ue,le=it.expr.attrHandle;it.fn.extend({attr:function(t,e){return bt(this,it.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){it.removeAttr(this,t)})}}),it.extend({attr:function(t,e,n){var i,r,o=t.nodeType;if(t&&3!==o&&8!==o&&2!==o)return typeof t.getAttribute===It?it.prop(t,e,n):(1===o&&it.isXMLDoc(t)||(e=e.toLowerCase(),i=it.attrHooks[e]||(it.expr.match.bool.test(e)?ue:ae)),void 0===n?i&&"get"in i&&null!==(r=i.get(t,e))?r:(r=it.find.attr(t,e),null==r?void 0:r):null!==n?i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:(t.setAttribute(e,n+""),n):void it.removeAttr(t,e))},removeAttr:function(t,e){var n,i,r=0,o=e&&e.match(vt);if(o&&1===t.nodeType)for(;n=o[r++];)i=it.propFix[n]||n,it.expr.match.bool.test(n)&&(t[i]=!1),t.removeAttribute(n)},attrHooks:{type:{set:function(t,e){if(!tt.radioValue&&"radio"===e&&it.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}}}),ue={set:function(t,e,n){return e===!1?it.removeAttr(t,n):t.setAttribute(n,n),n}},it.each(it.expr.match.bool.source.match(/\w+/g),function(t,e){var n=le[e]||it.find.attr;le[e]=function(t,e,i){var r,o;return i||(o=le[e],le[e]=r,r=null!=n(t,e,i)?e.toLowerCase():null,le[e]=o),r}});var ce=/^(?:input|select|textarea|button)$/i;it.fn.extend({prop:function(t,e){return bt(this,it.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[it.propFix[t]||t]})}}),it.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(t,e,n){var i,r,o,s=t.nodeType;if(t&&3!==s&&8!==s&&2!==s)return o=1!==s||!it.isXMLDoc(t),o&&(e=it.propFix[e]||e,r=it.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){return t.hasAttribute("tabindex")||ce.test(t.nodeName)||t.href?t.tabIndex:-1}}}}),tt.optSelected||(it.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null}}),it.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){it.propFix[this.toLowerCase()]=this});var he=/[\t\r\n\f]/g;it.fn.extend({addClass:function(t){var e,n,i,r,o,s,a="string"==typeof t&&t,u=0,l=this.length;if(it.isFunction(t))return this.each(function(e){it(this).addClass(t.call(this,e,this.className))});if(a)for(e=(t||"").match(vt)||[];l>u;u++)if(n=this[u],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(he," "):" ")){for(o=0;r=e[o++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");s=it.trim(i),n.className!==s&&(n.className=s)}return this},removeClass:function(t){var e,n,i,r,o,s,a=0===arguments.length||"string"==typeof t&&t,u=0,l=this.length;if(it.isFunction(t))return this.each(function(e){it(this).removeClass(t.call(this,e,this.className))});if(a)for(e=(t||"").match(vt)||[];l>u;u++)if(n=this[u],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(he," "):"")){for(o=0;r=e[o++];)for(;i.indexOf(" "+r+" ")>=0;)i=i.replace(" "+r+" "," ");s=t?it.trim(i):"",n.className!==s&&(n.className=s)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):it.isFunction(t)?this.each(function(n){it(this).toggleClass(t.call(this,n,this.className,e),e)}):this.each(function(){if("string"===n)for(var e,i=0,r=it(this),o=t.match(vt)||[];e=o[i++];)r.hasClass(e)?r.removeClass(e):r.addClass(e);else(n===It||"boolean"===n)&&(this.className&&wt.set(this,"__className__",this.className),this.className=this.className||t===!1?"":wt.get(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(he," ").indexOf(e)>=0)return!0;return!1}});var de=/\r/g;it.fn.extend({val:function(t){var e,n,i,r=this[0];{if(arguments.length)return i=it.isFunction(t),this.each(function(n){var r;1===this.nodeType&&(r=i?t.call(this,n,it(this).val()):t,null==r?r="":"number"==typeof r?r+="":it.isArray(r)&&(r=it.map(r,function(t){return null==t?"":t+""})),e=it.valHooks[this.type]||it.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))});if(r)return e=it.valHooks[r.type]||it.valHooks[r.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(n=e.get(r,"value"))?n:(n=r.value,"string"==typeof n?n.replace(de,""):null==n?"":n)}}}),it.extend({valHooks:{option:{get:function(t){var e=it.find.attr(t,"value");return null!=e?e:it.trim(it.text(t))}},select:{get:function(t){for(var e,n,i=t.options,r=t.selectedIndex,o="select-one"===t.type||0>r,s=o?null:[],a=o?r+1:i.length,u=0>r?a:o?r:0;a>u;u++)if(n=i[u],(n.selected||u===r)&&(tt.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!it.nodeName(n.parentNode,"optgroup"))){if(e=it(n).val(),o)return e;s.push(e)}return s},set:function(t,e){for(var n,i,r=t.options,o=it.makeArray(e),s=r.length;s--;)i=r[s],(i.selected=it.inArray(i.value,o)>=0)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),it.each(["radio","checkbox"],function(){it.valHooks[this]={set:function(t,e){return it.isArray(e)?t.checked=it.inArray(it(t).val(),e)>=0:void 0}},tt.checkOn||(it.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),it.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){it.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),it.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}});var fe=it.now(),pe=/\?/;it.parseJSON=function(t){return JSON.parse(t+"")},it.parseXML=function(t){var e,n;if(!t||"string"!=typeof t)return null;try{n=new DOMParser,e=n.parseFromString(t,"text/xml")}catch(i){e=void 0}return(!e||e.getElementsByTagName("parsererror").length)&&it.error("Invalid XML: "+t),e};var ge=/#.*$/,me=/([?&])_=[^&]*/,ve=/^(.*?):[ \t]*([^\r\n]*)$/gm,_e=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,ye=/^(?:GET|HEAD)$/,be=/^\/\//,we=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Ee={},Se={},ke="*/".concat("*"),xe=n.location.href,Te=we.exec(xe.toLowerCase())||[];it.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:xe,type:"GET",isLocal:_e.test(Te[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ke,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":it.parseJSON,"text xml":it.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?H(H(t,it.ajaxSettings),e):H(it.ajaxSettings,t)},ajaxPrefilter:j(Ee),ajaxTransport:j(Se),ajax:function(t,e){function n(t,e,n,s){var u,c,v,_,b,E=e;2!==y&&(y=2,a&&clearTimeout(a),i=void 0,o=s||"",w.readyState=t>0?4:0,u=t>=200&&300>t||304===t,n&&(_=z(h,w,n)),_=q(h,_,w,u),u?(h.ifModified&&(b=w.getResponseHeader("Last-Modified"),b&&(it.lastModified[r]=b),b=w.getResponseHeader("etag"),b&&(it.etag[r]=b)),204===t||"HEAD"===h.type?E="nocontent":304===t?E="notmodified":(E=_.state,c=_.data,v=_.error,u=!v)):(v=E,(t||!E)&&(E="error",0>t&&(t=0))),w.status=t,w.statusText=(e||E)+"",u?p.resolveWith(d,[c,E,w]):p.rejectWith(d,[w,E,v]),w.statusCode(m),m=void 0,l&&f.trigger(u?"ajaxSuccess":"ajaxError",[w,h,u?c:v]),g.fireWith(d,[w,E]),l&&(f.trigger("ajaxComplete",[w,h]),--it.active||it.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=void 0),e=e||{};var i,r,o,s,a,u,l,c,h=it.ajaxSetup({},e),d=h.context||h,f=h.context&&(d.nodeType||d.jquery)?it(d):it.event,p=it.Deferred(),g=it.Callbacks("once memory"),m=h.statusCode||{},v={},_={},y=0,b="canceled",w={readyState:0,getResponseHeader:function(t){var e;if(2===y){if(!s)for(s={};e=ve.exec(o);)s[e[1].toLowerCase()]=e[2];e=s[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===y?o:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return y||(t=_[n]=_[n]||t,v[t]=e),this},overrideMimeType:function(t){return y||(h.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>y)for(e in t)m[e]=[m[e],t[e]];else w.always(t[w.status]);return this},abort:function(t){var e=t||b;return i&&i.abort(e),n(0,e),this}};if(p.promise(w).complete=g.add,w.success=w.done,w.error=w.fail,h.url=((t||h.url||xe)+"").replace(ge,"").replace(be,Te[1]+"//"),h.type=e.method||e.type||h.method||h.type,h.dataTypes=it.trim(h.dataType||"*").toLowerCase().match(vt)||[""],null==h.crossDomain&&(u=we.exec(h.url.toLowerCase()),h.crossDomain=!(!u||u[1]===Te[1]&&u[2]===Te[2]&&(u[3]||("http:"===u[1]?"80":"443"))===(Te[3]||("http:"===Te[1]?"80":"443")))),h.data&&h.processData&&"string"!=typeof h.data&&(h.data=it.param(h.data,h.traditional)),B(Ee,h,e,w),2===y)return w;l=it.event&&h.global,l&&0===it.active++&&it.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!ye.test(h.type),r=h.url,h.hasContent||(h.data&&(r=h.url+=(pe.test(r)?"&":"?")+h.data,delete h.data),h.cache===!1&&(h.url=me.test(r)?r.replace(me,"$1_="+fe++):r+(pe.test(r)?"&":"?")+"_="+fe++)),h.ifModified&&(it.lastModified[r]&&w.setRequestHeader("If-Modified-Since",it.lastModified[r]),it.etag[r]&&w.setRequestHeader("If-None-Match",it.etag[r])),(h.data&&h.hasContent&&h.contentType!==!1||e.contentType)&&w.setRequestHeader("Content-Type",h.contentType),w.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+ke+"; q=0.01":""):h.accepts["*"]);for(c in h.headers)w.setRequestHeader(c,h.headers[c]);if(h.beforeSend&&(h.beforeSend.call(d,w,h)===!1||2===y))return w.abort();b="abort";for(c in{success:1,error:1,complete:1})w[c](h[c]);if(i=B(Se,h,e,w)){w.readyState=1,l&&f.trigger("ajaxSend",[w,h]),h.async&&h.timeout>0&&(a=setTimeout(function(){w.abort("timeout")},h.timeout));try{y=1,i.send(v,n)}catch(E){if(!(2>y))throw E;n(-1,E)}}else n(-1,"No Transport");return w},getJSON:function(t,e,n){return it.get(t,e,n,"json")},getScript:function(t,e){return it.get(t,void 0,e,"script")}}),it.each(["get","post"],function(t,e){it[e]=function(t,n,i,r){return it.isFunction(n)&&(r=r||i,i=n,n=void 0),it.ajax({url:t,type:e,dataType:r,data:n,success:i})}}),it._evalUrl=function(t){return it.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},it.fn.extend({wrapAll:function(t){var e;return it.isFunction(t)?this.each(function(e){it(this).wrapAll(t.call(this,e))}):(this[0]&&(e=it(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this)},wrapInner:function(t){return it.isFunction(t)?this.each(function(e){it(this).wrapInner(t.call(this,e))}):this.each(function(){var e=it(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=it.isFunction(t);return this.each(function(n){it(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){it.nodeName(this,"body")||it(this).replaceWith(this.childNodes)}).end()}}),it.expr.filters.hidden=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0},it.expr.filters.visible=function(t){return!it.expr.filters.hidden(t)};var Ae=/%20/g,Pe=/\[\]$/,Ie=/\r?\n/g,Ce=/^(?:submit|button|image|reset|file)$/i,De=/^(?:input|select|textarea|keygen)/i;it.param=function(t,e){var n,i=[],r=function(t,e){e=it.isFunction(e)?e():null==e?"":e,i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=it.ajaxSettings&&it.ajaxSettings.traditional),it.isArray(t)||t.jquery&&!it.isPlainObject(t))it.each(t,function(){r(this.name,this.value)});else for(n in t)$(n,t[n],e,r);return i.join("&").replace(Ae,"+")},it.fn.extend({serialize:function(){return it.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=it.prop(this,"elements");return t?it.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!it(this).is(":disabled")&&De.test(this.nodeName)&&!Ce.test(t)&&(this.checked||!Pt.test(t))}).map(function(t,e){var n=it(this).val();return null==n?null:it.isArray(n)?it.map(n,function(t){return{name:e.name,value:t.replace(Ie,"\r\n")}}):{name:e.name,value:n.replace(Ie,"\r\n")}}).get()}}),it.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(t){}};var Oe=0,Le={},Me={0:200,1223:204},Re=it.ajaxSettings.xhr();n.attachEvent&&n.attachEvent("onunload",function(){for(var t in Le)Le[t]()}),tt.cors=!!Re&&"withCredentials"in Re,tt.ajax=Re=!!Re,it.ajaxTransport(function(t){var e;return tt.cors||Re&&!t.crossDomain?{send:function(n,i){var r,o=t.xhr(),s=++Oe;if(o.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(r in t.xhrFields)o[r]=t.xhrFields[r];t.mimeType&&o.overrideMimeType&&o.overrideMimeType(t.mimeType),t.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(r in n)o.setRequestHeader(r,n[r]);e=function(t){return function(){e&&(delete Le[s],e=o.onload=o.onerror=null,"abort"===t?o.abort():"error"===t?i(o.status,o.statusText):i(Me[o.status]||o.status,o.statusText,"string"==typeof o.responseText?{text:o.responseText}:void 0,o.getAllResponseHeaders()))}},o.onload=e(),o.onerror=e("error"),e=Le[s]=e("abort");try{o.send(t.hasContent&&t.data||null)}catch(a){if(e)throw a}},abort:function(){e&&e()}}:void 0}),it.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return it.globalEval(t),t}}}),it.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),it.ajaxTransport("script",function(t){if(t.crossDomain){var e,n;return{send:function(i,r){e=it("<script>").prop({async:!0,charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&r("error"===t.type?404:200,t.type)}),et.head.appendChild(e[0])},abort:function(){n&&n()}}}});var Ne=[],Fe=/(=)\?(?=&|$)|\?\?/;it.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Ne.pop()||it.expando+"_"+fe++;return this[t]=!0,t}}),it.ajaxPrefilter("json jsonp",function(t,e,i){var r,o,s,a=t.jsonp!==!1&&(Fe.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Fe.test(t.data)&&"data");return a||"jsonp"===t.dataTypes[0]?(r=t.jsonpCallback=it.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(Fe,"$1"+r):t.jsonp!==!1&&(t.url+=(pe.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return s||it.error(r+" was not called"),s[0]},t.dataTypes[0]="json",o=n[r],n[r]=function(){s=arguments},i.always(function(){n[r]=o,t[r]&&(t.jsonpCallback=e.jsonpCallback,Ne.push(r)),s&&it.isFunction(o)&&o(s[0]),s=o=void 0}),"script"):void 0}),it.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||et;var i=ct.exec(t),r=!n&&[];return i?[e.createElement(i[1])]:(i=it.buildFragment([t],e,r),r&&r.length&&it(r).remove(),it.merge([],i.childNodes))};var Ue=it.fn.load;it.fn.load=function(t,e,n){if("string"!=typeof t&&Ue)return Ue.apply(this,arguments);var i,r,o,s=this,a=t.indexOf(" ");return a>=0&&(i=it.trim(t.slice(a)),t=t.slice(0,a)),it.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(r="POST"),s.length>0&&it.ajax({url:t,type:r,dataType:"html",data:e}).done(function(t){o=arguments,s.html(i?it("<div>").append(it.parseHTML(t)).find(i):t)}).complete(n&&function(t,e){s.each(n,o||[t.responseText,e,t])}),this},it.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){it.fn[e]=function(t){return this.on(e,t)}}),it.expr.filters.animated=function(t){return it.grep(it.timers,function(e){return t===e.elem}).length};var je=n.document.documentElement;it.offset={setOffset:function(t,e,n){var i,r,o,s,a,u,l,c=it.css(t,"position"),h=it(t),d={};"static"===c&&(t.style.position="relative"),a=h.offset(),o=it.css(t,"top"),u=it.css(t,"left"),l=("absolute"===c||"fixed"===c)&&(o+u).indexOf("auto")>-1,l?(i=h.position(),s=i.top,r=i.left):(s=parseFloat(o)||0,r=parseFloat(u)||0),it.isFunction(e)&&(e=e.call(t,n,a)),null!=e.top&&(d.top=e.top-a.top+s),null!=e.left&&(d.left=e.left-a.left+r),"using"in e?e.using.call(t,d):h.css(d)}},it.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){it.offset.setOffset(this,t,e)});var e,n,i=this[0],r={top:0,left:0},o=i&&i.ownerDocument;if(o)return e=o.documentElement,it.contains(e,i)?(typeof i.getBoundingClientRect!==It&&(r=i.getBoundingClientRect()),n=V(o),{top:r.top+n.pageYOffset-e.clientTop,left:r.left+n.pageXOffset-e.clientLeft}):r},position:function(){if(this[0]){var t,e,n=this[0],i={top:0,left:0};return"fixed"===it.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),it.nodeName(t[0],"html")||(i=t.offset()),i.top+=it.css(t[0],"borderTopWidth",!0),i.left+=it.css(t[0],"borderLeftWidth",!0)),{top:e.top-i.top-it.css(n,"marginTop",!0),left:e.left-i.left-it.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||je;t&&!it.nodeName(t,"html")&&"static"===it.css(t,"position");)t=t.offsetParent;return t||je})}}),it.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var i="pageYOffset"===e;it.fn[t]=function(r){return bt(this,function(t,r,o){var s=V(t);return void 0===o?s?s[e]:t[r]:void(s?s.scrollTo(i?n.pageXOffset:o,i?o:n.pageYOffset):t[r]=o)},t,r,arguments.length,null)}}),it.each(["top","left"],function(t,e){it.cssHooks[e]=T(tt.pixelPosition,function(t,n){return n?(n=x(t,e),Wt.test(n)?it(t).position()[e]+"px":n):void 0})}),it.each({Height:"height",Width:"width"},function(t,e){it.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,i){it.fn[i]=function(i,r){var o=arguments.length&&(n||"boolean"!=typeof i),s=n||(i===!0||r===!0?"margin":"border");return bt(this,function(e,n,i){var r;return it.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+t],r["scroll"+t],e.body["offset"+t],r["offset"+t],r["client"+t])):void 0===i?it.css(e,n,s):it.style(e,n,i,s)},e,o?i:void 0,o,null)}})}),it.fn.size=function(){return this.length},it.fn.andSelf=it.fn.addBack,i=[],r=function(){return it}.apply(e,i),!(void 0!==r&&(t.exports=r));var Be=n.jQuery,He=n.$;return it.noConflict=function(t){return n.$===it&&(n.$=He),t&&n.jQuery===it&&(n.jQuery=Be),it},typeof o===It&&(n.jQuery=n.$=it),it})},function(t,e,n){var i=n(3);"string"==typeof i&&(i=[[t.id,i,""]]);n(7)(i,{});i.locals&&(t.exports=i.locals)},function(t,e,n){e=t.exports=n(4)(),e.push([t.id,".widget{position:absolute;width:100%;height:100%;background-image:url("+n(5)+');background-repeat:no-repeat;background-position:50%;background-size:100px 60px;border-radius:4px;border:1px solid #e5e5e5;overflow:hidden}@media (max-height:20px){.widget{background:transparent!important;border:0!important;box-shadow:none!important}.cookiePolicy,.progress{display:none}}.left{float:left}.right{float:right}.fixed{position:fixed}.disabled{opacity:.5}.fullSize{position:absolute;top:0;right:0;bottom:0;left:0}.g-arrow{display:block;position:absolute;content:"";width:0;height:0;border-style:solid;border-color:transparent}.g-arrow-top{border-width:0 5px 7px;border-bottom-color:rgba(0,0,0,.8)}.sc-artwork{background-size:cover;background-position:50% 50%;display:inline-block}.sc-artwork.sc-artwork-placeholder-0{background-image:linear-gradient(135deg,#846170,#70929c)}.sc-artwork.sc-artwork-placeholder-1{background-image:linear-gradient(135deg,#846170,#e6846e)}.sc-artwork.sc-artwork-placeholder-2{background-image:linear-gradient(135deg,#846170,#8e8485)}.sc-artwork.sc-artwork-placeholder-3{background-image:linear-gradient(135deg,#70929c,#846170)}.sc-artwork.sc-artwork-placeholder-4{background-image:linear-gradient(135deg,#70929c,#e6846e)}.sc-artwork.sc-artwork-placeholder-5{background-image:linear-gradient(135deg,#70929c,#8e8485)}.sc-artwork.sc-artwork-placeholder-6{background-image:linear-gradient(135deg,#e6846e,#846170)}.sc-artwork.sc-artwork-placeholder-7{background-image:linear-gradient(135deg,#e6846e,#70929c)}.sc-artwork.sc-artwork-placeholder-8{background-image:linear-gradient(135deg,#e6846e,#8e8485)}.sc-artwork.sc-artwork-placeholder-9{background-image:linear-gradient(135deg,#8e8485,#846170)}.sc-artwork.sc-artwork-placeholder-10{background-image:linear-gradient(135deg,#8e8485,#70929c)}.sc-artwork.sc-artwork-placeholder-11{background-image:linear-gradient(135deg,#8e8485,#e6846e)}#flashAudioObject-container{position:fixed;width:1px;height:1px;overflow:hidden;left:-10px}#flashAudioObject-container.blocked{top:0;left:0;width:46px;height:46px;z-index:1000}#flashAudioObject{width:46px;height:46px;max-width:46px;max-height:46px}#flashAudioObject-container.fullscreen{width:100%;height:100%;top:0;left:0}#flashAudioObject-container.fullscreen #flashAudioObject{width:100%;height:100%;max-width:100%;max-height:100%}.g-background-default{background-color:#f5f5f5}.g-border{border:1px solid #d9d9d9}.g-border-top{border-top:1px solid #d9d9d9}.g-border-right{border-right:1px solid #d9d9d9}.g-border-bottom{border-bottom:1px solid #d9d9d9}.g-border-left{border-left:1px solid #d9d9d9}.g-box-full{display:block;width:100%;height:100%;position:relative}*,:after,:before{-webkit-tap-highlight-color:rgba(0,0,0,0);-ms-touch-action:none;box-sizing:border-box}img{display:block}.g-overlay{white-space:nowrap;background:rgba(0,0,0,.8);border-radius:4px;color:#fff;z-index:100}.g-sc-logo{display:block;width:96px;height:11px;background:url('+n(6)+") no-repeat 0 0;text-indent:-9999px;text-shadow:0 1px 0 hsla(0,0%,100%,.9)}.g-scrollable{position:relative;overflow:hidden}.g-scrollable-inner{overflow:scroll;padding-right:50%;-webkit-transform:translate3D(0,0,0)}.g-scrollbar{position:absolute;background-color:transparent;border-radius:7px;box-shadow:0 0 1px #fff;transition:background-color .3s linear}.g-scrollbar-visible{background-color:rgba(0,0,0,.3)}.g-scrollbar-horizontal{height:7px;margin-left:2px;bottom:2px;left:0}.g-scrollbar-vertical{width:7px;margin-top:2px;right:2px;top:0}.g-shadow-inset{box-shadow:inset 0 0 0 1px hsla(0,0%,100%,.5)}.g-shadow-top{box-shadow:inset 0 1px 0 0 hsla(0,0%,100%,.5)}.g-shadow-bottom{box-shadow:0 1px 0 0 hsla(0,0%,100%,.5)}.g-text-shadow{text-shadow:0 1px 0 hsla(0,0%,100%,.9)}.g-highlighted .g-text-shadow,.g-text-visual{text-shadow:none}.g-text-visual{padding-left:6px;padding-right:6px;background:rgba(0,0,0,.8);-webkit-font-smoothing:antialiased}.g-text-visual:hover,a.g-text-visual:hover{color:#fff}.g-text-visual.sc-link-light{color:#999}.g-text-visual.sc-link-light:hover{color:#ccc}.g-text-visual.sc-link-dark,.g-text-visual.sc-link-dark:hover{color:#fff}.g-label{cursor:pointer;font-size:12px}.g-input{padding:2px 4px;border:1px solid #ccc;border-radius:3px;outline:none;width:100%;box-sizing:border-box;line-height:18px;font-size:13px}.g-transform-3d{-webkit-transform-style:preserve-3d;transform-style:preserve-3d}.g-transform-origin__right{-webkit-transform-origin:right center;transform-origin:right center}.g-all-transitions-200{transition:all .2s ease-in-out}.g-opacity-transition{transition:opacity .2s linear}.g-top-transition{transition:top .2s ease-in-out}.g-bottom-transition{transition:bottom .2s ease-in-out}.g-left-transition{transition:left .2s ease-in-out}.g-transition-transform{transition:-webkit-transform .2s ease-out;transition:transform .2s ease-out;transition:transform .2s ease-out,-webkit-transform .2s ease-out}.g-transition-opacity{transition:opacity .2s ease-out}",""])},function(t,e){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var n=this[e];n[2]?t.push("@media "+n[2]+"{"+n[1]+"}"):t.push(n[1])}return t.join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var i={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(i[o]=!0)}for(r=0;r<e.length;r++){var s=e[r];"number"==typeof s[0]&&i[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),t.push(s))}},t}},function(t,e,n){t.exports=n.p+"assets/images/logo-200x120-a1591e.png"},function(t,e,n){t.exports=n.p+"assets/images/logo_grey-6e2bad.png"},function(t,e,n){function i(t,e){for(var n=0;n<t.length;n++){var i=t[n],r=f[i.id];if(r){r.refs++;for(var o=0;o<r.parts.length;o++)r.parts[o](i.parts[o]);for(;o<i.parts.length;o++)r.parts.push(l(i.parts[o],e))}else{for(var s=[],o=0;o<i.parts.length;o++)s.push(l(i.parts[o],e));f[i.id]={id:i.id,refs:1,parts:s}}}}function r(t){for(var e=[],n={},i=0;i<t.length;i++){var r=t[i],o=r[0],s=r[1],a=r[2],u=r[3],l={css:s,media:a,sourceMap:u};n[o]?n[o].parts.push(l):e.push(n[o]={id:o,parts:[l]})}return e}function o(t,e){var n=m(),i=y[y.length-1];if("top"===t.insertAt)i?i.nextSibling?n.insertBefore(e,i.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),y.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(e)}}function s(t){t.parentNode.removeChild(t);var e=y.indexOf(t);e>=0&&y.splice(e,1)}function a(t){var e=document.createElement("style");return e.type="text/css",o(t,e),e}function u(t){var e=document.createElement("link");return e.rel="stylesheet",o(t,e),e}function l(t,e){var n,i,r;if(e.singleton){var o=_++;n=v||(v=a(e)),i=c.bind(null,n,o,!1),r=c.bind(null,n,o,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=u(e),i=d.bind(null,n),r=function(){s(n),n.href&&URL.revokeObjectURL(n.href)}):(n=a(e),i=h.bind(null,n),r=function(){s(n)});return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else r()}}function c(t,e,n,i){var r=n?"":i.css;if(t.styleSheet)t.styleSheet.cssText=b(e,r);else{var o=document.createTextNode(r),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(o,s[e]):t.appendChild(o)}}function h(t,e){var n=e.css,i=e.media;e.sourceMap;if(i&&t.setAttribute("media",i),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function d(t,e){var n=e.css,i=(e.media,e.sourceMap);i&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var r=new Blob([n],{type:"text/css"}),o=t.href;t.href=URL.createObjectURL(r),o&&URL.revokeObjectURL(o)}var f={},p=function(t){var e;return function(){return"undefined"==typeof e&&(e=t.apply(this,arguments)),e}},g=p(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),m=p(function(){return document.head||document.getElementsByTagName("head")[0]}),v=null,_=0,y=[];t.exports=function(t,e){e=e||{},"undefined"==typeof e.singleton&&(e.singleton=g()),"undefined"==typeof e.insertAt&&(e.insertAt="bottom");var n=r(t);return i(n,e),function(t){for(var o=[],s=0;s<n.length;s++){var a=n[s],u=f[a.id];u.refs--,o.push(u)}if(t){var l=r(t);i(l,e)}for(var s=0;s<o.length;s++){var u=o[s];if(0===u.refs){for(var c=0;c<u.parts.length;c++)u.parts[c]();delete f[u.id]}}}};var b=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()},function(t,e,n){n(9),n(10),n(11),n(12),n(13),n(14),n(15),n(16),window._=n(17),window.$=window.jQuery=n(1)},function(t,e,n){var i,r,o;!function(s){r=[n(1)],i=s,o="function"==typeof i?i.apply(e,r):i,!(void 0!==o&&(t.exports=o))}(function(t){function e(e){var s=e||window.event,a=u.call(arguments,1),l=0,c=0,h=0,d=0,f=0,p=0;if(e=t.event.fix(s),e.type="mousewheel","detail"in s&&(h=-1*s.detail),"wheelDelta"in s&&(h=s.wheelDelta),"wheelDeltaY"in s&&(h=s.wheelDeltaY),"wheelDeltaX"in s&&(c=-1*s.wheelDeltaX),"axis"in s&&s.axis===s.HORIZONTAL_AXIS&&(c=-1*h,h=0),l=0===h?c:h,"deltaY"in s&&(h=-1*s.deltaY,l=h),"deltaX"in s&&(c=s.deltaX,0===h&&(l=-1*c)),0!==h||0!==c){if(1===s.deltaMode){var g=t.data(this,"mousewheel-line-height");l*=g,h*=g,c*=g}else if(2===s.deltaMode){var m=t.data(this,"mousewheel-page-height");l*=m,h*=m,c*=m}d=Math.max(Math.abs(h),Math.abs(c)),(!o||o>d)&&(o=d,i(s,d)&&(o/=40)),i(s,d)&&(l/=40,c/=40,h/=40),l=Math[l>=1?"floor":"ceil"](l/o),c=Math[c>=1?"floor":"ceil"](c/o),h=Math[h>=1?"floor":"ceil"](h/o);var v=this.getBoundingClientRect();return f=e.clientX-v.left,p=e.clientY-v.top,e.deltaX=c,e.deltaY=h,e.deltaFactor=o,e.offsetX=f,e.offsetY=p,e.deltaMode=0,a.unshift(e,l,c,h),r&&clearTimeout(r),r=setTimeout(n,200),(t.event.dispatch||t.event.handle).apply(this,a)}}function n(){o=null}function i(t,e){return c.settings.adjustOldDeltas&&"mousewheel"===t.type&&e%120===0}var r,o,s=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],a="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],u=Array.prototype.slice;if(t.event.fixHooks)for(var l=s.length;l;)t.event.fixHooks[s[--l]]=t.event.mouseHooks;var c=t.event.special.mousewheel={version:"3.1.9",setup:function(){if(this.addEventListener)for(var n=a.length;n;)this.addEventListener(a[--n],e,!1);else this.onmousewheel=e;t.data(this,"mousewheel-line-height",c.getLineHeight(this)),t.data(this,"mousewheel-page-height",c.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var t=a.length;t;)this.removeEventListener(a[--t],e,!1);else this.onmousewheel=null},getLineHeight:function(e){return parseInt(t(e)["offsetParent"in t.fn?"offsetParent":"parent"]().css("fontSize"),10);
},getPageHeight:function(e){return t(e).height()},settings:{adjustOldDeltas:!0}};t.fn.extend({mousewheel:function(t){return t?this.bind("mousewheel",t):this.trigger("mousewheel")},unmousewheel:function(t){return this.unbind("mousewheel",t)}})})},function(t,e,n){(function(t){!function(e,n){function i(t,e,n){return[parseInt(t[0],10)*(p.test(t[0])?e/100:1),parseInt(t[1],10)*(p.test(t[1])?n/100:1)]}function r(t,n){return parseInt(e.css(t,n),10)||0}function o(t){var n=t[0];return 9===n.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:e.isWindow(n)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:n.preventDefault?{width:0,height:0,offset:{top:n.pageY,left:n.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}e.ui=e.ui||{};var s,a=Math.max,u=Math.abs,l=Math.round,c=/left|center|right/,h=/top|center|bottom/,d=/[\+\-]\d+%?/,f=/^\w+/,p=/%$/,g=e.fn.position;e.position={scrollbarWidth:function(){if(s!==n)return s;var t,i,r=e("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=r.children()[0];return e("body").append(r),t=o.offsetWidth,r.css("overflow","scroll"),i=o.offsetWidth,t===i&&(i=r[0].clientWidth),r.remove(),s=t-i},getScrollInfo:function(t){var n=t.isWindow?"":t.element.css("overflow-x"),i=t.isWindow?"":t.element.css("overflow-y"),r="scroll"===n||"auto"===n&&t.width<t.element[0].scrollWidth,o="scroll"===i||"auto"===i&&t.height<t.element[0].scrollHeight;return{width:r?e.position.scrollbarWidth():0,height:o?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var n=e(t||window),i=e.isWindow(n[0]);return{element:n,isWindow:i,offset:n.offset()||{left:0,top:0},scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:i?n.width():n.outerWidth(),height:i?n.height():n.outerHeight()}}},e.fn.position=function(t){if(!t||!t.of)return g.apply(this,arguments);t=e.extend({},t);var n,s,p,m,v,_,y=e(t.of),b=e.position.getWithinInfo(t.within),w=e.position.getScrollInfo(b),E=(t.collision||"flip").split(" "),S={};return _=o(y),y[0].preventDefault&&(t.at="left top"),s=_.width,p=_.height,m=_.offset,v=e.extend({},m),e.each(["my","at"],function(){var e,n,i=(t[this]||"").split(" ");1===i.length&&(i=c.test(i[0])?i.concat(["center"]):h.test(i[0])?["center"].concat(i):["center","center"]),i[0]=c.test(i[0])?i[0]:"center",i[1]=h.test(i[1])?i[1]:"center",e=d.exec(i[0]),n=d.exec(i[1]),S[this]=[e?e[0]:0,n?n[0]:0],t[this]=[f.exec(i[0])[0],f.exec(i[1])[0]]}),1===E.length&&(E[1]=E[0]),"right"===t.at[0]?v.left+=s:"center"===t.at[0]&&(v.left+=s/2),"bottom"===t.at[1]?v.top+=p:"center"===t.at[1]&&(v.top+=p/2),n=i(S.at,s,p),v.left+=n[0],v.top+=n[1],this.each(function(){var o,c,h=e(this),d=h.outerWidth(),f=h.outerHeight(),g=r(this,"marginLeft"),_=r(this,"marginTop"),k=d+g+r(this,"marginRight")+w.width,x=f+_+r(this,"marginBottom")+w.height,T=e.extend({},v),A=i(S.my,h.outerWidth(),h.outerHeight());"right"===t.my[0]?T.left-=d:"center"===t.my[0]&&(T.left-=d/2),"bottom"===t.my[1]?T.top-=f:"center"===t.my[1]&&(T.top-=f/2),T.left+=A[0],T.top+=A[1],e.support.offsetFractions||(T.left=l(T.left),T.top=l(T.top)),o={marginLeft:g,marginTop:_},e.each(["left","top"],function(i,r){e.ui.position[E[i]]&&e.ui.position[E[i]][r](T,{targetWidth:s,targetHeight:p,elemWidth:d,elemHeight:f,collisionPosition:o,collisionWidth:k,collisionHeight:x,offset:[n[0]+A[0],n[1]+A[1]],my:t.my,at:t.at,within:b,elem:h})}),t.using&&(c=function(e){var n=m.left-T.left,i=n+s-d,r=m.top-T.top,o=r+p-f,l={target:{element:y,left:m.left,top:m.top,width:s,height:p},element:{element:h,left:T.left,top:T.top,width:d,height:f},horizontal:0>i?"left":n>0?"right":"center",vertical:0>o?"top":r>0?"bottom":"middle"};d>s&&u(n+i)<s&&(l.horizontal="center"),f>p&&u(r+o)<p&&(l.vertical="middle"),a(u(n),u(i))>a(u(r),u(o))?l.important="horizontal":l.important="vertical",t.using.call(this,e,l)}),h.offset(e.extend(T,{using:c}))})},e.ui.position={fit:{left:function(t,e){var n,i=e.within,r=i.isWindow?i.scrollLeft:i.offset.left,o=i.width,s=t.left-e.collisionPosition.marginLeft,u=r-s,l=s+e.collisionWidth-o-r;e.collisionWidth>o?u>0&&0>=l?(n=t.left+u+e.collisionWidth-o-r,t.left+=u-n):l>0&&0>=u?t.left=r:u>l?t.left=r+o-e.collisionWidth:t.left=r:u>0?t.left+=u:l>0?t.left-=l:t.left=a(t.left-s,t.left)},top:function(t,e){var n,i=e.within,r=i.isWindow?i.scrollTop:i.offset.top,o=e.within.height,s=t.top-e.collisionPosition.marginTop,u=r-s,l=s+e.collisionHeight-o-r;e.collisionHeight>o?u>0&&0>=l?(n=t.top+u+e.collisionHeight-o-r,t.top+=u-n):l>0&&0>=u?t.top=r:u>l?t.top=r+o-e.collisionHeight:t.top=r:u>0?t.top+=u:l>0?t.top-=l:t.top=a(t.top-s,t.top)}},flip:{left:function(t,e){e.elem.removeClass("ui-flipped-left ui-flipped-right");var n,i,r=e.within,o=r.offset.left+r.scrollLeft,s=r.width,a=r.isWindow?r.scrollLeft:r.offset.left,l=t.left-e.collisionPosition.marginLeft,c=l-a,h=l+e.collisionWidth-s-a,d="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,f="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,p=-2*e.offset[0];0>c?(n=t.left+d+f+p+e.collisionWidth-s-o,(0>n||n<u(c))&&(t.left+=d+f+p,e.elem.addClass("ui-flipped-right"))):h>0&&(i=t.left-e.collisionPosition.marginLeft+d+f+p-a,(i>0||u(i)<h)&&(t.left+=d+f+p,e.elem.addClass("ui-flipped-left")))},top:function(t,e){e.elem.removeClass("ui-flipped-top ui-flipped-bottom");var n,i,r=e.within,o=r.offset.top+r.scrollTop,s=r.height,a=r.isWindow?r.scrollTop:r.offset.top,l=t.top-e.collisionPosition.marginTop,c=l-a,h=l+e.collisionHeight-s-a,d="top"===e.my[1],f=d?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,p="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,g=-2*e.offset[1];0>c?(i=t.top+f+p+g+e.collisionHeight-s-o,t.top+f+p+g>c&&(0>i||i<u(c))&&(e.elem.addClass("ui-flipped-bottom"),t.top+=f+p+g)):h>0&&(n=t.top-e.collisionPosition.marginTop+f+p+g-a,t.top+f+p+g>h&&(n>0||u(n)<h)&&(e.elem.addClass("ui-flipped-top"),t.top+=f+p+g))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},function(){var t,n,i,r,o,s=document.getElementsByTagName("body")[0],a=document.createElement("div");t=document.createElement(s?"div":"body"),i={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},s&&e.extend(i,{position:"absolute",left:"-1000px",top:"-1000px"});for(o in i)t.style[o]=i[o];t.appendChild(a),n=s||document.documentElement,n.insertBefore(t,n.firstChild),a.style.cssText="position: absolute; left: 10.7432222px;",r=e(a).offset().left,e.support.offsetFractions=r>10&&11>r,t.innerHTML="",n.removeChild(t)}(),e.uiBackCompat!==!1&&!function(t){var e=t.fn.position;t.fn.position=function(i){if(!i||!i.offset)return e.call(this,i);var r=i.offset.split(" "),o=i.at.split(" ");return 1===r.length&&(r[1]=r[0]),/^\d/.test(r[0])&&(r[0]="+"+r[0]),/^\d/.test(r[1])&&(r[1]="+"+r[1]),1===o.length&&(/left|center|right/.test(o[0])?o[1]="center":(o[1]=o[0],o[0]="center")),e.call(this,t.extend(i,{at:o[0]+r[0]+" "+o[1]+r[1],offset:n}))}}(t)}(t)}).call(e,n(1))},function(t,e,n){(function(t){t.whenAll=function(e){if(e&&e.length){var n,i,r=t.Deferred(),o=e.length,s=!1,a=[];return i=function(t){a[t]=[].slice.call(arguments,1),--o||r[s?"reject":"resolve"].apply(r,a)},n=function(){s=!0},a.length=e.length,e.forEach(function(t,e){t.fail(n).always(i.bind(null,e))}),r}return t.Deferred().resolve()}}).call(e,n(1))},function(t,e,n){(function(t){!function(t){window.XDomainRequest&&t.ajaxTransport(function(e){if(e.crossDomain&&e.async){e.timeout&&(e.xdrTimeout=e.timeout,delete e.timeout);var n;return{send:function(i,r){function o(e,i,o,s){n.onload=n.onerror=n.ontimeout=t.noop,n=void 0,r(e,i,o,s)}var s;i.Authorization&&(s=i.Authorization.split(" ")[1],e.url=e.url.replace(/\?|(.)$/,"$1?oauth_token="+s+"&")),n=new window.XDomainRequest,n.open(e.type,e.url),n.onload=function(){o(200,"OK",{text:n.responseText},"Content-Type: "+n.contentType)},n.onerror=function(){o(404,"Not Found")},e.xdrTimeout&&(n.ontimeout=function(){o(0,"timeout")},n.timeout=e.xdrTimeout),n.send(e.hasContent&&e.data||null)},abort:function(){n&&(n.onerror=t.noop(),n.abort())}}}})}(t)}).call(e,n(1))},function(t,e){Array.prototype.every||(Array.prototype.every=function(t){"use strict";if(void 0===this||null===this)throw new TypeError;var e=Object(this),n=e.length>>>0;if("function"!=typeof t)throw new TypeError;for(var i=arguments[1],r=0;n>r;r++)if(r in e&&!t.call(i,e[r],r,e))return!1;return!0}),Array.prototype.filter||(Array.prototype.filter=function(t){"use strict";if(void 0===this||null===this)throw new TypeError;var e=Object(this),n=e.length>>>0;if("function"!=typeof t)throw new TypeError;for(var i=[],r=arguments[1],o=0;n>o;o++)if(o in e){var s=e[o];t.call(r,s,o,e)&&i.push(s)}return i}),Array.prototype.forEach||(Array.prototype.forEach=function(t){"use strict";if(void 0===this||null===this)throw new TypeError;var e=Object(this),n=e.length>>>0;if("function"!=typeof t)throw new TypeError;for(var i=arguments[1],r=0;n>r;r++)r in e&&t.call(i,e[r],r,e)}),Array.prototype.indexOf||(Array.prototype.indexOf=function(t){"use strict";if(void 0===this||null===this)throw new TypeError;var e=Object(this),n=e.length>>>0;if(0===n)return-1;var i=0;if(arguments.length>0&&(i=Number(arguments[1]),i!==i?i=0:0!==i&&i!==1/0&&i!==-(1/0)&&(i=(i>0||-1)*Math.floor(Math.abs(i)))),i>=n)return-1;for(var r=i>=0?i:Math.max(n-Math.abs(i),0);n>r;r++)if(r in e&&e[r]===t)return r;return-1}),Array.isArray=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},Array.prototype.lastIndexOf||(Array.prototype.lastIndexOf=function(t){"use strict";if(void 0===this||null===this)throw new TypeError;var e=Object(this),n=e.length>>>0;if(0===n)return-1;var i=n;arguments.length>1&&(i=Number(arguments[1]),i!==i?i=0:0!==i&&i!==1/0&&i!==-(1/0)&&(i=(i>0||-1)*Math.floor(Math.abs(i))));for(var r=i>=0?Math.min(i,n-1):n-Math.abs(i);r>=0;r--)if(r in e&&e[r]===t)return r;return-1}),Array.prototype.map||(Array.prototype.map=function(t){"use strict";if(void 0===this||null===this)throw new TypeError;var e=Object(this),n=e.length>>>0;if("function"!=typeof t)throw new TypeError;for(var i=new Array(n),r=arguments[1],o=0;n>o;o++)o in e&&(i[o]=t.call(r,e[o],o,e));return i}),Array.prototype.reduce||(Array.prototype.reduce=function(t){"use strict";if(void 0===this||null===this)throw new TypeError;var e=Object(this),n=e.length>>>0;if("function"!=typeof t)throw new TypeError;if(0==n&&1==arguments.length)throw new TypeError;var i,r=0;if(arguments.length>=2)i=arguments[1];else for(;;){if(r in e){i=e[r++];break}if(++r>=n)throw new TypeError}for(;n>r;)r in e&&(i=t.call(void 0,i,e[r],r,e)),r++;return i}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(t){"use strict";if(void 0===this||null===this)throw new TypeError;var e=Object(this),n=e.length>>>0;if("function"!=typeof t)throw new TypeError;if(0===n&&1===arguments.length)throw new TypeError;var i,r=n-1;if(arguments.length>=2)i=arguments[1];else for(;;){if(r in this){i=this[r--];break}if(--r<0)throw new TypeError}for(;r>=0;)r in e&&(i=t.call(void 0,i,e[r],r,e)),r--;return i}),Array.prototype.some||(Array.prototype.some=function(t){"use strict";if(void 0===this||null===this)throw new TypeError;var e=Object(this),n=e.length>>>0;if("function"!=typeof t)throw new TypeError;for(var i=arguments[1],r=0;n>r;r++)if(r in e&&t.call(i,e[r],r,e))return!0;return!1}),Date.now||(Date.now=function(){return+new Date}),Date.prototype.toISOString||(Date.prototype.toISOString=function(){var t=function(e,n){return n=n||2,e+="",e.length===n?e:t("0"+e,n)};return function(){var e=this.getUTCFullYear();e=(0>e?"-":e>9999?"+":"")+("00000"+Math.abs(e)).slice(e>=0&&9999>=e?-4:-6);var n=[e,t(this.getUTCMonth()+1),t(this.getUTCDate())].join("-"),i=[t(this.getUTCHours()),t(this.getUTCMinutes()),t(this.getUTCSeconds())].join(":")+"."+t(this.getUTCMilliseconds(),3);return[n,i].join("T")+"Z"}}()),Date.prototype.toJSON||(Date.prototype.toJSON=Date.prototype.toJSON),Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice,n=e.call(arguments,1),i=this,r=function(){},o=function(){if(r.prototype&&this instanceof r){var o=i.apply(new r,n.concat(e.call(arguments)));return Object(o)===o?o:i}return i.apply(t,n.concat(e.call(arguments)))};return r.prototype=i.prototype,o.prototype=new r,o}),function(){"use strict";var t=function(t){if(t!==Object(t))throw new TypeError("Object.getPrototypeOf called on non-object")};Object.getPrototypeOf||("object"==typeof"test".__proto__?Object.getPrototypeOf=function(e){return t(e),e.__proto__}:Object.getPrototypeOf=function(e){return t(e),e.constructor.prototype})}(),Object.keys||(Object.keys=function(){var t=Object.prototype.hasOwnProperty,e=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],i=n.length;return function(r){if("object"!=typeof r&&"function"!=typeof r||null===r)throw new TypeError("Object.keys called on non-object");var o=[];for(var s in r)t.call(r,s)&&o.push(s);if(e)for(var a=0;i>a;a++)t.call(r,n[a])&&o.push(n[a]);return o}}()),String.prototype.trim||(String.prototype.trim=function(){var t=/^\s+/,e=/\s+$/;return function(){return this.replace(t,"").replace(e,"")}}())},function(t,e){!function(){var t=!1,e=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;this.Class=function(){},Class.extend=function(n){function i(){return!t&&this.initialize?this.initialize.apply(this,arguments):void 0}var r,o,s,a,u=this.prototype;t=!0;var l=new this;for(t=!1,a="[object Array]"!==Object.prototype.toString.call(n)?[n]:n,o=0,s=a.length;s>o;++o){n=a[o];for(r in n)l[r]="function"==typeof n[r]&&"function"==typeof u[r]&&e.test(n[r])?function(t,e){return function(){var n=this._super;this._super=u[t];var i=e.apply(this,arguments);return this._super=n,i}}(r,n[r]):n[r]}return i.prototype=l,i.prototype.constructor=i,i.extend=arguments.callee,i}}()},function(t,e){!function(t,e,n){function i(t,e,i,o){if(!t[e]){var s=r(e);n.some(function(n){return o&&(n=r(n)),t[e]=t[n+s],t[e]}),t[e]=t[e]||i}}function r(t){return t&&(t=t[0].toUpperCase()+t.substr(1)),t}i(t,"requestAnimationFrame",function(e){return t.setTimeout(e,16)}),i(t,"cancelAnimationFrame",function(e){t.clearTimeout(e)})}(window,navigator,["webkit","moz","o","ms"])},function(t,e,n){(function(t,e){t.extend(t.expr[":"],{data:function(t,n,i){return!!e.data(t,i[3])},focusable:function(t){var n=t.nodeName.toLowerCase(),i=e.attr(t,"tabindex");return(/input|select|textarea|button|object/.test(n)?!t.disabled:"a"===n||"area"===n?t.href||!isNaN(i):!isNaN(i))&&!e(t)["area"===n?"parents":"closest"](":hidden").length},tabbable:function(t){var n=e.attr(t,"tabindex");return(isNaN(n)||n>=0)&&e(t).is(":focusable")}})}).call(e,n(1),n(1))},function(t,e,n){var i,r;(function(){function n(t){function e(e,n,i,r,o,s){for(;o>=0&&s>o;o+=t){var a=r?r[o]:o;i=n(i,e[a],a,e)}return i}return function(n,i,r,o){i=E(i,o,4);var s=!A(n)&&w.keys(n),a=(s||n).length,u=t>0?0:a-1;return arguments.length<3&&(r=n[s?s[u]:u],u+=t),e(n,i,r,s,u,a)}}function o(t){return function(e,n,i){n=S(n,i);for(var r=null!=e&&e.length,o=t>0?0:r-1;o>=0&&r>o;o+=t)if(n(e[o],o,e))return o;return-1}}function s(t,e){var n=O.length,i=t.constructor,r=w.isFunction(i)&&i.prototype||c,o="constructor";for(w.has(t,o)&&!w.contains(e,o)&&e.push(o);n--;)o=O[n],o in t&&t[o]!==r[o]&&!w.contains(e,o)&&e.push(o)}var a=this,u=a._,l=Array.prototype,c=Object.prototype,h=Function.prototype,d=l.push,f=l.slice,p=c.toString,g=c.hasOwnProperty,m=Array.isArray,v=Object.keys,_=h.bind,y=Object.create,b=function(){},w=function(t){return t instanceof w?t:this instanceof w?void(this._wrapped=t):new w(t)};"undefined"!=typeof t&&t.exports&&(e=t.exports=w),e._=w,w.VERSION="1.8.2";var E=function(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)};case 4:return function(n,i,r,o){return t.call(e,n,i,r,o)}}return function(){return t.apply(e,arguments)}},S=function(t,e,n){return null==t?w.identity:w.isFunction(t)?E(t,e,n):w.isObject(t)?w.matcher(t):w.property(t)};w.iteratee=function(t,e){return S(t,e,1/0)};var k=function(t,e){return function(n){var i=arguments.length;if(2>i||null==n)return n;for(var r=1;i>r;r++)for(var o=arguments[r],s=t(o),a=s.length,u=0;a>u;u++){var l=s[u];e&&void 0!==n[l]||(n[l]=o[l])}return n}},x=function(t){if(!w.isObject(t))return{};if(y)return y(t);b.prototype=t;var e=new b;return b.prototype=null,e},T=Math.pow(2,53)-1,A=function(t){var e=t&&t.length;return"number"==typeof e&&e>=0&&T>=e};w.each=w.forEach=function(t,e,n){e=E(e,n);var i,r;if(A(t))for(i=0,r=t.length;r>i;i++)e(t[i],i,t);else{var o=w.keys(t);for(i=0,r=o.length;r>i;i++)e(t[o[i]],o[i],t)}return t},w.map=w.collect=function(t,e,n){e=S(e,n);for(var i=!A(t)&&w.keys(t),r=(i||t).length,o=Array(r),s=0;r>s;s++){var a=i?i[s]:s;o[s]=e(t[a],a,t)}return o},w.reduce=w.foldl=w.inject=n(1),w.reduceRight=w.foldr=n(-1),w.find=w.detect=function(t,e,n){var i;return i=A(t)?w.findIndex(t,e,n):w.findKey(t,e,n),void 0!==i&&-1!==i?t[i]:void 0},w.filter=w.select=function(t,e,n){var i=[];return e=S(e,n),w.each(t,function(t,n,r){e(t,n,r)&&i.push(t)}),i},w.reject=function(t,e,n){return w.filter(t,w.negate(S(e)),n)},w.every=w.all=function(t,e,n){e=S(e,n);for(var i=!A(t)&&w.keys(t),r=(i||t).length,o=0;r>o;o++){var s=i?i[o]:o;if(!e(t[s],s,t))return!1}return!0},w.some=w.any=function(t,e,n){e=S(e,n);for(var i=!A(t)&&w.keys(t),r=(i||t).length,o=0;r>o;o++){var s=i?i[o]:o;if(e(t[s],s,t))return!0}return!1},w.contains=w.includes=w.include=function(t,e,n){return A(t)||(t=w.values(t)),w.indexOf(t,e,"number"==typeof n&&n)>=0},w.invoke=function(t,e){var n=f.call(arguments,2),i=w.isFunction(e);return w.map(t,function(t){var r=i?e:t[e];return null==r?r:r.apply(t,n)})},w.pluck=function(t,e){return w.map(t,w.property(e))},w.where=function(t,e){return w.filter(t,w.matcher(e))},w.findWhere=function(t,e){return w.find(t,w.matcher(e))},w.max=function(t,e,n){var i,r,o=-(1/0),s=-(1/0);if(null==e&&null!=t){t=A(t)?t:w.values(t);for(var a=0,u=t.length;u>a;a++)i=t[a],i>o&&(o=i)}else e=S(e,n),w.each(t,function(t,n,i){r=e(t,n,i),(r>s||r===-(1/0)&&o===-(1/0))&&(o=t,s=r)});return o},w.min=function(t,e,n){var i,r,o=1/0,s=1/0;if(null==e&&null!=t){t=A(t)?t:w.values(t);for(var a=0,u=t.length;u>a;a++)i=t[a],o>i&&(o=i)}else e=S(e,n),w.each(t,function(t,n,i){r=e(t,n,i),(s>r||r===1/0&&o===1/0)&&(o=t,s=r)});return o},w.shuffle=function(t){for(var e,n=A(t)?t:w.values(t),i=n.length,r=Array(i),o=0;i>o;o++)e=w.random(0,o),e!==o&&(r[o]=r[e]),r[e]=n[o];return r},w.sample=function(t,e,n){return null==e||n?(A(t)||(t=w.values(t)),t[w.random(t.length-1)]):w.shuffle(t).slice(0,Math.max(0,e))},w.sortBy=function(t,e,n){return e=S(e,n),w.pluck(w.map(t,function(t,n,i){return{value:t,index:n,criteria:e(t,n,i)}}).sort(function(t,e){var n=t.criteria,i=e.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(i>n||void 0===i)return-1}return t.index-e.index}),"value")};var P=function(t){return function(e,n,i){var r={};return n=S(n,i),w.each(e,function(i,o){var s=n(i,o,e);t(r,i,s)}),r}};w.groupBy=P(function(t,e,n){w.has(t,n)?t[n].push(e):t[n]=[e]}),w.indexBy=P(function(t,e,n){t[n]=e}),w.countBy=P(function(t,e,n){w.has(t,n)?t[n]++:t[n]=1}),w.toArray=function(t){return t?w.isArray(t)?f.call(t):A(t)?w.map(t,w.identity):w.values(t):[]},w.size=function(t){return null==t?0:A(t)?t.length:w.keys(t).length},w.partition=function(t,e,n){e=S(e,n);var i=[],r=[];return w.each(t,function(t,n,o){(e(t,n,o)?i:r).push(t)}),[i,r]},w.first=w.head=w.take=function(t,e,n){return null==t?void 0:null==e||n?t[0]:w.initial(t,t.length-e)},w.initial=function(t,e,n){return f.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},w.last=function(t,e,n){return null==t?void 0:null==e||n?t[t.length-1]:w.rest(t,Math.max(0,t.length-e))},w.rest=w.tail=w.drop=function(t,e,n){return f.call(t,null==e||n?1:e)},w.compact=function(t){return w.filter(t,w.identity)};var I=function(t,e,n,i){for(var r=[],o=0,s=i||0,a=t&&t.length;a>s;s++){var u=t[s];if(A(u)&&(w.isArray(u)||w.isArguments(u))){e||(u=I(u,e,n));var l=0,c=u.length;for(r.length+=c;c>l;)r[o++]=u[l++]}else n||(r[o++]=u)}return r};w.flatten=function(t,e){return I(t,e,!1)},w.without=function(t){return w.difference(t,f.call(arguments,1))},w.uniq=w.unique=function(t,e,n,i){if(null==t)return[];w.isBoolean(e)||(i=n,n=e,e=!1),null!=n&&(n=S(n,i));for(var r=[],o=[],s=0,a=t.length;a>s;s++){var u=t[s],l=n?n(u,s,t):u;e?(s&&o===l||r.push(u),o=l):n?w.contains(o,l)||(o.push(l),r.push(u)):w.contains(r,u)||r.push(u)}return r},w.union=function(){return w.uniq(I(arguments,!0,!0))},w.intersection=function(t){if(null==t)return[];for(var e=[],n=arguments.length,i=0,r=t.length;r>i;i++){var o=t[i];if(!w.contains(e,o)){for(var s=1;n>s&&w.contains(arguments[s],o);s++);s===n&&e.push(o)}}return e},w.difference=function(t){var e=I(arguments,!0,!0,1);return w.filter(t,function(t){return!w.contains(e,t)})},w.zip=function(){return w.unzip(arguments)},w.unzip=function(t){for(var e=t&&w.max(t,"length").length||0,n=Array(e),i=0;e>i;i++)n[i]=w.pluck(t,i);return n},w.object=function(t,e){for(var n={},i=0,r=t&&t.length;r>i;i++)e?n[t[i]]=e[i]:n[t[i][0]]=t[i][1];return n},w.indexOf=function(t,e,n){var i=0,r=t&&t.length;if("number"==typeof n)i=0>n?Math.max(0,r+n):n;else if(n&&r)return i=w.sortedIndex(t,e),t[i]===e?i:-1;if(e!==e)return w.findIndex(f.call(t,i),w.isNaN);for(;r>i;i++)if(t[i]===e)return i;return-1},w.lastIndexOf=function(t,e,n){var i=t?t.length:0;if("number"==typeof n&&(i=0>n?i+n+1:Math.min(i,n+1)),e!==e)return w.findLastIndex(f.call(t,0,i),w.isNaN);for(;--i>=0;)if(t[i]===e)return i;return-1},w.findIndex=o(1),w.findLastIndex=o(-1),w.sortedIndex=function(t,e,n,i){n=S(n,i,1);for(var r=n(e),o=0,s=t.length;s>o;){var a=Math.floor((o+s)/2);n(t[a])<r?o=a+1:s=a}return o},w.range=function(t,e,n){arguments.length<=1&&(e=t||0,t=0),n=n||1;for(var i=Math.max(Math.ceil((e-t)/n),0),r=Array(i),o=0;i>o;o++,t+=n)r[o]=t;return r};var C=function(t,e,n,i,r){if(!(i instanceof e))return t.apply(n,r);var o=x(t.prototype),s=t.apply(o,r);return w.isObject(s)?s:o};w.bind=function(t,e){if(_&&t.bind===_)return _.apply(t,f.call(arguments,1));if(!w.isFunction(t))throw new TypeError("Bind must be called on a function");var n=f.call(arguments,2),i=function(){return C(t,i,e,this,n.concat(f.call(arguments)))};return i},w.partial=function(t){var e=f.call(arguments,1),n=function(){for(var i=0,r=e.length,o=Array(r),s=0;r>s;s++)o[s]=e[s]===w?arguments[i++]:e[s];for(;i<arguments.length;)o.push(arguments[i++]);return C(t,n,this,this,o)};return n},w.bindAll=function(t){var e,n,i=arguments.length;if(1>=i)throw new Error("bindAll must be passed function names");for(e=1;i>e;e++)n=arguments[e],t[n]=w.bind(t[n],t);return t},w.memoize=function(t,e){var n=function(i){var r=n.cache,o=""+(e?e.apply(this,arguments):i);return w.has(r,o)||(r[o]=t.apply(this,arguments)),r[o]};return n.cache={},n},w.delay=function(t,e){var n=f.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},w.defer=w.partial(w.delay,w,1),w.throttle=function(t,e,n){var i,r,o,s=null,a=0;n||(n={});var u=function(){a=n.leading===!1?0:w.now(),s=null,o=t.apply(i,r),s||(i=r=null)};return function(){var l=w.now();a||n.leading!==!1||(a=l);var c=e-(l-a);return i=this,r=arguments,0>=c||c>e?(s&&(clearTimeout(s),s=null),a=l,o=t.apply(i,r),s||(i=r=null)):s||n.trailing===!1||(s=setTimeout(u,c)),o}},w.debounce=function(t,e,n){var i,r,o,s,a,u=function(){var l=w.now()-s;e>l&&l>=0?i=setTimeout(u,e-l):(i=null,n||(a=t.apply(o,r),i||(o=r=null)))};return function(){o=this,r=arguments,s=w.now();var l=n&&!i;return i||(i=setTimeout(u,e)),l&&(a=t.apply(o,r),o=r=null),a}},w.wrap=function(t,e){return w.partial(e,t)},w.negate=function(t){return function(){return!t.apply(this,arguments)}},w.compose=function(){var t=arguments,e=t.length-1;return function(){for(var n=e,i=t[e].apply(this,arguments);n--;)i=t[n].call(this,i);return i}},w.after=function(t,e){return function(){return--t<1?e.apply(this,arguments):void 0}},w.before=function(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),1>=t&&(e=null),n}},w.once=w.partial(w.before,2);var D=!{toString:null}.propertyIsEnumerable("toString"),O=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];w.keys=function(t){if(!w.isObject(t))return[];if(v)return v(t);var e=[];for(var n in t)w.has(t,n)&&e.push(n);return D&&s(t,e),e},w.allKeys=function(t){if(!w.isObject(t))return[];var e=[];for(var n in t)e.push(n);return D&&s(t,e),e},w.values=function(t){for(var e=w.keys(t),n=e.length,i=Array(n),r=0;n>r;r++)i[r]=t[e[r]];return i},w.mapObject=function(t,e,n){e=S(e,n);for(var i,r=w.keys(t),o=r.length,s={},a=0;o>a;a++)i=r[a],s[i]=e(t[i],i,t);return s},w.pairs=function(t){for(var e=w.keys(t),n=e.length,i=Array(n),r=0;n>r;r++)i[r]=[e[r],t[e[r]]];return i},w.invert=function(t){for(var e={},n=w.keys(t),i=0,r=n.length;r>i;i++)e[t[n[i]]]=n[i];return e},w.functions=w.methods=function(t){var e=[];for(var n in t)w.isFunction(t[n])&&e.push(n);return e.sort()},w.extend=k(w.allKeys),w.extendOwn=w.assign=k(w.keys),w.findKey=function(t,e,n){e=S(e,n);for(var i,r=w.keys(t),o=0,s=r.length;s>o;o++)if(i=r[o],e(t[i],i,t))return i},w.pick=function(t,e,n){var i,r,o={},s=t;if(null==s)return o;w.isFunction(e)?(r=w.allKeys(s),i=E(e,n)):(r=I(arguments,!1,!1,1),i=function(t,e,n){return e in n},s=Object(s));for(var a=0,u=r.length;u>a;a++){var l=r[a],c=s[l];i(c,l,s)&&(o[l]=c)}return o},w.omit=function(t,e,n){if(w.isFunction(e))e=w.negate(e);else{var i=w.map(I(arguments,!1,!1,1),String);e=function(t,e){return!w.contains(i,e)}}return w.pick(t,e,n)},w.defaults=k(w.allKeys,!0),w.clone=function(t){return w.isObject(t)?w.isArray(t)?t.slice():w.extend({},t):t},w.tap=function(t,e){return e(t),t},w.isMatch=function(t,e){var n=w.keys(e),i=n.length;if(null==t)return!i;for(var r=Object(t),o=0;i>o;o++){var s=n[o];if(e[s]!==r[s]||!(s in r))return!1}return!0};var L=function(t,e,n,i){if(t===e)return 0!==t||1/t===1/e;if(null==t||null==e)return t===e;t instanceof w&&(t=t._wrapped),e instanceof w&&(e=e._wrapped);var r=p.call(t);if(r!==p.call(e))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!==+t?+e!==+e:0===+t?1/+t===1/e:+t===+e;case"[object Date]":case"[object Boolean]":return+t===+e}var o="[object Array]"===r;if(!o){if("object"!=typeof t||"object"!=typeof e)return!1;var s=t.constructor,a=e.constructor;if(s!==a&&!(w.isFunction(s)&&s instanceof s&&w.isFunction(a)&&a instanceof a)&&"constructor"in t&&"constructor"in e)return!1}n=n||[],i=i||[];for(var u=n.length;u--;)if(n[u]===t)return i[u]===e;if(n.push(t),i.push(e),o){if(u=t.length,u!==e.length)return!1;for(;u--;)if(!L(t[u],e[u],n,i))return!1}else{var l,c=w.keys(t);if(u=c.length,w.keys(e).length!==u)return!1;for(;u--;)if(l=c[u],!w.has(e,l)||!L(t[l],e[l],n,i))return!1}return n.pop(),i.pop(),!0};w.isEqual=function(t,e){return L(t,e)},w.isEmpty=function(t){return null==t?!0:A(t)&&(w.isArray(t)||w.isString(t)||w.isArguments(t))?0===t.length:0===w.keys(t).length},w.isElement=function(t){return!(!t||1!==t.nodeType)},w.isArray=m||function(t){return"[object Array]"===p.call(t)},w.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},w.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){w["is"+t]=function(e){return p.call(e)==="[object "+t+"]"}}),w.isArguments(arguments)||(w.isArguments=function(t){return w.has(t,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(w.isFunction=function(t){return"function"==typeof t||!1}),w.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},w.isNaN=function(t){return w.isNumber(t)&&t!==+t},w.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"===p.call(t)},w.isNull=function(t){return null===t},w.isUndefined=function(t){return void 0===t},w.has=function(t,e){return null!=t&&g.call(t,e)},w.noConflict=function(){return a._=u,this},w.identity=function(t){return t},w.constant=function(t){return function(){return t}},w.noop=function(){},w.property=function(t){return function(e){return null==e?void 0:e[t]}},w.propertyOf=function(t){return null==t?function(){}:function(e){return t[e]}},w.matcher=w.matches=function(t){return t=w.extendOwn({},t),function(e){return w.isMatch(e,t)}},w.times=function(t,e,n){var i=Array(Math.max(0,t));e=E(e,n,1);for(var r=0;t>r;r++)i[r]=e(r);return i},w.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},w.now=Date.now||function(){return(new Date).getTime()};var M={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},R=w.invert(M),N=function(t){var e=function(e){return t[e]},n="(?:"+w.keys(t).join("|")+")",i=RegExp(n),r=RegExp(n,"g");return function(t){return t=null==t?"":""+t,i.test(t)?t.replace(r,e):t}};w.escape=N(M),w.unescape=N(R),w.result=function(t,e,n){var i=null==t?void 0:t[e];return void 0===i&&(i=n),w.isFunction(i)?i.call(t):i};var F=0;w.uniqueId=function(t){var e=++F+"";return t?t+e:e},w.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var U=/(.)^/,j={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},B=/\\|'|\r|\n|\u2028|\u2029/g,H=function(t){return"\\"+j[t]};w.template=function(t,e,n){!e&&n&&(e=n),e=w.defaults({},e,w.templateSettings);var i=RegExp([(e.escape||U).source,(e.interpolate||U).source,(e.evaluate||U).source].join("|")+"|$","g"),r=0,o="__p+='";t.replace(i,function(e,n,i,s,a){return o+=t.slice(r,a).replace(B,H),r=a+e.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?o+="'+\n((__t=("+i+"))==null?'':__t)+\n'":s&&(o+="';\n"+s+"\n__p+='"),e}),o+="';\n",e.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var s=new Function(e.variable||"obj","_",o)}catch(a){throw a.source=o,a}var u=function(t){return s.call(this,t,w)},l=e.variable||"obj";return u.source="function("+l+"){\n"+o+"}",u},w.chain=function(t){var e=w(t);return e._chain=!0,e};var z=function(t,e){return t._chain?w(e).chain():e};w.mixin=function(t){w.each(w.functions(t),function(e){var n=w[e]=t[e];w.prototype[e]=function(){var t=[this._wrapped];return d.apply(t,arguments),z(this,n.apply(w,t))}})},w.mixin(w),w.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=l[t];w.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0],z(this,n)}}),w.each(["concat","join","slice"],function(t){var e=l[t];w.prototype[t]=function(){return z(this,e.apply(this._wrapped,arguments))}}),w.prototype.value=function(){return this._wrapped},w.prototype.valueOf=w.prototype.toJSON=w.prototype.value,w.prototype.toString=function(){return""+this._wrapped},i=[],r=function(){return w}.apply(e,i),!(void 0!==r&&(t.exports=r))}).call(this)},function(t,e,n){function i(t){try{var e,n=!!t.getItem,i=!1;try{e=Date.now(),t.setItem(e,e),t.removeItem(e),i=!0}catch(r){}return n&&i}catch(o){return!1}}function r(){return h.getFlashPlugin()&&h.getFlashVersion()>=d}function o(){try{return!(!window.hasOwnProperty("Audio")||!(new window.Audio).canPlayType("audio/mpeg;").replace(/^no$/,""))}catch(t){return!1}}function s(){try{return!(!window.hasOwnProperty("Audio")||!(new window.Audio).canPlayType("application/vnd.apple.mpegURL").replace(/^no$/,""))}catch(t){return!1}}function a(){return c.isIE9&&!c.isIEMobile?!1:o()}var u,l=n(19),c=n(20),h=n(21),d=9,f=t.exports={};u={audio:function(){return a()||r()},flash:function(){return r()},HTML5Audio:function(){return o()},HLSAudio:function(){return s()},sendBeacon:function(){return window.navigator.sendBeacon;
},newWidget:function(){return"undefined"==typeof window.JSON?!1:c.isIEMobile?!0:document.documentMode<=8||c.isIE6||c.isIE7||c.isIE8?!1:!0},sessionStorage:function(){try{return"undefined"!=typeof sessionStorage&&i(sessionStorage)}catch(t){return!1}},localStorage:function(){try{return"undefined"!=typeof localStorage&&i(localStorage)}catch(t){return!1}},webSocket:function(){return"undefined"!=typeof window.WebSocket},WebWorker:function(){return!1},BlobBuilder:function(){return window.MozBlobBuilder||window.WebKitBlobBuilder||window.BlobBuilder},touch:function(){try{return window.hasOwnProperty("ontouchstart")}catch(t){return!1}},speech:function(){return"onwebkitspeechchange"in document.createElement("input")},corsImg:function(){return"crossOrigin"in new Image},transform3d:function(){var t,e,n=document.createElement("modernizr"),i=n.style,r=document.head||document.getElementsByTagName("head")[0],o=document.documentElement,s=" -webkit- -moz- -o- -ms- -khtml- ".split(" "),a="@media ("+s.join("transform-3d),(")+"modernizr)",u=document.createElement("style"),l=document.createElement("div"),c=0;return t=function(t){for(;t[c];){if("undefined"!=typeof i[t[c]])return!0;c++}},e=!!t(["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"]),e&&"undefined"!=typeof o.style.webkitPerspective&&(e=null,u.textContent=a+"{#modernizr{height:3px}}",r.appendChild(u),l.id="modernizr",o.appendChild(l),e=3===l.offsetHeight?!0:!1,u.parentNode.removeChild(u),l.parentNode.removeChild(l)),e},typedArrays:function(){try{return window.hasOwnProperty("Uint8Array")}catch(t){return!1}}},l.each(u,function(t,e){f[e]=!!t()}),u=null},function(t,e,n){var i=n(17);t.exports=i,i.mixin({noop:function(){},proxy:function(t,e){[].slice.call(arguments,2).forEach(function(n){if("function"!=typeof t[n])throw new Error("Proxy source has no method named "+n);e[n]=t[n].bind(t)})},toAttributesString:function(t){var e,n,r=[];return i.each(t,function(t,o){e=o+'="',n=[],i.isObject(t)?i.each(t,function(t,e){n.push(e+":"+t)}):n.push(t),r.push(e+n.join(";")+'"')}),r.join(" ")}})},function(t,e){var n=navigator.userAgent.toLowerCase(),i=function(t){return t.test(n)},r=t.exports={};r.isOpera="undefined"!=typeof window.opera&&"[object Opera]"===window.opera.toString(),r.isChrome=i(/chrome/),r.isWebKit=i(/webkit/),r.isSafari=!r.isChrome&&i(/safari/),r.isUIWebView=i(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i),r.isIE=!r.isOpera&&i(/msie/),r.isIE6=r.isIE&&i(/msie 6/),r.isIE7=r.isIE&&i(/msie 7/),r.isIE8=r.isIE&&i(/msie 8/),r.isIE9=r.isIE&&i(/msie 9/),r.isGecko=!r.isWebKit&&i(/gecko/),r.isWindows=i(/windows|win32/),r.isMac=i(/macintosh|mac os x/),r.isLinux=i(/linux/),r.isMobile=i(/mobile|Android|iPhone|iPod|iPad|PlayBook|Skyfire/i),r.isMobileSafari=r.isSafari&&r.isMobile,r.isAndroid=i(/android/),r.isiOS=i(/iphone|ipod|ipad/),r.isIEMobile=r.isMobile&&r.isIE,r.isSecure=/^https/i.test(window.location.protocol),r.isHiDPI=window.devicePixelRatio?window.devicePixelRatio>1:!1,r.isNextSupported=!r.isMobile||i(/iPad/i),r.backingStoreRatio=function(){var t=document.createElement("canvas"),e=t.getContext&&t.getContext("2d");return e?e.backingStorePixelRatio||e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||1:void 0}()},function(t,e){t.exports={getFlashPlugin:function(){var t,e,n,i;if("undefined"!=typeof window.ActiveXObject)try{i=new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash"),i&&(t=i.GetVariable("$version"))}catch(r){}else navigator.plugins&&navigator.plugins.length>0&&(n="application/x-shockwave-flash",e=navigator.mimeTypes,e&&e[n]&&e[n].enabledPlugin&&e[n].enabledPlugin.description&&(t=e[n].enabledPlugin.description));return t},getFlashVersion:function(){var t=this.getFlashPlugin().match(/\d\S+/)[0].replace(/,/g,".").split(".");return[t[0],t[1]].join(".")},getOperatingSystem:function(){var t=navigator.appVersion;return-1!==t.indexOf("Win")?"Windows":-1!==t.indexOf("Mac")?"MacOS":-1!==t.indexOf("X11")?"UNIX":-1!==t.indexOf("Linux")?"Linux":"undefined-OS"},getBrowser:function(){var t,e,n=navigator.userAgent,i=n.match(/(opera|chrome|safari|firefox|msie)\/?\s*(\.?\d+(\.\d+)*)/i),r=n.match(/version\/([\.\d]+)/i);return e=i&&null!==r?r[1]:i[2],t=i?[i[1],e]:[navigator.appName,navigator.appVersion],t.join()}}},function(t,e,n){var i=n(23),r=n(24),o=n(18);t.exports={start:function(){var t,e,n=document.getElementById("widget"),s={},a='<div style="position:absolute;width:100%;top:50px;text-align:center;"><p style="line-height:20px;">{errorMessage}</p><a href="http://soundcloud.com" title="Play on SoundCloud" class="g-sc-logo" style="display:inline-block">SoundCloud.com</a></div>';"false"===i.getQueryParam("legacy_fallback")?(e=a,s.errorMessage="Sorry, we don’t support your browser. Please upgrade to the latest version and try again."):o.flash?(e='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%" id="flashwidget"><param name="movie" value="{flashPlayerSrc}"> </param><param name="allowscriptaccess" value="always"> </param><embed src="{flashPlayerSrc}" type="application/x-shockwave-flash" allowscriptaccess="always" width="100%" height="100%"> </embed></object>',s.flashPlayerSrc="//player.soundcloud.com/player.swf"+location.search+"&enable_api=true"):(e=a,s.errorMessage='You need Adobe Flash to play tracks. Please <a href="http://get.adobe.com/flashplayer" target="_blank">install Flash</a> and reload the page.'),t=r.supplant(e,s),n.className+=" noBorders fullSize",n.innerHTML=t}}},function(t,e,n){var i,r=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,o=["---","scheme","authority","userInfo","user","password","host","port","relative","path","directory","file","query","fragment"],s=n(19),a=t.exports={parse:function(t,e){var n,i,s=r.exec(t),u={};for(e||(e=o),n=1;n<o.length;++n)if(i=o[n],-1!==e.indexOf(i)&&(s[n]||"query"===i))switch(i){case"port":u[i]=parseInt(s[n],10);break;case"path":u[i]=s[n].split("/").map(decodeURIComponent).join("/");break;case"query":u[i]=a.parseQueryString(s[n]);break;default:u[i]=s[n]}return u},joinPath:function(t){return t.filter(Boolean).map(encodeURIComponent).join("/")},parseQueryString:function(t){var e={};return t&&t.replace(/([^?=&]+)(?:=([^&]*))?/g,function(t,n,i){switch(n=decodeURIComponent(n),i=decodeURIComponent(i||""),typeof e[n]){case"object":e[n].push(i);break;case"undefined":e[n]=i;break;default:e[n]=[e[n],i]}}),e},stringify:function(t,e){var n,r,o=[];return e&&(r=a.parse(e),t.query&&r.query&&(s.extend(r.query,t.query),delete t.query),t=s.extend({},r,t)),t.scheme&&o.push(t.scheme+"://"),t.user&&(o.push(t.user),t.password&&o.push(":"+t.password),o.push("@")),t.host&&o.push(t.host),t.port&&o.push(":"+t.port),t.path&&("string"==typeof t.path?o.push(t.path.split("/").map(encodeURIComponent).join("/")):o.push(a.joinPath(t.path))),n=i(t.query),n&&o.push("?"+n),t.fragment&&o.push("#"+t.fragment),o.join("")},modify:function(t,e){var n=a.parse(t);return s.isFunction(e)?n=e.call(null,n):"object"==typeof e&&(e.query&&(s.extend(n.query,e.query),delete e.query),s.extend(n,e)),a.stringify(n)},getQueryParam:function(t){return a.parseQueryString(window.location.search)[t]},getQueryParams:function(){var t,e;return function(n){var i=n||window.location.search;return i!==t&&(t=i,e=a.parseQueryString(i)),e}}()};i=function(t){var e,n,i,r,o,s=[];if(t)for(e in t)if(t.hasOwnProperty(e)&&(r=t[e],null!==r&&r!==o))if("object"==typeof r)for(i=r.length,n=0;i>n;++n)s.push(encodeURIComponent(e)+"="+encodeURIComponent(r[n]).replace(/%2F/g,"/"));else s.push(encodeURIComponent(e)+"="+encodeURIComponent(r).replace(/%2F/g,"/"));return s.join("&")}},function(t,e){function n(t,e,n){return(t||"").replace(n,function(t,n){var i=e[n];return"string"==typeof i||"number"==typeof i?i:t})}var i=/[&<>\"\']/g,r=function(t){return"&#"+t.charCodeAt(0)+";"},o=/(&(lt|gt|quot|apos|amp|#\d+);|.)/gi,s={lt:"<",gt:">",quot:'"',apos:"'",amp:"&"},a=function(t,e,n){return s[n]||(n?String.fromCharCode(n.substring(1)):e)};t.exports={unescapeHTML:function(t){return(t||"").replace(o,a)},escapeHTML:function(t){return(t||"").replace(i,r)},supplant:function(t,e){return n(t,e,/\{([^\{\}]*)\}/g)},replaceCSSVariables:function(t,e){return n(t,e,/\$([\w-]*)/g)}}},function(t,e,n){(function(e){function i(){var t;t=X.extend({template:function(){return""}}),N.attach(document.body),E.initialize(U),w.start(),D.on("widget:ready",r).on("error:geo_blocked",o).on("error:no_stream_info",o).on("error:audio_support",s).on("audio:play",a).on("audio:play-intent",a).on("exception",u).on("broadcast:audio:play",h).on("sound:deeplink",d),T.set("me",g()).set("router",(new $).setRoutes(V)).set("appView",new t({el:e(Q)}).render()).set("widgetParams",p()),B.initializeFromUserSettings(),b.setAudioAd(S),z.setAdManager(b),b.on("ad:play",a),e(window).on("unload",c).on("error",l),e(document).on("keydown",j.handleKeyDown).on("keyup",j.handleKeyUp),v(),f().done(G.init),e.whenAll([m(),_()]).always(function(){k.history.start({hashChange:!1,pushState:!0,root:T.get("app_root")})})}function r(){T.set("widgetReady",!0),window.console&&window.console.log("SoundCloud Embed Player (api-web)")}function o(){z.hasNextSound()?z.playNext():L.raise({message:C.SOUND_GEO_BLOCKED,fatal:!0})}function s(){L.raise({message:C.INSTALL_FLASH,fatal:!0})}function a(){D.broadcast({excludeThis:!0},"audio:play")}function u(t){t.fatal?T.get("router").apply("error",{resource_id:t.resource_id}):(window.console.warn("Exception: %s",t.get("message")),window.console.warn(t))}function l(t){var e=t.originalEvent;return L.raise({message:e.message,error:e,fatal:!1}),!0}function c(){G.dispose()}function h(){T.get("widgetParams").single_active&&(z.pause(),b.pause())}function d(t,e){var n=e&&e.getCurrentSound();n&&!n.isPrivate()&&n===z.getCurrentSound()&&(t.href=(n.playlist||e).getDeeplinkURL(),z.pause(n))}function f(){var t=e.Deferred();return"delayed"===T.get("widgetParams").tracking?(e(document).one("click",t.resolve),D.on("audio:play",t.resolve)):t.resolve(),t}function p(){var t,e,n;return t=y.extend({},I,k.history.getOptions()),e=y.pick(t,y.keys(I)),e.visual?e.color=I.color:(n=x(e.color).hex(),e.color=n?n.substr(1):I.color),e}function g(){var t=new Y;return t.on("change",function(){J.set("me",y.extend({lastFetchTime:t.lastFetchTime},t.attributes))}),t}function m(t){if(!A.isLoggedIn())return D.one("broadcast:connect:login",m),e.Deferred().reject();var n,i=T.get("me"),r=J.get("me"),o=arguments[1];return i.baseUrl="me",void 0===t&&(t=2),o||(o=e.Deferred().done(function(){Y.instances.add(i),D.trigger("connect:hasUserData")})),r?(n=r.lastFetchTime||Date.now(),delete r.lastFetchTime,i.lastFetchTime=n,i.set(r),o.resolve()):i.fetch().done(o.resolve).fail(function(e){401===e.status?(A.logout(),o.reject(e)):t?m(t-1,o):o.reject(e)}),o}function v(){var t=new q,n=new P;t.render(),n.render(),e(Q).append(t.el).append(n.el)}function _(){var t=e.Deferred();return R.initialize(M).fetchAssignments().done(function(e){R.setExperimentsFromQueryParams(K.getQueryParams()),O.setExperiments(e),t.resolve()}).fail(function(){t.reject()}),t}var y=n(19),b=n(26),w=n(44),E=n(54),S=n(56),k=n(32),x=n(77),T=n(30),A=n(55),P=n(78),I=n(62),C=n(115),D=n(42),O=n(73),L=n(116),M=n(117),R=n(118),N=n(119),F=n(22),U=n(74),j=n(120),B=n(79),H=n(38),z=n(45),q=n(121),$=n(124),V=n(471),W=n(18),G=n(472),K=n(23),Y=n(76),X=n(87),J=new H("auth"),Q="#widget";t.exports={start:function(t,e){var n="true"===K.getQueryParams(window.location.search)["rollouts.internal_qa"];T.set("app_version",t).set("internal_qa",n),W.newWidget?(i(),W.audio||D.trigger("error:audio_support")):F.start()}}}).call(e,n(1))},function(t,e,n){(function(e){function i(){for(var t,e=h||[];t=e.pop();)"resolved"!==t.state()&&t.abort()}function r(){return c||(c=new m({giveUp:1})),c}function o(t,e,n,i){t.sound&&"rejected"!==e.state()?s.call(this,t,e,n,i):e.resolve()}function s(t,e,n,i){var r=t.sound;r.hold(),r.on("finish",this._onAdFinish,this).on("pause",this._onAdPause,this).on("play",this._onAdPlay,this).one("play",this._onAdPlayStart,this),this._currentAd=t,this._upcomingSound=n,this._upcomingSound.hold(),e.done(a.bind(this)),r.play(d.extend({checkpointInterval:w},i))}function a(){var t=this.getCurrentSound();t.off("finish",this._onAdFinish).off("pause",this._onAdPause).off("play",this._onAdPlay),t.isPlaying()&&t.pause(),t.release(),this._currentAd=null,this._upcomingSound.release(),this._upcomingSound=null}function u(t){var e,n=k.getCurrentAd(),i=k.getCurrentSound(),r=n.get("audio"),o=n.get("companion_display"),s={monetization_type:n.getMonetizationType(),monetized_object:i.getMonetizableTrack().getUrn()};switch(t){case"companion_display:impression":p.trackEvent("impression",o),_.trigger(y.IMPRESSION,{impressionName:"companion_display"});break;case"audio_ad:impression":p.trackEvent("impression",r),_.trigger(y.IMPRESSION,{impressionName:"audio_ad_impression"});break;case"companion_display:clickthrough":p.trackEvent("adClick",o),e=d.extend({ad_urn:o.ad_urn,external_media:o.ad_visual,click_name:"clickthrough::companion_display",click_object:i.getUrn(),click_target:o.landing_page,promoted_by:null},s),_.trigger(y.CLICKED,e);break;case"audio_ad:skip":p.trackEvent("skip",r),e=d.extend({ad_urn:r.ad_urn,click_name:"ad::skip",click_object:i.getUrn(),click_target:null,external_media:o.ad_visual},s),_.trigger(y.SKIPPED,e);break;case"audio_ad:finish":p.trackEvent("finish",r),e=d.extend({ad_urn:r.ad_urn,click_name:"ad::finish",click_object:i.getUrn(),click_target:null,external_media:o.ad_visual},s),_.trigger(y.FINISH,e);break;case"audio_ad:playStart":p.trackEvent("play",r)}}var l,c,h,d=n(19),f=n(20),p=n(27),g=n(32),m=n(41),v=n(30),_=n(42),y=n(43).ADS,b=1e3,w=3e3,E={AD_PLAY:"ad:play",AD_PAUSE:"ad:pause",AD_SKIP:"ad:skip",AD_FINISH:"ad:finish"},S=["visual-single-sound","single-sound"],k=t.exports=d.extend({},g.Events,{_adDeferred:null,_currentAd:null,_upcomingSound:null,setAudioAd:function(t){l=t},prefetchAudioAd:function(t){d.delay(function(){var e=new l({id:t.id}),n=r();e.configureMonetizableTrack(t),!e.isPopulated()&&n.enabled&&e.fetch().fail(n.failed).done(n.succeeded)},b)},getCurrentSound:function(){return this._currentAd&&this._currentAd.sound},getUpcomingSound:function(){return this._upcomingSound},getCurrentAd:function(){return this._currentAd},skip:function(t){var n=this._adDeferred,r=this._currentAd;return i(),n?(this.getCurrentSound()&&(r.sound.pause(),this.trigger(E.AD_SKIP,r),this.metrics("audio_ad:skip",t)),n.resolve()):e.Deferred().resolve()},toggle:function(t){var e,n=this.getCurrentSound();e=!n.isPlaying(),e?n.play(t):n.pause(t)},pause:function(){var t=this.getCurrentSound();t&&t.pause()},whenAdFinished:function(t,n){var s=this._adDeferred,a=new l({id:t.id}),u=r(),c=h||[];return a.configureMonetizableTrack(t),s&&"pending"===s.state()?this.skip():a.sound&&a.sound.currentTime()>0?e.Deferred().resolve():(s=this._adDeferred=e.Deferred(),!a.isPopulated()&&u.enabled?(c.push(a.fetch({async:!f.isMobile}).fail(function(){u.failed(),s.reject(),i()}).done(function(){u.succeeded(),o.call(this,a,s,t,n),i()}.bind(this))),s):(o.call(this,a,s,t,n),s))},adsEnabled:function(){return!v.get("adsDisabled")&&v.get("widgetParams").show_artwork&&d.contains(S,v.get("router").layoutName)},_onAdFinish:function(){var t=this.getCurrentAd(),e=this._adDeferred;this.trigger(E.AD_FINISH,t),this.metrics("audio_ad:finish"),e.resolve()},_onAdPause:function(){var t=this.getCurrentAd();this.trigger(E.AD_PAUSE,t)},_onAdPlay:function(){var t=this.getCurrentAd();this.trigger(E.AD_PLAY,t)},_onAdPlayStart:function(){this.metrics("audio_ad:playStart")},_isUserWithinGracePeriod:function(){return!1},metrics:function(t,e){k.getCurrentAd()&&k.getCurrentSound()&&u(t,e||{})}})}).call(e,n(1))},function(t,e,n){function i(t){var e=new Image;e.src=t}var r=n(19),o=n(28),s=n(38),a=n(23),u=new s("promoted-persistent"),l={addToSet:"add_to_set_click",follow:"follow_click",like:"like_click",play:"sound_play",skip:"sound_skip",finish:"sound_finish",impression:"impression",repost:"repost_click",share:"share_click",adClick:"ad_click",soundClickThrough:"sound_click",userClickThrough:"profile_click",purchaseClickThrough:"purchase_click"},c=t.exports={getAudioAdsUrl:function(t){var e={sc_a_id:u.get("sc_a_id"),referrer:a.parse(document.referrer).host,track_id:t,disgraceful:!1};return o.getEndpointUrl("audioAd",null,e)},trackEvent:function(t,e){c.getTrackingUrls(t,e).forEach(i)},storeTargetingAttrs:function(t){t.sc_a_id&&u.set("sc_a_id",t.sc_a_id)},getTrackingUrls:function(t,e){var n=e&&e.tracking&&e.tracking[l[t]]||[];return r.isArray(n)?n:[n]}}},function(t,e,n){function i(t,e,n){var i=a[t];return i.host+s.stringify({path:e?r(i.path,e):i.path,query:o.extend({},i.query,n)})}function r(t,e){return t.replace(/:([\w-]+)/g,function(t,n){return null!=e[n]?e[n]:""})}var o=n(19),s=n(23),a=n(29);t.exports={getEndpointUrl:i}},function(t,e,n){var i=n(30),r=i.get("api_web_host"),o=i.get("public_api_host");t.exports={user:{host:r,path:"users/:urn"},playlist:{host:r,path:"playlists/:id",query:{representation:"full"}},track:{host:r,path:"tracks/:urn"},trackBatch:{host:r,path:"tracks"},relatedTracks:{host:r,path:"tracks/:id/related"},spotlightItems:{host:r,path:"users/:id/spotlight"},userLikes:{host:r,path:"users/:id/likes"},assignments:{host:r,path:"assignments/"},userStreamItems:{host:r,path:"stream/users/:id"},userTracks:{host:r,path:"users/:id/tracks"},audioAd:{host:r,path:"audio-ad"},resolveWithAPIWeb:{host:r,path:"resolve",query:{url:null}},trackStreams:{host:o,path:"i1/tracks/:id/streams"},group:{host:o,path:"groups/:id"},groupTracks:{host:o,path:"groups/:id/tracks"},comment:{host:o,path:"comments/:id"},myFollowers:{host:o,path:"me/followers"},myFollowings:{host:o,path:"me/followings"},userFollowers:{host:o,path:"users/:id/followers"},myGroups:{host:o,path:"me/groups"},myTrackLikes:{host:o,path:"e1/me/track_likes/"},commentHeads:{host:o,path:"app/widget/tracks/:id/comments",query:{filter_replies:1}},resolveWithPublicAPI:{host:o,path:"resolve",query:{url:null,"_status_code_map[302]":200,_status_format:"json"}}}},function(t,e,n){var i,r=n(31),o=n(19),s=n(37),a=n(23),u="true"===a.parse(location.search).query.visual,l=t.exports=new s;r.applyTo(l),i="https://w.soundcloud.com/player/callback.html",o.each({app_version:null,app_root:a.parse("https://w.soundcloud.com/player/").directory||"/",api_web_host:"https://api-widget.soundcloud.com/",public_api_host:"https://api.soundcloud.com/",eventlogger_tracking_url:"https://l9bjkkhaycw6f8f4.soundcloud.com",widget_id:"widget_"+Date.now(),client_application_id:u?90575:43164,client_id:u?"a3e059563d7fd3372b49b37f00a00bcf":"cUa40O3Jg3Emvp6Tv4U6ymYYO50NUGpJ",redirect_uri:i,fb_app_id:"19507961798",mixi_api_key:"1403ed11563185e9cff6cfeedf4f2ecf77fa459e",me:null,oauth_token:null,preferFlashAudio:!0,promotedContentAccessToken:"widget",router:null,widgetReady:!1,appView:null,widgetParams:{},wisHost:"https://wis.sndcdn.com",adsDisabled:!1},function(t,e){l.set(e,t,{silent:!0})}),l.finalize()},function(t,e,n){var i=n(19),r=n(32),o=n(34);t.exports=new o(i.extend({around:{set:function(t,e,n,i){var r,o,s=i&&i.silent;return s||(o=this.get(e)),r=t(e,n,i),s||o===n||this.trigger(e,{prev:o,current:n}),r},unset:function(t,e,n){var i,r,o=n&&n.silent;return o||(r=this.get(e)),i=t(e,n),o||void 0===r||this.trigger(e,{prev:r,current:void 0}),i}},before:{reset:function(t){t&&t.silent||this.each(function(t,e){this.trigger(e,{prev:this.get(e),current:void 0})},this)}}},r.Events))},function(t,e,n){(function(e){var i=n(19),r=n(23),o=n(24),s=n(33),a=n(34),u=s.Model.prototype,l=s.Collection.prototype,c="url";t.exports=s,i.extend(s.History.prototype,{getFragment:function(t){var e=this.getOptions(t);return e[c]||""},_getParams:function(t){return r.parse(o.unescapeHTML(t)).query},getOptions:function(t){var e,n,o,s;return e=this._getParams(t||location.search),e[c]=decodeURIComponent(e[c]),n=this._getParams(e[c]),o=r.parse(e[c]),o.path&&(s=o.host&&"soundcloud.com"!==o.host?o.path.replace(/^[#\/]/,""):o.path.replace(/\/+$/,"")),e[c]=s,e=i.extend(e,n),i.each(e,function(t,n){"false"===t?e[n]=!1:"true"===t?e[n]=!0:"start_track"===n&&(e[n]=parseInt(t,10))}),e}}),function(){function t(t,e){return function(){delete t._requests[e]}}function n(n){return function(r){var o;return r=i.extend({url:i.result(this,"url"),jqAjax:!1,saveRequest:!1,keepForever:!1,dataType:"json"},r),this._requests||(this._requests={}),o=this._requests[r.url],o?(r.success&&o.done(function(t){r.success(this,t)}.bind(this)),r.error&&o.fail(r.error)):(o=this._requests[r.url]=r.jqAjax?e.ajax(r):n.call(this,r),r.keepForever||o[r.saveRequest?"fail":"always"](t(this,r.url))),o}}u.fetch=n(u.fetch),l.fetch=n(l.fetch)}(),u.change=function(){var t=0;return function(e){var n;e&&e.force&&e.force.forEach(function(t){this._changed[t]=this.get(t)}.bind(this)),++t;for(n in this._changed)this._changed.hasOwnProperty(n)&&this.trigger("change:"+n,this,this._changed[n],e,t);this.trigger("change",this,e,t),this._previousAttributes=i.clone(this.attributes),this._changed={}}}(),s.Model.extend=s.Collection.extend=s.View.extend=function(t){return function(){var e,n,r=i.toArray(arguments),o=0;return e=r.filter(function(t,e){return t instanceof a?(o=e+1,!0):void 0}),n=t.apply(this,r.slice(o)),e.forEach(function(t){t.applyTo(n.prototype)}),n}}(s.View.extend),l.add=function(t,e){var n,r,o,s,a,u,l,c,h={},d={};for(e||(e={}),t=i.isArray(t)?t.slice():[t],n=t.length;n--;)l=!1,(s=t[n]=this._prepareModel(t[n],e))?(h[a=s.cid]||this._byCid[a]||null!==(u=s.id)&&u!==c&&(d[u]||this._byId[u]))&&(s.release(),l=!0):l=!0,l?t.splice(n,1):h[a]=d[u]=s;for(n=0,o=t.length;o>n;n++)(s=t[n]).on("all",this._onModelEvent,this),this._byCid[s.cid]=s,null!==s.id&&s.id!==c&&(this._byId[s.id]=s);if(this.length+=o,r=null!==e.at&&e.at!==c?e.at:this.models.length,Array.prototype.splice.apply(this.models,[r,0].concat(t)),this.comparator&&this.sort({silent:!0}),e.silent)return this;for(n=0,o=this.models.length;o>n;n++)h[(s=this.models[n]).cid]&&(e.index=n,s.trigger("add",s,this,e));return this}}).call(e,n(1))},function(t,e,n){(function(){var t,i=function(){return this}(),r=i.Backbone,o=Array.prototype.slice,s=Array.prototype.splice;t=e,t.VERSION="0.9.1";var a=i._;a||(a=n(19));var u=i.jQuery||i.Zepto||i.ender;t.setDomLibrary=function(t){u=t},t.noConflict=function(){return i.Backbone=r,this},t.emulateHTTP=!1,t.emulateJSON=!1,t.Events={on:function(t,e,n){if(e===u.noop)return this;var i;t=t.split(/\s+/);for(var r=this._callbacks||(this._callbacks={});i=t.shift();){var o=r[i]||(r[i]={}),s=o.tail||(o.tail=o.next={});s.callback=e,s.context=n,o.tail=s.next={}}return this},off:function(t,e,n){if(e===u.noop)return this;var i,r,o;if(t){if(r=this._callbacks)for(t=t.split(/\s+/);i=t.shift();)if(o=r[i],delete r[i],e&&o)for(;(o=o.next)&&o.next;)(o.callback!==e||n&&o.context!==n)&&this.on(i,o.callback,o.context)}else delete this._callbacks;return this},trigger:function(t){var e,n,i,r,s,a,u;if(!(i=this._callbacks))return this;for(a=i.all,(t=t.split(/\s+/)).push(null);e=t.shift();)a&&t.push({next:a.next,tail:a.tail,event:e}),(n=i[e])&&t.push({next:n.next,tail:n.tail});for(u=o.call(arguments,1);n=t.pop();)for(r=n.tail,s=n.event?[n.event].concat(u):u;(n=n.next)!==r;)n.callback.apply(n.context||this,s);return this},one:function(t,e,n){var i,r=this,o=function(t){var i=function(){r.off(t,i,n),e.apply(this,arguments)};return i};for(t=t.split(/\s+/);i=t.shift();)r.on(i,o(i),n);return this}},t.Events.bind=t.Events.on,t.Events.unbind=t.Events.off,t.Model=function(t,e){var n;if(t||(t={}),e&&e.parse&&(t=this.parse(t)),(n=E(this,"defaults"))&&(t=a.extend({},n,t)),e&&e.collection&&(this.collection=e.collection),this.attributes={},this._escapedAttributes={},this.cid=a.uniqueId("c"),!this.set(t,{silent:!0}))throw new Error("Can't create an invalid model");delete this._changed,this._previousAttributes=a.clone(this.attributes),this.initialize.apply(this,arguments)},a.extend(t.Model.prototype,t.Events,{idAttribute:"id",initialize:function(){},toJSON:function(){return a.clone(this.attributes)},get:function(t){return this.attributes[t]},escape:function(t){var e;if(e=this._escapedAttributes[t])return e;var n=this.attributes[t];return this._escapedAttributes[t]=a.escape(null==n?"":""+n)},has:function(t){return null!=this.attributes[t]},set:function(e,n,i){var r,o,s;if(a.isObject(e)||null==e?(r=e,i=n):(r={},r[e]=n),i||(i={}),!r)return this;if(r instanceof t.Model&&(r=r.attributes),i.unset)for(o in r)r[o]=void 0;if(!this._validate(r,i))return!1;this.idAttribute in r&&(this.id=r[this.idAttribute]);var u=this.attributes,l=this._escapedAttributes,c=this._previousAttributes||{},h=this._setting;this._changed||(this._changed={}),this._setting=!0;for(o in r)s=r[o],a.isEqual(u[o],s)||delete l[o],i.unset?delete u[o]:u[o]=s,this._changing&&!a.isEqual(this._changed[o],s)&&(this.trigger("change:"+o,this,s,i),this._moreChanges=!0),delete this._changed[o],a.isEqual(c[o],s)&&a.has(u,o)==a.has(c,o)||(this._changed[o]=s);return h||(!i.silent&&this.hasChanged()&&this.change(i),this._setting=!1),this},unset:function(t,e){return(e||(e={})).unset=!0,this.set(t,null,e)},clear:function(t){return(t||(t={})).unset=!0,this.set(a.clone(this.attributes),t)},fetch:function(e){e=e?a.clone(e):{};var n=this,i=e.success;return e.success=function(t,r,o){return n.lastFetchTime=Date.now(),n.set(n.parse(t,o),e)?void(i&&i(n,t)):!1},e.error=t.wrapError(e.error,n,e),(this.sync||t.sync).call(this,"read",this,e)},save:function(e,n,i){var r,o;a.isObject(e)||null==e?(r=e,i=n):(r={},r[e]=n),i=i?a.clone(i):{},i.wait&&(o=a.clone(this.attributes));var s=a.extend({},i,{silent:!0});if(r&&!this.set(r,i.wait?s:i))return!1;var u=this,l=i.success;i.success=function(t,e,n){var o=u.parse(t,n);return i.wait&&(o=a.extend(r||{},o)),u.set(o,i)?void(l?l(u,t):u.trigger("sync",u,t,i)):!1},i.error=t.wrapError(i.error,u,i);var c=this.isNew()?"create":"update",h=(this.sync||t.sync).call(this,c,this,i);return i.wait&&this.set(o,s),h},destroy:function(e){e=e?a.clone(e):{};var n=this,i=e.success,r=function(){n.trigger("destroy",n,n.collection,e)};if(this.isNew())return r();e.success=function(t){e.wait&&r(),i?i(n,t):n.trigger("sync",n,t,e)},e.error=t.wrapError(e.error,n,e);var o=(this.sync||t.sync).call(this,"delete",this,e);return e.wait||r(),o},url:function(){var t=E(this.collection,"url")||E(this,"urlRoot")||S();return this.isNew()?t:t+("/"==t.charAt(t.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},change:function(t){if(this._changing||!this.hasChanged())return this;this._changing=!0,this._moreChanges=!0;for(var e in this._changed)this.trigger("change:"+e,this,this._changed[e],t);for(;this._moreChanges;)this._moreChanges=!1,this.trigger("change",this,t);return this._previousAttributes=a.clone(this.attributes),delete this._changed,this._changing=!1,this},hasChanged:function(t){return arguments.length?this._changed&&a.has(this._changed,t):!a.isEmpty(this._changed)},changedAttributes:function(t){if(!t)return this.hasChanged()?a.clone(this._changed):!1;var e,n=!1,i=this._previousAttributes;for(var r in t)a.isEqual(i[r],e=t[r])||((n||(n={}))[r]=e);return n},previous:function(t){return arguments.length&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return a.clone(this._previousAttributes)},isValid:function(){return!this.validate(this.attributes)},_validate:function(t,e){if(e.silent||!this.validate)return!0;t=a.extend({},this.attributes,t);var n=this.validate(t,e);return n?(e&&e.error?e.error(this,n,e):this.trigger("error",this,n,e),!1):!0}}),t.Collection=function(t,e){e||(e={}),e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,{silent:!0,parse:e.parse})},a.extend(t.Collection.prototype,t.Events,{model:t.Model,initialize:function(){},toJSON:function(){return this.map(function(t){return t.toJSON()})},add:function(t,e){var n,i,r,o,u,l,c={},h={};for(e||(e={}),t=a.isArray(t)?t.slice():[t],n=0,r=t.length;r>n;n++){if(!(o=t[n]=this._prepareModel(t[n],e)))throw new Error("Can't add an invalid model to a collection");if(c[u=o.cid]||this._byCid[u]||null!=(l=o.id)&&(h[l]||this._byId[l]))throw new Error("Can't add the same model to a collection twice");c[u]=h[l]=o}for(n=0;r>n;n++)(o=t[n]).on("all",this._onModelEvent,this),this._byCid[o.cid]=o,null!=o.id&&(this._byId[o.id]=o);if(this.length+=r,i=null!=e.at?e.at:this.models.length,s.apply(this.models,[i,0].concat(t)),this.comparator&&this.sort({silent:!0}),e.silent)return this;for(n=0,r=this.models.length;r>n;n++)c[(o=this.models[n]).cid]&&(e.index=n,o.trigger("add",o,this,e));return this},remove:function(t,e){var n,i,r,o;for(e||(e={}),t=a.isArray(t)?t.slice():[t],n=0,i=t.length;i>n;n++)o=this.getByCid(t[n])||this.get(t[n]),o&&(delete this._byId[o.id],delete this._byCid[o.cid],r=this.indexOf(o),this.models.splice(r,1),this.length--,e.silent||(e.index=r,o.trigger("remove",o,this,e)),this._removeReference(o));return this},get:function(t){return null==t?null:this._byId[null!=t.id?t.id:t]},getByCid:function(t){return t&&this._byCid[t.cid||t]},at:function(t){return this.models[t]},sort:function(t){if(t||(t={}),!this.comparator)throw new Error("Cannot sort a set without a comparator");var e=a.bind(this.comparator,this);return 1==this.comparator.length?this.models=this.sortBy(e):this.models.sort(e),t.silent||this.trigger("reset",this,t),this},pluck:function(t){return a.map(this.models,function(e){return e.get(t)})},reset:function(t,e){t||(t=[]),e||(e={});for(var n=0,i=this.models.length;i>n;n++)this._removeReference(this.models[n]);return this._reset(),this.add(t,{silent:!0,parse:e.parse}),e.silent||this.trigger("reset",this,e),this},fetch:function(e){e=e?a.clone(e):{},void 0===e.parse&&(e.parse=!0);var n=this,i=e.success;return e.success=function(t,r,o){n.lastFetchTime=Date.now(),n[e.add?"add":"reset"](n.parse(t,o),e),i&&i(n,t)},e.error=t.wrapError(e.error,n,e),(this.sync||t.sync).call(this,"read",this,e)},create:function(t,e){var n=this;if(e=e?a.clone(e):{},t=this._prepareModel(t,e),!t)return!1;e.wait||n.add(t,e);var i=e.success;return e.success=function(r,o,s){e.wait&&n.add(r,e),i?i(r,o):r.trigger("sync",t,o,e)},t.save(null,e),t},parse:function(t,e){return t},chain:function(){return a(this.models).chain()},_reset:function(t){this.length=0,this.models=[],this._byId={},this._byCid={}},_prepareModel:function(e,n){if(e instanceof t.Model)e.collection||(e.collection=this);else{var i=e;n.collection=this,e=new this.model(i,n),e._validate(e.attributes,n)||(e=!1)}return e},_removeReference:function(t){this==t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,n,i){("add"!=t&&"remove"!=t||n==this)&&("destroy"==t&&this.remove(e,i),e&&t==="change:"+e.idAttribute&&(delete this._byId[e.previous(e.idAttribute)],this._byId[e.id]=e),this.trigger.apply(this,arguments))}});var l=["forEach","each","map","reduce","reduceRight","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","sortBy","sortedIndex","toArray","size","first","initial","rest","last","without","indexOf","shuffle","lastIndexOf","isEmpty","groupBy"];a.each(l,function(e){t.Collection.prototype[e]=function(){return a[e].apply(a,[this.models].concat(a.toArray(arguments)))}}),t.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)};var c=/:\w+/g,h=/\*\w+/g,d=/[-[\]{}()+?.,\\^$|#\s]/g;a.extend(t.Router.prototype,t.Events,{initialize:function(){},route:function(e,n,i){return t.history||(t.history=new t.History),a.isRegExp(e)||(e=this._routeToRegExp(e)),i||(i=this[n]),t.history.route(e,a.bind(function(r){var o=this._extractParameters(e,r);i&&i.apply(this,o),this.trigger.apply(this,["route:"+n].concat(o)),
t.history.trigger("route",this,n,o)},this)),this},navigate:function(e,n){t.history.navigate(e,n)},_bindRoutes:function(){if(this.routes){var t=[];for(var e in this.routes)t.unshift([e,this.routes[e]]);for(var n=0,i=t.length;i>n;n++)this.route(t[n][0],t[n][1],this[t[n][1]])}},_routeToRegExp:function(t){return t=t.replace(d,"\\$&").replace(c,"([^/]+)").replace(h,"(.*?)"),new RegExp("^"+t+"$")},_extractParameters:function(t,e){return t.exec(e).slice(1)}}),t.History=function(){this.handlers=[],a.bindAll(this,"checkUrl")};var f=/^[#\/]/,p=/msie [\w.]+/,g=!1;a.extend(t.History.prototype,t.Events,{interval:50,getFragment:function(t,e){if(null==t)if(this._hasPushState||e){t=window.location.pathname;var n=window.location.search;n&&(t+=n)}else t=window.location.hash;return t=decodeURIComponent(t),t.indexOf(this.options.root)||(t=t.substr(this.options.root.length)),t.replace(f,"")},start:function(t){if(g)throw new Error("Backbone.history has already been started");this.options=a.extend({},{root:"/"},this.options,t),this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&window.history&&window.history.pushState);var e=this.getFragment(),n=document.documentMode,i=p.exec(navigator.userAgent.toLowerCase())&&(!n||7>=n);i&&(this.iframe=u('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(e)),this._hasPushState?u(window).bind("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!i?u(window).bind("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=e,g=!0;var r=window.location,o=r.pathname==this.options.root;return this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!o?(this.fragment=this.getFragment(null,!0),window.location.replace(this.options.root+"#"+this.fragment),!0):this.options.silent?void 0:this.loadUrl()},stop:function(){u(window).unbind("popstate",this.checkUrl).unbind("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),g=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();return e==this.fragment&&this.iframe&&(e=this.getFragment(this.iframe.location.hash)),e==this.fragment||e==decodeURIComponent(this.fragment)?!1:(this.iframe&&this.navigate(e),void(this.loadUrl()||this.loadUrl(window.location.hash)))},loadUrl:function(t){var e=this.fragment=this.getFragment(t),n=a.any(this.handlers,function(t){return t.route.test(e)?(t.callback(e),!0):void 0});return n},navigate:function(t,e){if(!g)return!1;e&&e!==!0||(e={trigger:e});var n=(t||"").replace(f,"");this.fragment!=n&&this.fragment!=decodeURIComponent(n)&&(this._hasPushState?(0!=n.indexOf(this.options.root)&&(n=this.options.root+n),this.fragment=n,window.history[e.replace?"replaceState":"pushState"]({},document.title,n)):this._wantsHashChange?(this.fragment=n,this._updateHash(window.location,n,e.replace),this.iframe&&n!=this.getFragment(this.iframe.location.hash)&&(e.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,n,e.replace))):window.location.assign(this.options.root+t),e.trigger&&this.loadUrl(t))},_updateHash:function(t,e,n){n?t.replace(t.toString().replace(/(javascript:|#).*$/,"")+"#"+e):t.hash=e}}),t.View=function(t){this.cid=a.uniqueId("view"),this._configure(t||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()};var m=/^(\S+)\s*(.*)$/,v=["model","collection","el","id","attributes","className","tagName"];a.extend(t.View.prototype,t.Events,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this},make:function(t,e,n){var i=document.createElement(t);return e&&u(i).attr(e),n&&u(i).html(n),i},setElement:function(t,e){return this.$el=u(t),this.el=this.$el[0],e!==!1&&this.delegateEvents(),this},delegateEvents:function(t){if(t||(t=E(this,"events"))){this.undelegateEvents();for(var e in t){var n=t[e];if(a.isFunction(n)||(n=this[t[e]]),!n)throw new Error('Event "'+t[e]+'" does not exist');var i=e.match(m),r=i[1],o=i[2];n=a.bind(n,this),r+=".delegateEvents"+this.cid,""===o?this.$el.bind(r,n):this.$el.delegate(o,r,n)}}},undelegateEvents:function(){this.$el.unbind(".delegateEvents"+this.cid)},_configure:function(t){this.options&&(t=a.extend({},this.options,t));for(var e=0,n=v.length;n>e;e++){var i=v[e];t[i]&&(this[i]=t[i])}this.options=t},_ensureElement:function(){if(this.el)this.setElement(this.el,!1);else{var t=E(this,"attributes")||{};this.id&&(t.id=this.id),this.className&&(t["class"]=this.className),this.setElement(this.make(this.tagName,t),!1)}}});var _=function(t,e){var n=w(this,t,e);return n.extend=this.extend,n};t.Model.extend=t.Collection.extend=t.Router.extend=t.View.extend=_;var y={create:"POST",update:"PUT","delete":"DELETE",read:"GET"};t.sync=function(e,n,i){var r=y[e],o={type:r,dataType:"json"};return i.url||(o.url=E(n,"url")||S()),i.data||!n||"create"!=e&&"update"!=e||(o.contentType="application/json",o.data=JSON.stringify(n.toJSON())),t.emulateJSON&&(o.contentType="application/x-www-form-urlencoded",o.data=o.data?{model:o.data}:{}),t.emulateHTTP&&("PUT"===r||"DELETE"===r)&&(t.emulateJSON&&(o.data._method=r),o.type="POST",o.beforeSend=function(t){t.setRequestHeader("X-HTTP-Method-Override",r)}),"GET"===o.type||t.emulateJSON||(o.processData=!1),u.ajax(a.extend(o,i))},t.wrapError=function(t,e,n){return function(i,r){r=i===e?r:i,t?t(e,r,n):e.trigger("error",e,r,n)}};var b=function(){},w=function(t,e,n){var i;return i=e&&e.hasOwnProperty("constructor")?e.constructor:function(){t.apply(this,arguments)},a.extend(i,t),b.prototype=t.prototype,i.prototype=new b,e&&a.extend(i.prototype,e),n&&a.extend(i,n),i.prototype.constructor=i,i.__super__=t.prototype,i},E=function(t,e){return t&&t[e]?a.isFunction(t[e])?t[e]():t[e]:null},S=function(){throw new Error('A "url" property or function must be specified')}}).call(this)},function(t,e,n){t.exports=n(35)},function(t,e,n){!function(e){var i=e(n(36));t.exports=i}(function(t){function e(){this.mixins=t.initial(arguments),this.properties=t.last(arguments)}function n(t,e){this.applyTo=function(n){t.applyTo(n,e)}}function i(t,e){return null==t?e.slice():r(u(t),e)}function r(e,n){return e.concat(t.difference(n,e))}function o(t,e){return null==t?e:i(a(t),a(e)).join(" ")}function s(e,n){return t.extend({},n,e)}function a(e){return t.compact(e.split(c))}function u(e){return t.isArray(e)?e:[e]}var l=["before","after","around","requires","override","defaults","applyTo","requirePrototype","merge"],c=/\s+/;return t.extend(e.prototype,{applyTo:function(e,n){var i=this.properties;this.defaults(e,i.defaults),this.extend(e,i),this.merge(e,i.merge),t.invoke(this.mixins,"applyTo",e),["requires","requirePrototype","override","before","after","around"].forEach(function(t){this[t](e,i[t])},this),i.applyTo&&i.applyTo.call(this,e,n)},withOptions:function(t){return new n(this,t)},before:function(e,n){t.each(n,function(t,n){var i=e[n];e[n]=function(){return t.apply(this,arguments),i.apply(this,arguments)}})},after:function(e,n){t.each(n,function(t,n){var i=e[n];e[n]=function(){var e=i.apply(this,arguments);return t.apply(this,arguments),e}})},around:function(e,n){t.each(n,function(t,n){var i=e[n];e[n]=function(){var e=0,n=arguments.length,r=Array(n+1);for(r[0]=i.bind(this);n>e;++e)r[e+1]=arguments[e];return t.apply(this,r)}})},override:function(e,n){t.extend(e,n)},defaults:function(e,n){t.each(n,function(t,n){e.hasOwnProperty(n)||(e[n]=t)})},merge:function(e,n){t.each(n,function(n,r){if(null!=n){var a=e[r];e[r]=t.isArray(n)?i(a,n):t.isString(n)?o(a,n):s(a,n)}})},extend:function(e,n){var i=t.omit(n,l);t.extend(e,i)},requires:t.noop,requirePrototype:t.noop}),n.prototype=e.prototype,e})},function(t,e,n){var i,r;(function(){var n=this,o=n._,s=Array.prototype,a=Object.prototype,u=Function.prototype,l=s.push,c=s.slice,h=s.concat,d=a.toString,f=a.hasOwnProperty,p=Array.isArray,g=Object.keys,m=u.bind,v=function(t){return t instanceof v?t:this instanceof v?void(this._wrapped=t):new v(t)};"undefined"!=typeof t&&t.exports&&(e=t.exports=v),e._=v,v.VERSION="1.7.0";var _=function(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)};case 4:return function(n,i,r,o){return t.call(e,n,i,r,o)}}return function(){return t.apply(e,arguments)}};v.iteratee=function(t,e,n){return null==t?v.identity:v.isFunction(t)?_(t,e,n):v.isObject(t)?v.matches(t):v.property(t)},v.each=v.forEach=function(t,e,n){if(null==t)return t;e=_(e,n);var i,r=t.length;if(r===+r)for(i=0;r>i;i++)e(t[i],i,t);else{var o=v.keys(t);for(i=0,r=o.length;r>i;i++)e(t[o[i]],o[i],t)}return t},v.map=v.collect=function(t,e,n){if(null==t)return[];e=v.iteratee(e,n);for(var i,r=t.length!==+t.length&&v.keys(t),o=(r||t).length,s=Array(o),a=0;o>a;a++)i=r?r[a]:a,s[a]=e(t[i],i,t);return s};var y="Reduce of empty array with no initial value";v.reduce=v.foldl=v.inject=function(t,e,n,i){null==t&&(t=[]),e=_(e,i,4);var r,o=t.length!==+t.length&&v.keys(t),s=(o||t).length,a=0;if(arguments.length<3){if(!s)throw new TypeError(y);n=t[o?o[a++]:a++]}for(;s>a;a++)r=o?o[a]:a,n=e(n,t[r],r,t);return n},v.reduceRight=v.foldr=function(t,e,n,i){null==t&&(t=[]),e=_(e,i,4);var r,o=t.length!==+t.length&&v.keys(t),s=(o||t).length;if(arguments.length<3){if(!s)throw new TypeError(y);n=t[o?o[--s]:--s]}for(;s--;)r=o?o[s]:s,n=e(n,t[r],r,t);return n},v.find=v.detect=function(t,e,n){var i;return e=v.iteratee(e,n),v.some(t,function(t,n,r){return e(t,n,r)?(i=t,!0):void 0}),i},v.filter=v.select=function(t,e,n){var i=[];return null==t?i:(e=v.iteratee(e,n),v.each(t,function(t,n,r){e(t,n,r)&&i.push(t)}),i)},v.reject=function(t,e,n){return v.filter(t,v.negate(v.iteratee(e)),n)},v.every=v.all=function(t,e,n){if(null==t)return!0;e=v.iteratee(e,n);var i,r,o=t.length!==+t.length&&v.keys(t),s=(o||t).length;for(i=0;s>i;i++)if(r=o?o[i]:i,!e(t[r],r,t))return!1;return!0},v.some=v.any=function(t,e,n){if(null==t)return!1;e=v.iteratee(e,n);var i,r,o=t.length!==+t.length&&v.keys(t),s=(o||t).length;for(i=0;s>i;i++)if(r=o?o[i]:i,e(t[r],r,t))return!0;return!1},v.contains=v.include=function(t,e){return null==t?!1:(t.length!==+t.length&&(t=v.values(t)),v.indexOf(t,e)>=0)},v.invoke=function(t,e){var n=c.call(arguments,2),i=v.isFunction(e);return v.map(t,function(t){return(i?e:t[e]).apply(t,n)})},v.pluck=function(t,e){return v.map(t,v.property(e))},v.where=function(t,e){return v.filter(t,v.matches(e))},v.findWhere=function(t,e){return v.find(t,v.matches(e))},v.max=function(t,e,n){var i,r,o=-(1/0),s=-(1/0);if(null==e&&null!=t){t=t.length===+t.length?t:v.values(t);for(var a=0,u=t.length;u>a;a++)i=t[a],i>o&&(o=i)}else e=v.iteratee(e,n),v.each(t,function(t,n,i){r=e(t,n,i),(r>s||r===-(1/0)&&o===-(1/0))&&(o=t,s=r)});return o},v.min=function(t,e,n){var i,r,o=1/0,s=1/0;if(null==e&&null!=t){t=t.length===+t.length?t:v.values(t);for(var a=0,u=t.length;u>a;a++)i=t[a],o>i&&(o=i)}else e=v.iteratee(e,n),v.each(t,function(t,n,i){r=e(t,n,i),(s>r||r===1/0&&o===1/0)&&(o=t,s=r)});return o},v.shuffle=function(t){for(var e,n=t&&t.length===+t.length?t:v.values(t),i=n.length,r=Array(i),o=0;i>o;o++)e=v.random(0,o),e!==o&&(r[o]=r[e]),r[e]=n[o];return r},v.sample=function(t,e,n){return null==e||n?(t.length!==+t.length&&(t=v.values(t)),t[v.random(t.length-1)]):v.shuffle(t).slice(0,Math.max(0,e))},v.sortBy=function(t,e,n){return e=v.iteratee(e,n),v.pluck(v.map(t,function(t,n,i){return{value:t,index:n,criteria:e(t,n,i)}}).sort(function(t,e){var n=t.criteria,i=e.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(i>n||void 0===i)return-1}return t.index-e.index}),"value")};var b=function(t){return function(e,n,i){var r={};return n=v.iteratee(n,i),v.each(e,function(i,o){var s=n(i,o,e);t(r,i,s)}),r}};v.groupBy=b(function(t,e,n){v.has(t,n)?t[n].push(e):t[n]=[e]}),v.indexBy=b(function(t,e,n){t[n]=e}),v.countBy=b(function(t,e,n){v.has(t,n)?t[n]++:t[n]=1}),v.sortedIndex=function(t,e,n,i){n=v.iteratee(n,i,1);for(var r=n(e),o=0,s=t.length;s>o;){var a=o+s>>>1;n(t[a])<r?o=a+1:s=a}return o},v.toArray=function(t){return t?v.isArray(t)?c.call(t):t.length===+t.length?v.map(t,v.identity):v.values(t):[]},v.size=function(t){return null==t?0:t.length===+t.length?t.length:v.keys(t).length},v.partition=function(t,e,n){e=v.iteratee(e,n);var i=[],r=[];return v.each(t,function(t,n,o){(e(t,n,o)?i:r).push(t)}),[i,r]},v.first=v.head=v.take=function(t,e,n){return null==t?void 0:null==e||n?t[0]:0>e?[]:c.call(t,0,e)},v.initial=function(t,e,n){return c.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},v.last=function(t,e,n){return null==t?void 0:null==e||n?t[t.length-1]:c.call(t,Math.max(t.length-e,0))},v.rest=v.tail=v.drop=function(t,e,n){return c.call(t,null==e||n?1:e)},v.compact=function(t){return v.filter(t,v.identity)};var w=function(t,e,n,i){if(e&&v.every(t,v.isArray))return h.apply(i,t);for(var r=0,o=t.length;o>r;r++){var s=t[r];v.isArray(s)||v.isArguments(s)?e?l.apply(i,s):w(s,e,n,i):n||i.push(s)}return i};v.flatten=function(t,e){return w(t,e,!1,[])},v.without=function(t){return v.difference(t,c.call(arguments,1))},v.uniq=v.unique=function(t,e,n,i){if(null==t)return[];v.isBoolean(e)||(i=n,n=e,e=!1),null!=n&&(n=v.iteratee(n,i));for(var r=[],o=[],s=0,a=t.length;a>s;s++){var u=t[s];if(e)s&&o===u||r.push(u),o=u;else if(n){var l=n(u,s,t);v.indexOf(o,l)<0&&(o.push(l),r.push(u))}else v.indexOf(r,u)<0&&r.push(u)}return r},v.union=function(){return v.uniq(w(arguments,!0,!0,[]))},v.intersection=function(t){if(null==t)return[];for(var e=[],n=arguments.length,i=0,r=t.length;r>i;i++){var o=t[i];if(!v.contains(e,o)){for(var s=1;n>s&&v.contains(arguments[s],o);s++);s===n&&e.push(o)}}return e},v.difference=function(t){var e=w(c.call(arguments,1),!0,!0,[]);return v.filter(t,function(t){return!v.contains(e,t)})},v.zip=function(t){if(null==t)return[];for(var e=v.max(arguments,"length").length,n=Array(e),i=0;e>i;i++)n[i]=v.pluck(arguments,i);return n},v.object=function(t,e){if(null==t)return{};for(var n={},i=0,r=t.length;r>i;i++)e?n[t[i]]=e[i]:n[t[i][0]]=t[i][1];return n},v.indexOf=function(t,e,n){if(null==t)return-1;var i=0,r=t.length;if(n){if("number"!=typeof n)return i=v.sortedIndex(t,e),t[i]===e?i:-1;i=0>n?Math.max(0,r+n):n}for(;r>i;i++)if(t[i]===e)return i;return-1},v.lastIndexOf=function(t,e,n){if(null==t)return-1;var i=t.length;for("number"==typeof n&&(i=0>n?i+n+1:Math.min(i,n+1));--i>=0;)if(t[i]===e)return i;return-1},v.range=function(t,e,n){arguments.length<=1&&(e=t||0,t=0),n=n||1;for(var i=Math.max(Math.ceil((e-t)/n),0),r=Array(i),o=0;i>o;o++,t+=n)r[o]=t;return r};var E=function(){};v.bind=function(t,e){var n,i;if(m&&t.bind===m)return m.apply(t,c.call(arguments,1));if(!v.isFunction(t))throw new TypeError("Bind must be called on a function");return n=c.call(arguments,2),i=function(){if(!(this instanceof i))return t.apply(e,n.concat(c.call(arguments)));E.prototype=t.prototype;var r=new E;E.prototype=null;var o=t.apply(r,n.concat(c.call(arguments)));return v.isObject(o)?o:r}},v.partial=function(t){var e=c.call(arguments,1);return function(){for(var n=0,i=e.slice(),r=0,o=i.length;o>r;r++)i[r]===v&&(i[r]=arguments[n++]);for(;n<arguments.length;)i.push(arguments[n++]);return t.apply(this,i)}},v.bindAll=function(t){var e,n,i=arguments.length;if(1>=i)throw new Error("bindAll must be passed function names");for(e=1;i>e;e++)n=arguments[e],t[n]=v.bind(t[n],t);return t},v.memoize=function(t,e){var n=function(i){var r=n.cache,o=e?e.apply(this,arguments):i;return v.has(r,o)||(r[o]=t.apply(this,arguments)),r[o]};return n.cache={},n},v.delay=function(t,e){var n=c.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},v.defer=function(t){return v.delay.apply(v,[t,1].concat(c.call(arguments,1)))},v.throttle=function(t,e,n){var i,r,o,s=null,a=0;n||(n={});var u=function(){a=n.leading===!1?0:v.now(),s=null,o=t.apply(i,r),s||(i=r=null)};return function(){var l=v.now();a||n.leading!==!1||(a=l);var c=e-(l-a);return i=this,r=arguments,0>=c||c>e?(clearTimeout(s),s=null,a=l,o=t.apply(i,r),s||(i=r=null)):s||n.trailing===!1||(s=setTimeout(u,c)),o}},v.debounce=function(t,e,n){var i,r,o,s,a,u=function(){var l=v.now()-s;e>l&&l>0?i=setTimeout(u,e-l):(i=null,n||(a=t.apply(o,r),i||(o=r=null)))};return function(){o=this,r=arguments,s=v.now();var l=n&&!i;return i||(i=setTimeout(u,e)),l&&(a=t.apply(o,r),o=r=null),a}},v.wrap=function(t,e){return v.partial(e,t)},v.negate=function(t){return function(){return!t.apply(this,arguments)}},v.compose=function(){var t=arguments,e=t.length-1;return function(){for(var n=e,i=t[e].apply(this,arguments);n--;)i=t[n].call(this,i);return i}},v.after=function(t,e){return function(){return--t<1?e.apply(this,arguments):void 0}},v.before=function(t,e){var n;return function(){return--t>0?n=e.apply(this,arguments):e=null,n}},v.once=v.partial(v.before,2),v.keys=function(t){if(!v.isObject(t))return[];if(g)return g(t);var e=[];for(var n in t)v.has(t,n)&&e.push(n);return e},v.values=function(t){for(var e=v.keys(t),n=e.length,i=Array(n),r=0;n>r;r++)i[r]=t[e[r]];return i},v.pairs=function(t){for(var e=v.keys(t),n=e.length,i=Array(n),r=0;n>r;r++)i[r]=[e[r],t[e[r]]];return i},v.invert=function(t){for(var e={},n=v.keys(t),i=0,r=n.length;r>i;i++)e[t[n[i]]]=n[i];return e},v.functions=v.methods=function(t){var e=[];for(var n in t)v.isFunction(t[n])&&e.push(n);return e.sort()},v.extend=function(t){if(!v.isObject(t))return t;for(var e,n,i=1,r=arguments.length;r>i;i++){e=arguments[i];for(n in e)f.call(e,n)&&(t[n]=e[n])}return t},v.pick=function(t,e,n){var i,r={};if(null==t)return r;if(v.isFunction(e)){e=_(e,n);for(i in t){var o=t[i];e(o,i,t)&&(r[i]=o)}}else{var s=h.apply([],c.call(arguments,1));t=new Object(t);for(var a=0,u=s.length;u>a;a++)i=s[a],i in t&&(r[i]=t[i])}return r},v.omit=function(t,e,n){if(v.isFunction(e))e=v.negate(e);else{var i=v.map(h.apply([],c.call(arguments,1)),String);e=function(t,e){return!v.contains(i,e)}}return v.pick(t,e,n)},v.defaults=function(t){if(!v.isObject(t))return t;for(var e=1,n=arguments.length;n>e;e++){var i=arguments[e];for(var r in i)void 0===t[r]&&(t[r]=i[r])}return t},v.clone=function(t){return v.isObject(t)?v.isArray(t)?t.slice():v.extend({},t):t},v.tap=function(t,e){return e(t),t};var S=function(t,e,n,i){if(t===e)return 0!==t||1/t===1/e;if(null==t||null==e)return t===e;t instanceof v&&(t=t._wrapped),e instanceof v&&(e=e._wrapped);var r=d.call(t);if(r!==d.call(e))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!==+t?+e!==+e:0===+t?1/+t===1/e:+t===+e;case"[object Date]":case"[object Boolean]":return+t===+e}if("object"!=typeof t||"object"!=typeof e)return!1;for(var o=n.length;o--;)if(n[o]===t)return i[o]===e;var s=t.constructor,a=e.constructor;if(s!==a&&"constructor"in t&&"constructor"in e&&!(v.isFunction(s)&&s instanceof s&&v.isFunction(a)&&a instanceof a))return!1;n.push(t),i.push(e);var u,l;if("[object Array]"===r){if(u=t.length,l=u===e.length)for(;u--&&(l=S(t[u],e[u],n,i)););}else{var c,h=v.keys(t);if(u=h.length,l=v.keys(e).length===u)for(;u--&&(c=h[u],l=v.has(e,c)&&S(t[c],e[c],n,i)););}return n.pop(),i.pop(),l};v.isEqual=function(t,e){return S(t,e,[],[])},v.isEmpty=function(t){if(null==t)return!0;if(v.isArray(t)||v.isString(t)||v.isArguments(t))return 0===t.length;for(var e in t)if(v.has(t,e))return!1;return!0},v.isElement=function(t){return!(!t||1!==t.nodeType)},v.isArray=p||function(t){return"[object Array]"===d.call(t)},v.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},v.each(["Arguments","Function","String","Number","Date","RegExp"],function(t){v["is"+t]=function(e){return d.call(e)==="[object "+t+"]"}}),v.isArguments(arguments)||(v.isArguments=function(t){return v.has(t,"callee")}),v.isFunction=function(t){return"function"==typeof t||!1},v.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},v.isNaN=function(t){return v.isNumber(t)&&t!==+t},v.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"===d.call(t)},v.isNull=function(t){return null===t},v.isUndefined=function(t){return void 0===t},v.has=function(t,e){return null!=t&&f.call(t,e)},v.noConflict=function(){return n._=o,this},v.identity=function(t){return t},v.constant=function(t){return function(){return t}},v.noop=function(){},v.property=function(t){return function(e){return e[t]}},v.matches=function(t){var e=v.pairs(t),n=e.length;return function(t){if(null==t)return!n;t=new Object(t);for(var i=0;n>i;i++){var r=e[i],o=r[0];if(r[1]!==t[o]||!(o in t))return!1}return!0}},v.times=function(t,e,n){var i=Array(Math.max(0,t));e=_(e,n,1);for(var r=0;t>r;r++)i[r]=e(r);return i},v.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},v.now=Date.now||function(){return(new Date).getTime()};var k={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},x=v.invert(k),T=function(t){var e=function(e){return t[e]},n="(?:"+v.keys(t).join("|")+")",i=RegExp(n),r=RegExp(n,"g");return function(t){return t=null==t?"":""+t,i.test(t)?t.replace(r,e):t}};v.escape=T(k),v.unescape=T(x),v.result=function(t,e){if(null==t)return void 0;var n=t[e];return v.isFunction(n)?t[e]():n};var A=0;v.uniqueId=function(t){var e=++A+"";return t?t+e:e},v.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var P=/(.)^/,I={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},C=/\\|'|\r|\n|\u2028|\u2029/g,D=function(t){return"\\"+I[t]};v.template=function(t,e,n){!e&&n&&(e=n),e=v.defaults({},e,v.templateSettings);var i=RegExp([(e.escape||P).source,(e.interpolate||P).source,(e.evaluate||P).source].join("|")+"|$","g"),r=0,o="__p+='";t.replace(i,function(e,n,i,s,a){return o+=t.slice(r,a).replace(C,D),r=a+e.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?o+="'+\n((__t=("+i+"))==null?'':__t)+\n'":s&&(o+="';\n"+s+"\n__p+='"),e}),o+="';\n",e.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var s=new Function(e.variable||"obj","_",o)}catch(a){throw a.source=o,a}var u=function(t){return s.call(this,t,v)},l=e.variable||"obj";return u.source="function("+l+"){\n"+o+"}",u},v.chain=function(t){var e=v(t);return e._chain=!0,e};var O=function(t){return this._chain?v(t).chain():t};v.mixin=function(t){v.each(v.functions(t),function(e){var n=v[e]=t[e];v.prototype[e]=function(){var t=[this._wrapped];return l.apply(t,arguments),O.call(this,n.apply(v,t))}})},v.mixin(v),v.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=s[t];v.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0],O.call(this,n)}}),v.each(["concat","join","slice"],function(t){var e=s[t];v.prototype[t]=function(){return O.call(this,e.apply(this._wrapped,arguments))}}),v.prototype.value=function(){return this._wrapped},i=[],r=function(){return v}.apply(e,i),!(void 0!==r&&(t.exports=r))}).call(this)},function(t,e,n){var i=n(19),r={};["each","forEach","map","find","detect","filter","select","reject","every","all","any","some","include","contains"].forEach(function(t){r[t]=function(){var e=[this._store];return e.push.apply(e,arguments),i[t].apply(i,e)}});t.exports=Class.extend([r,{initialize:function(t){this._store={},this.length=0,this._final=!1,this.maxLength=t&&t.maxLength||!1,this.maxLength&&(this._keys=[])},maxLength:0,get:function(t){return this._store[t]},set:function(t,e){return this.has(t)?this.maxLength&&this._keys.splice(this._keys.indexOf(t),1):(++this.length,this.maxLength&&this.length>this.maxLength&&this.unset(this._keys[0])),this.maxLength&&this._keys.push(t),this._store[t]=e,this},unset:function(t){var e;return this.has(t)&&(--this.length,this._final?this._store[t]=e:(delete this._store[t],this.maxLength&&this._keys.splice(this._keys.indexOf(t),1))),this},reset:function(){return this._store={},this.maxLength&&(this._keys=[]),this._final=!1,this.length=0,this},has:function(t){return this._store.hasOwnProperty(t)},keys:function(){return Object.keys(this._store)},finalize:function(){this._final=!0}}])},function(t,e,n){var i=n(37),r=n(39),o=n(31),s=t.exports=i.extend();r.applyTo(s.prototype),o.applyTo(s.prototype)},function(t,e,n){function i(t,e){return[f,t,e].join(p)}function r(t){var e=t.storage;if(e)try{return e.setItem(t.keyName,JSON.stringify(t._store)),!0}catch(n){return!1}}function o(t){var e;return e="local"===t&&d.localStorage?window.localStorage:"session"===t&&d.sessionStorage?window.sessionStorage:c}function s(t){var e={},n=t.storage;return n&&(e=JSON.parse(n.getItem(t.keyName)||"{}")),e}function a(t){var e,n,i,r,o;return o={dontPersist:!0},t.key?(g.lastIndex=0,e=g.exec(t.key),void(e&&(i=e[1],n=e[2],i&&n&&(r=m[i][n],r&&l.each(s(r),function(t,e){r.set(e,t,o)}))))):void l.each(l.values(m.local).concat(l.values(m.session)),function(t){t.reset(o)})}function u(){if(d.localStorage){var t,e,n=[],i=localStorage.length;for(t=0;i>t;t++)e=localStorage.key(t),0!==e.indexOf(f+p)&&n.push(e);n.forEach(function(t){localStorage.removeItem(t)})}}var l=n(19),c=n(40),h=n(34),d=n(18),f="WIDGET",p="::",g=new RegExp("^"+f+p+"(\\S+?)"+p+"(\\S+)"),m={local:{},session:{}};u();t.exports=new h({storage:null,keyName:null,type:null,namespace:null,around:{initialize:function(t,e,n){return n=n||"local",m[n][e]?m[n][e]:(m[n][e]=this,t(),this.type=n,this.namespace=e,this.storage=o(n,e),this.keyName=i(n,e),this._store=s(this),void(this.length=l.keys(this._store).length))}},after:{set:function(t,e,n){var i,o=!(n&&n.dontPersist);o&&(i=r(this),i||this.unset(t))},unset:function(t,e){e&&e.dontPersist||r(this)},reset:function(t){t&&t.dontPersist||r(this)}},dispose:function(){this.storage.removeItem(this.keyName),this.reset({dontPersist:!0}),delete m[this.type][this.namespace]},write:function(){r(this)}});window.addEventListener("storage",a,!1)},function(t,e,n){!function(e){var n={},i={};n.length=0,n.getItem=function(t){return i[t]||null},n.setItem=function(t,e){"undefined"==typeof e?n.removeItem(t):(i[t]=""+e,n.length++)},n.removeItem=function(t){delete i[t],n.length--},n.key=function(t){return Object.keys(i)[t]||null},n.clear=function(){i={},n.length=0},t.exports=n}(this)},function(t,e,n){var i=n(19),r=n(32),o=t.exports=Class.extend({enabled:!0,_breakCount:0,_failCount:0,_maxBreaks:0,_timeoutId:null,defaults:{tolerance:1,baseDelay:1e3,maxDelay:3e4,backoffRate:2,giveUp:null,enabled:!0},initialize:function(t){i.bindAll(this,"failed","succeeded"),this.setup(t)},setup:function(t){this.options=i.extend({},this.options||this.defaults,t),t=i.defaults(this.options,this.defaults);var e=t.maxDelay/t.baseDelay;if(t.backoffRate>1)for(;e>1;)++this._maxBreaks,e/=t.backoffRate;else this._maxBreaks=1/0;t.enabled||this.disable()},dispose:function(){this.off(),this.clearTimeout()},clearTimeout:function(){this._timeoutId&&(clearTimeout(this._timeoutId),this._timeoutId=null)},failed:function(){++this._failCount>=this.options.tolerance&&this.disable()},succeeded:function(){this._breakCount=this._failCount=0},disable:function(t){if(this.enabled){var e=!t||t.autoEnable!==!1;this.enabled=!1,++this._breakCount,e&&(!this.options.giveUp||this._breakCount<this.options.giveUp)?this._timeoutId=setTimeout(this.enable.bind(this),this.currentDelay()):this.trigger("giveup"),this.trigger("disabled")}},enable:function(){this.enabled||(this.enabled=!0,this._failCount=0,this.trigger("enabled"))},currentDelay:function(){var t=this.options;return Math.min(t.baseDelay*Math.pow(t.backoffRate,Math.floor(Math.random()*Math.min(this._maxBreaks,this._breakCount))),t.maxDelay)}});i.extend(o.prototype,r.Events)},function(t,e,n){var i,r,o,s,a=n(19),u=n(32),l=n(38);s=new l("broadcast"),i=1e3*String(Date.now()).substr(-8)+Math.floor(1e3*Math.random()),s.on("broadcast",function(t){var e=t.current;e&&e.appId!==i&&o.call(c,e)});var c=t.exports=a.extend({},u.Events,{broadcast:function(t,e){var n,i;return"string"==typeof t?(n=[].slice.call(arguments,1),e=t,t={}):n=[].slice.call(arguments,2),i=r(e,n),s.set("broadcast",i),t.excludeThis||o.call(this,i),this}});r=function(t,e){return{type:t,timestamp:Date.now(),appId:i,args:e}},o=function(t){this.trigger.apply(this,["broadcast:"+t.type].concat(t.args||[]))}},function(t,e){t.exports={UI:{LIKE_BUTTON_CLICKED:"tracking:like_button_clicked",FOLLOW_BUTTON_CLICKED:"tracking:follow_button_clicked",SHARE_BUTTON_CLICKED:"tracking:share_button_clicked",UPSELL_CTA_BUTTON_CLICKED:"tracking:upsell_cta_button_clicked",DOWNLOAD_LINK_CLICKED:"tracking:download_link_clicked",BUY_LINK_CLICKED:"tracking:buy_link_clicked",SHARE_VIEW_OPENED:"tracking:share_view_opened",LINK_BUTTON_CLICKED:"tracking:link_button_clicked",LINK_INPUT_CLICKED:"tracking:link_input_clicked",EMBED_BUTTON_CLICKED:"tracking:embed_button_clicked",ARTWORK_CLICKED:"tracking:artwork_clicked",WAVEFORM_CLICKED:"tracking:waveform_clicked",SHARE_ICON_CLICKED:"tracking:share_icon_clicked",PLAYLIST_SCROLLED:"tracking:playlist_scrolled",TITLE_LINK_CLICKED:"tracking:title_link_clicked",CREATOR_LINK_CLICKED:"tracking:creator_link_clicked",LOGO_LINK_CLICKED:"tracking:logo_link_clicked",RELATED_VIEW_OPENED:"tracking:related_view_opened",RELATED_VIEW_CLICKED:"tracking:related_view_clicked"},ADS:{IMPRESSION:"tracking:impression",CLICKED:"tracking:ad:click",SKIPPED:"tracking:ad:skip",FINISH:"tracking:ad:finish"},APP:{LOAD:"tracking:appLoad"}}},function(t,e,n){function i(){C||(C=!0,window.addEventListener?window.addEventListener("message",f,!1):window.attachEvent("onmessage",f),_.each(T.audio,function(t,e){b.on(t,function(t){var n=t.sound;n&&n.isNowPlaying()&&l(e,p(n))})}),_.each(T.ui,function(t,e){b.on(t,function(t,n){l(e,n)})}),u(k.READY))}function r(){"error"===y.get("router").layoutName&&(i(),u(k.ERROR))}function o(){return w.getCurrentSound()}function s(t){var e,n=o();switch(t){case S.GET_VOLUME:e=n?n.getVolume():v;break;case S.GET_POSITION:e=n?n.currentTime():v;break;case S.GET_DURATION:e=n?n.duration():v;break;case S.GET_CURRENT_SOUND:e=n?n.toJSON():v;break;case S.GET_CURRENT_SOUND_INDEX:e=w.cursor;break;case S.GET_SOUNDS:e=w.getSounds();break;case S.IS_PAUSED:e=n?n.isPaused():!1}return e}function a(t,e){var n=o();if(n)switch(t){case E.SET_VOLUME:n.setVolume(e);break;case E.SEEK_TO:n.seek(e);break;case E.PLAY:w.play(n);break;case E.PAUSE:w.pause(n);break;case E.TOGGLE:w.toggle(n)}switch(t){case E.NEXT:w.playNext();break;case E.PREV:w.playPrev();break;case E.SKIP:w.play(w.get(e))}}function u(t,e){var n,i=g();return i?(n=JSON.stringify({widgetId:y.get("widget_id"),method:t,value:_.isUndefined(e)?null:e}),void i.postMessage(n,"*")):!1}function l(t,e,n){(n||_.indexOf(D,t)>-1)&&u(t,e)}function c(t){return _.indexOf(_.values(k),t)>-1}function h(t){c(t)&&D.push(t)}function d(t){c(t)&&(D=_.without(D,t))}function f(t){var e,n,i;try{e=JSON.parse(t.data)}catch(r){return}n=e.method,n&&(_.indexOf(A,n)>-1?u(n,s(n)):_.indexOf(P,n)>-1?a(n,e.value):_.indexOf(I,n)>-1&&(i=e.value,i&&(n===x.ADD_LISTENER?h(i):d(i))))}function p(t){var e=t.currentTime();return{loadedProgress:t.loadProgress(),currentPosition:e,relativePosition:t.progress()}}function g(){if(_.isUndefined(m))try{m=window.parent&&window.parent!==window&&window.parent.postMessage?window.parent:null}catch(t){m=null}return m}var m,v,_=n(19),y=n(30),b=n(42),w=n(45),E=n(50),S=n(51),k=n(52).api,x=n(52).bridge,T=n(53),A=_.values(S),P=_.values(E),I=_.values(x),C=!1,D=[];t.exports={start:_.once(function(){b.on("widget:ready",i).on("layout:change",r)})}},function(t,e,n){function i(t,e){e[t]("change:playable",s,this)[t]("pause",r,this)[t]("finish",o,this)}function r(t){this.trigger("pause",t.sound)}function o(t){var e=t.sound,n=this.indexOf(e)===this.getSounds().length-1;e.seek(0),n?this.trigger("finish",this.source):this.isContinuousPlaybackEnabled?this.playNext(!0):this.trigger("pause")}function s(t){t.isPlayable()||a(t);
}function a(t,e){var n=m(S.indexOf(t));n&&S.play(n,e)}function u(){var t=this.source;t instanceof b&&t.on("add",c,this).on("remove",h,this),t.hold()}function l(){var t=this.source;t instanceof b&&t.off("add",c,this).off("remove",h,this),t.release()}function c(t,e,n){n.index<=this.cursor&&++this.cursor}function h(t,e,n){this.cursor&&n.index<=this.cursor&&--this.cursor}function d(){return!this._adDeferred&&this.getCurrentSound()&&"MONETIZE"===this.getCurrentSound().get("policy")&&v.adsEnabled()}function f(){return this._adDeferred&&"pending"===this._adDeferred.state()}function p(t,e){this._adDeferred=null,g.call(this,t,e)}function g(t,e){var n=this.source;this.pause(),t&&(this.setCursor(this.indexOf(t)),t.play(e),E=t,this.trigger("play",t)),this.length()-this.cursor<=w&&this.sourceIsCollection()&&!n.isFullyPopulated()&&n.fetch({add:!0})}function m(t){t=Math.max(0,S.cursor,t);var e=S.getSounds().slice(t),n=_.find(e,function(t){return t.isPlayable()});return n}var v,_=n(19),y=n(32),b=n(46),w=3,E=null,S=t.exports=_.extend({},y.Events,{cursor:-1,source:null,isContinuousPlaybackEnabled:!0,sourceIsCollection:function(){return this.source&&this.source instanceof b},setSource:function(t,e){return e=_.defaults(e||{},{continuousPlay:!0}),this.source!==t&&(this.source&&l.call(this),this.source=t,t&&u.call(this),this.setCursor(-1)),this.isContinuousPlaybackEnabled=e.continuousPlay,this},length:function(){return this.getSounds().length},get:function(t){var e=this.source;return this.sourceIsCollection()?e.at(t):e},getSounds:function(){var t=this.source,e=[];return this.sourceIsCollection()?e=t.models:t&&(e=t.getSounds()),e},indexOf:function(t){return this.getSounds().indexOf(t)},getCurrentSound:function(){return this.get(this.cursor)||null},setCursor:function(t){var e,n=this.getCurrentSound();t!==this.cursor&&(n&&i.call(this,"off",n),this.cursor=Math.max(-1,Math.min((this.length()||0)-1,t)),e=this.getCurrentSound(),e&&i.call(this,"on",e),n===this.getCurrentSound()&&this.sourceIsCollection()||this.trigger("change:current",{prev:n,current:this.getCurrentSound()}))},play:function(t,e){if(e=e||{},!t.isPlayable())return void((!S.isPlaying()||e.userAction)&&a(t,e));if(d.call(this))this._adDeferred=v.whenAdFinished(t,e),this._adDeferred.always(p.bind(this,t,e));else{if(f.call(this))return;g.call(this,t,e)}},pause:function(t,e){t=t||E,t&&t.isPlaying()&&t.pause(e),E=null},toggle:function(t,e){t&&(t.isPlaying()?this.pause(t,e):this.play(t,e))},playNext:function(t){this.cursor<this.length()-1&&this.play(this.get(this.cursor+1))},playPrev:function(){this.cursor>0&&this.play(this.get(this.cursor-1))},hasNextSound:function(){var t=this.source,e=this.cursor,n=this.length(),i=!(n&&n-1>e);return!i||t&&this.sourceIsCollection()&&(!t.isFullyPopulated()||!i)},prefetchCurrentSoundAudioAd:function(){d.call(this)&&v.prefetchAudioAd(this.getCurrentSound())},setAdManager:function(t){v=t},isPlaying:function(){var t=S.getCurrentSound();return t&&t.isPlaying()}})},function(t,e,n){(function(e){var i,r,o,s=n(32),a=n(28),u=n(47),l=n(23),c=n(19),h={};i=s.Collection.extend({next_href:null,lastFetchTime:null,model:h,getEndpointUrl:a.getEndpointUrl,defaults:{offset:0,limit:5,secret_token:null},initialize:function(t,e){this.options=e=o(this.constructor,e||{}),this.setup(e)},setup:e.noop,_prepareModel:function(){var t=s.Collection.prototype._prepareModel.apply(this,arguments);return t&&t.hold(this._usageCount()-1),t},_removeReference:function(t){return t.release(this._usageCount()),s.Collection.prototype._removeReference.apply(this,arguments)},fetch:function(t){var n=this.url();return n?this._requests&&this._requests[n]||s.Collection.prototype.fetch.call(this,t).done(function(t){this.next_href=t.next_href||!1}.bind(this)):e.Deferred().done(t&&t.success).resolve({})},bulkFetch:function(t){var n,i,o=arguments[1],s=arguments[2];if(!o){if(this._requests=this._requests||{},this._requests.bulk)return this._requests.bulk;this._requests.bulk=o=e.Deferred(),o.always(function(){delete this._requests.bulk}.bind(this)),s=this.length,n=this.options.limit,this.next_href||(this.options.limit=t-this.length),o.always(function(){this.options.limit=n,r.call(this,{limit:n})}.bind(this))}return this.length<t&&this.url()?(i=this.lastFetchTime?{add:!0}:{},i.silent=!0,r.call(this,{limit:t-this.length}),this.fetch(i).done(function(){this.bulkFetch(t,o,s)}.bind(this)).fail(o.reject)):(s?this.rest(s).forEach(function(t){this.trigger("add",t,this)},this):this.trigger("reset",this,{}),o.resolve()),o},url:function(){if(null!==this.next_href)return this.next_href;var t=l.parse(c.result(this,"baseUrl"));return c.extend(t.query,{limit:this.options.limit,offset:this.options.offset,linked_partitioning:1,secret_token:this.getSecretToken()}),l.stringify(t)},getSecretToken:function(){return this.options.secret_token},parse:function(t){return t.collection},hasDataForView:function(){return!!this.lastFetchTime},isPopulated:function(){return!!this.lastFetchTime},isFullyPopulated:function(){return this.next_href===!1},setLimit:function(t){this.options.limit=t,this.next_href&&(this.next_href=l.modify(this.next_href,{query:{limit:t}}))},random:function(){return this.at(Math.floor(Math.random()*this.length))}}),i=t.exports=u.applyTo(i,{hashFn:function(t,e){return e&&e.resource_id||null},onHold:function(t,e,n){t.length&&t.at(0).hold&&t.invoke("hold",n)},onRelease:function(t){t.length&&t.at(0).release&&t.invoke("release")}}),o=function(t,e){return c.defaults(e,t.prototype.defaults),t===i?e:o(t.__super__.constructor,e)},r=function(t){if(this.next_href){var e=l.parse(this.next_href);c.extend(e.query,t),this.next_href=l.stringify(e)}}}).call(e,n(1))},function(t,e,n){(function(e){function i(t){return t?function(e){r(e),t.apply(e,arguments)}:r}function r(t){t.off&&t.off(),t.stopListening&&t.stopListening()}var o,s=n(19),a=n(32),u=n(48),l=e.noop,c=0,h=6e4;t.exports={applyTo:function d(t,e){e=s.extend({neverRelease:!1,cleanupInstantly:!1,hashFn:function(){return null},prepareArgs:function(){return arguments},prepareInstance:function(){return this},getIncrementValue:function(){return 1},onHold:l,onRelease:l,onCleanup:null,GC_INTERVAL:h},e,t),delete e.prototype;var n,r,f,p,g,m,v,_=t.extend||a.Model.extend,y=e.neverRelease;return n=new u({autoCleanup:e.cleanupInstantly,onCleanup:i(e.onCleanup),onIncrement:e.onHold,onDecrement:e.onRelease}),y?p=g=m=l:(m=function(){n.cleanup(),f=n.length?setTimeout(m,e.GC_INTERVAL):null},p=function(t){n.increment(this.resource_id,t)},g=function(t){n.decrement(this.resource_id,t)}),v={hold:p,release:g,_usageCount:function(){return n.countFor(this.resource_id)},constructor:function(){var i=r.prepareArgs.apply(this,arguments),s=r.hashFn.apply(this,i)||"f-"+ ++c,a=r.neverRelease?1:r.getIncrementValue.apply(null,i),u=n.get(s);return u?(this.constructor.neverRelease||u.hold(a),r.prepareInstance.apply(u,i),u):(u=this,f||r.cleanupInstantly||(f=setTimeout(m,e.GC_INTERVAL)),n.set(s,u),u.constructor.neverRelease||u.hold(a-1),u.resource_id=s,o(t).apply(u,i),void r.prepareInstance.apply(u,i))}},r=_.call(t,v,e),s.extend(r,{__constructor__:o(t),reset:function(){n.reset(),f&&(clearTimeout(f),f=null)},extend:function(e){var n,i;return e=e||{},s.isArray(e)&&(e=s.extend.apply(null,[{}].concat(e))),e.hasOwnProperty("constructor")||(e.constructor=o(t)),n=_.apply(r,arguments),n.extend=_,i=d(n,r),i.__super__&&(i.__super__=i.__super__.constructor.__super__),i},instances:function(){return n.add=function(t){var e=r.hashFn(t.attributes);t.resource_id=e,e&&this.set(e,t)},n}(),getNewInstance:function(){function e(){return o(t).apply(this,i)}var n,i=arguments;return e.prototype=r.prototype,n=new e}})}},o=function(t){return t.__constructor__||t}}).call(e,n(1))},function(t,e,n){var i=n(37),r=n(49),o=t.exports=i.extend();r.applyTo(o.prototype)},function(t,e,n){var i=n(34);t.exports=new i({onCleanup:null,onIncrement:null,onDecrement:null,after:{initialize:function(t){this._counts={},this._needsGC=!1,t=t||{},this._autoCleanup=!!t.autoCleanup,this.onCleanup=t.onCleanup,this.onIncrement=t.onIncrement,this.onDecrement=t.onDecrement},reset:function(){this._counts={},this._needsGC=!1},set:function(t,e){this._counts[t]||(this._counts[t]=1,this.onIncrement&&this.onIncrement(e,t,1))},unset:function(t){delete this._counts[t]}},before:{reset:function(){this.onCleanup&&this.forEach(this.onCleanup)}},countFor:function(t){return this._counts[t]||0},increment:function(t,e){return this.has(t)&&(e="number"==typeof e?e:1,e>0?(this._counts[t]=(this._counts[t]||0)+e,this.onIncrement&&this.onIncrement(this.get(t),t,e)):0>e&&this.decrement(t,-e)),this},decrement:function(t,e){return this.has(t)&&(e="number"==typeof e?e:1,e>0?(this._counts[t]=(this._counts[t]||1)-e,this.onDecrement&&this.onDecrement(this.get(t),t,e),this._counts[t]<=0&&(this._needsGC=!0,this._autoCleanup&&this.cleanup())):0>e&&this.increment(t,-e)),this},cleanup:function(){var t,e=this.onCleanup;if(this._needsGC){for(t in this._counts)this._counts.hasOwnProperty(t)&&0===this._counts[t]&&(e&&e(this.get(t),t),this.unset(t));this._needsGC=!1}},changeKey:function(t,e){if(t!==e){var n=this.get(t),i=this.countFor(t);this.unset(t),this.set(e,n),this.increment(e,i-1)}}})},function(t,e){t.exports={PLAY:"play",PAUSE:"pause",TOGGLE:"toggle",SEEK_TO:"seekTo",SET_VOLUME:"setVolume",NEXT:"next",PREV:"prev",SKIP:"skip"}},function(t,e){t.exports={GET_VOLUME:"getVolume",GET_DURATION:"getDuration",GET_POSITION:"getPosition",GET_SOUNDS:"getSounds",GET_CURRENT_SOUND:"getCurrentSound",GET_CURRENT_SOUND_INDEX:"getCurrentSoundIndex",IS_PAUSED:"isPaused"}},function(t,e){e.api={LOAD_PROGRESS:"loadProgress",PLAY_PROGRESS:"playProgress",PLAY:"play",PAUSE:"pause",FINISH:"finish",SEEK:"seek",READY:"ready",OPEN_SHARE_PANEL:"sharePanelOpened",CLICK_DOWNLOAD:"downloadClicked",CLICK_BUY:"buyClicked",ERROR:"error"},e.bridge={REMOVE_LISTENER:"removeEventListener",ADD_LISTENER:"addEventListener"}},function(t,e,n){var i=n(52).api,r=n(43),o=t.exports={};o.audio={},o.audio[i.PLAY_PROGRESS]="audio:time",o.audio[i.PLAY]="audio:play",o.audio[i.PAUSE]="audio:pause",o.audio[i.FINISH]="audio:finish",o.audio[i.SEEK]="audio:seeked",o.ui={},o.ui[i.OPEN_SHARE_PANEL]=r.UI.SHARE_VIEW_OPENED,o.ui[i.CLICK_BUY]=r.UI.BUY_LINK_CLICKED,o.ui[i.CLICK_DOWNLOAD]=r.UI.DOWNLOAD_LINK_CLICKED},function(t,e,n){(function(e){function i(t){return!c.test(t)||0===t.indexOf(a.get("public_api_host"))}function r(t){return 0===t.indexOf(a.get("api_web_host"))}function o(t){return h.test(t)}var s=n(55),a=n(30),u=n(23),l=/^https?:\/\/.+?\//,c=/^https?:\/\//,h=new RegExp("([ei]1/)?("+["me","tracks/[0-9]+/plays","audio-ad","assignments"].join("|")+")\\b"),d={likes:"favorites",groups:"groups",people:"users",sound:"track",sounds:"tracks"};t.exports={initialize:function(t){e.ajaxSetup({statusCode:t||{},beforeSend:function(t,e){var n=i(e.url),c=r(e.url);e.crossDomain=!0,(n||c)&&(s.isLoggedIn()&&o(e.url)&&t.setRequestHeader("Authorization","OAuth "+s.getAuthToken()),n&&(e.url=a.get("public_api_host")+e.url.replace(l,"")),e.url=u.modify(e.url,{scheme:"https",query:{format:"json",client_id:a.get("client_id"),app_version:a.get("app_version")}}))}})},toAPIResource:function(t){return d[t]||t}}}).call(e,n(1))},function(t,e,n){(function(e){function i(t,e,n){var i=window.screenX+(window.outerWidth-e)/2,r=window.screenY+(window.outerHeight-n)/2;return window.open(t,"connectWithSoundCloud",["location=1","width="+e,"height="+n,"top="+r,"left="+i,"toolbar=no","scrollbars=yes"].join(","))}var r,o,s=n(19),a=n(32),u=n(30),l=n(42),c=n(23),h=n(38),d=150,f="v=2",p="oauth_token",g="non-expiring fast-connect",m=new h("anonymous-user"),v=new h("auth");v.on(p,function(t){_.setAuthToken(t.current)});var _=t.exports=s.extend({},a.Events,{setAuthToken:function(t){v.set(p,t)},getAuthToken:function(){return v.get(p)},isLoggedIn:function(){return!!this.getAuthToken()},login:function(){var t;return o?r&&!r.closed&&r.focus&&r.focus():(o=e.Deferred().fail(function(){o=null}),this.isLoggedIn()?o.resolve():(t=c.stringify({host:u.get("public_api_host").replace("api.",""),path:["connect"],query:{client_id:u.get("client_id"),response_type:"token",scope:g,display:"next",redirect_uri:u.get("redirect_uri")+"?"+f}}),r=i(t,450,500),function n(){r&&!r.closed||_.isLoggedIn()?r.closed?l.one("connect:hasUserData",o.resolve).broadcast("connect:login"):setTimeout(n,d):o.reject()}())),o},logout:function(){v.reset(),l.trigger("connect:logout","logout")},getUserIdentifier:function(){var t;return _.isLoggedIn()?t=_.currentUserId():(t=m.get("id"),t||(t=Math.floor(1e3*Math.random()),m.set("id",t))),t},currentUserId:function(){return u.get("me").id}})}).call(e,n(1))},function(t,e,n){var i=n(19),r=n(27),o=n(57),s=n(59),a=n(76),u="audio_ad";t.exports=o.extend({resource_type:"audio_ad",submodelMap:{sound:s,user:a},baseUrl:function(){return r.getAudioAdsUrl(this.id)},sound:null,createSubmodel:function(t,e){var n;"sound"===e?(n=this.get("sound"),this.sound=new s(i.extend(n,{resource_id:{ad_target_id:this.resource_id,sound_id:n.id}})),this.sound.setMonetizableTrack(this._monetizableTrack)):o.prototype.createSubmodel.apply(this,arguments)},parse:function(t){var e={},n=t&&t.promoted;return n&&(r.storeTargetingAttrs(n),t.track&&(e.sound=t.track,e.sound.ad_type="preroll",e.user=e.sound.user,e.tracking=n.data.audio?n.data.audio.tracking:{},e.audio=n.data.audio,e.companion_display=i.isEmpty(n.data.companion_display)?null:n.data.companion_display)),e},configureMonetizableTrack:function(t){this._monetizableTrack=t},getMonetizationType:function(){return u}})},function(t,e,n){(function(e){var i,r=n(19),o=n(54),s=n(32),a=n(55),u=n(30),l=n(28),c=n(58).resolveWithApiWeb,h=n(47),d=n(23),f=Array.prototype.slice;i=s.Model.extend({resource_type:null,lastFetchTime:null,getEndpointUrl:l.getEndpointUrl,_submodels:null,submodelMap:null,initialize:function(t,e){this._submodels=[],this.options=e,r.each(this.submodelMap,function(t,e){this.on("change:"+e,this.createSubmodel.bind(this,t,e))},this),this.setup.apply(this,arguments),r.each(this.submodelMap,function(t,e){this.get(e)&&this.createSubmodel(t,e)},this)},setup:e.noop,createSubmodel:function(t,e){this.addSubmodel(new t(this.get(e),{parse:!0}))},addSubmodel:function(){f.call(arguments).forEach(function(t){-1===this._submodels.indexOf(t)?this._submodels.push(t):t.release()}.bind(this))},getAttributesToBeSaved:function(){var t=this.toJSON(),e={};return e[o.toAPIResource(this.resource_type)]=t,e},baseUrl:function(){throw new Error("baseUrl should be defined for every model")},url:function(t){var e=this.getSecretToken(),n=r.result(this,t||"baseUrl");return e?d.modify(n,{query:{secret_token:e}}):n},getSecretToken:function(){return this.get("secret_token")},signedUrl:function(t){var e,n=this.get(t);return n?(e={scheme:"http",query:{client_id:u.get("client_id")}},a.isLoggedIn()&&(e.scheme="https",e.query.oauth_token=a.getAuthToken()),this.get("secret_token")&&(e.query.secret_token=this.get("secret_token")),d.modify(n,e)):null},toJSON:function(){var t=s.Model.prototype.toJSON.apply(this,arguments);return t._resource_id=this.resource_id,t._resource_type=this.resource_type,t},parse:function(t){var e;return"string"==typeof this.baseUrl&&(e=d.parse(this.baseUrl).query.secret_token),e||(e=this.extractSecretToken(t)),e&&(t.secret_token=e),t.permalink_url&&(t.permalink_url=t.permalink_url.replace(/^http:/,"https:").replace(/\/+$/,"")),t},extractSecretToken:e.noop,toString:function(){return this.resource_type?this.resource_type+" ("+(this.isNew()?"new":this.resource_id)+"): "+(this.attributes.permalink||this.attributes.title||this.attributes.name):Object.prototype.toString.call(this)},hasDataForView:function(t){return t.getRequiredAttributes(this).every(Object.prototype.hasOwnProperty,this.attributes)},updateResourceId:function(){var t=this.constructor.hashFn(this.attributes),e=this.resource_id;t&&(this.resource_id=t,this.constructor.instances.changeKey(e,t))},attrExists:function(t){var e=Object.prototype.hasOwnProperty;return r.isArray(t)?t.every(e,this.attributes):e.call(this.attributes,t)},getUrn:function(){return this.urnPrefix&&this.id?this.urnPrefix+":"+this.id:void 0},isPopulated:function(){return!!this.lastFetchTime}},{_resolve:function(t,n,i){var r=t.instances.find(i);return r?e.Deferred().resolve(r):c(n).then(function(e){return r=new t(e),r.release(),r})}}),t.exports=h.applyTo(i,{hashFn:function(t){return t&&t.id||null},onCleanup:function(t){t._submodels&&t._submodels.length&&(r.invoke(t._submodels,"release"),t._submodels.length=0)},prepareArgs:function(t,e){return e=e||{},t=t||{},e.parse&&(t=this.parse(t)),[t,e]},prepareInstance:function(t,e){return e=e||{},e.collection&&(this.lastFetchTime=Date.now()),r.isEmpty(t)||this.set(t),delete this.attributes.resource_id,this},getIncrementValue:function(t,e){var n=e&&e.collection;return n?n.constructor.instances.countFor(n.resource_id):1}})}).call(e,n(1))},function(t,e,n){(function(e){function i(t){return s(a.getEndpointUrl("resolveWithPublicAPI",null,{url:o(t)}))}function r(t){return s(a.getEndpointUrl("resolveWithAPIWeb",null,{url:o(t)}))}function o(t){return Array.isArray(t)&&(t=u.joinPath(t)),u.stringify({host:"https://soundcloud.com/",path:t})}function s(t){return e.ajax({url:t,dataType:"json"})}var a=n(28),u=n(23);t.exports={resolveWithApiWeb:r,resolveWithPublicApi:i}}).call(e,n(1))},function(t,e,n){(function(e){function i(t){var n=e.Deferred();return r(t).fail(n.reject).then(o).done(n.resolve).fail(n.reject),n}function r(t){var n=e.Deferred(),i=new v({id:t});return i.getUserId()?n.resolve(i.getUserId()):i.fetch().done(function(){n.resolve(i.getUserId())}).fail(n.reject),n.always(i.release.bind(i)),n}function o(t){var n=new g({id:t}),i=e.Deferred();return n.getPlan()?i.resolve(n):n.fetch({saveRequest:!0}).done(i.resolve.bind(i,n)).fail(i.reject.bind(i,n)),i.always(n.release.bind(n)),i}function s(){var t=!this.isBlocked()&&this._streamsExist;t!==this._playable&&(this._playable=t,this.trigger("change:playable",this))}var a=n(19),u=n(28),l=n(60),c=n(65),h=n(30),d=n(68),f=n(57),p=n(69),g=n(76),m=n(23),v=t.exports=l.extend(c.withOptions({batchEndpoint:u.getEndpointUrl("trackBatch"),getBatchParams:function(t){var e=t.playlist;return{playlistId:e&&e.id,playlistSecretToken:e&&e.get("secret_token")}},skipBatching:function(t){return!t.collection}}),d,{resource_type:"sound",urnPrefix:"soundcloud:tracks",_streamsExist:!0,_playable:!0,audio:null,submodelMap:{user:g},playbackOptions:{},setup:function(){l.prototype.setup.apply(this,arguments),this.audio=p.createAudioFromSound(this),this.set("playable",!0),this.on("change:policy",s,this),s.call(this),a.proxy(this.audio,this,"toggle","seek","isPaused","isPlaying","isLoading","loadProgress"),["play","pause"].forEach(function(t){this[t]=function(e){this.playbackOptions=e||{},this.audio[t].call(this.audio,{userAction:this.playbackOptions.userAction})}},this)},currentTime:function(){return this.audio&&this.audio.currentTime()||0},parse:function(t){return l.prototype.parse.call(this,t),t.publisher_metadata=t.publisher_metadata||{},t},isExplicit:function(){var t=this.attributes;return!(!t.publisher_metadata||!t.publisher_metadata.explicit)},isEmbeddable:function(t){if(t=t||this.toJSON(),!document&&!this.lastFetchTime)return!0;var e=m.parse(document.referrer),n=t.domain_lockings||[],i=t.embeddable_by;return"none"===i?!1:n.length?a.any(n,function(t){var n=e.host&&e.host.match(m.parse(t.domain).host);return n&&n.length}):!0},baseUrl:function(){var t=m.stringify({path:"/tracks/"+this.id,query:{secret_token:this.get("secret_token")}},h.get("public_api_host"));return this.getEndpointUrl("resolveWithAPIWeb",null,{url:t})},streamsUrl:function(){var t={secret_token:this.get("secret_token")};return this.getEndpointUrl("trackStreams",{id:this.id},t)},extractSecretToken:function(t){return m.parse(t.stream_url).query.secret_token},getSounds:function(){return[this]},getCurrentSound:function(){return this},duration:function(){return this.get("full_duration")||this.get("duration")},getMediaDuration:function(){return this.get("duration")},setHasStreamInfo:function(t){this._streamsExist!==t&&(this._streamsExist=t,s.call(this))},isPlayable:function(){return this._playable},isProcessing:function(){return"finished"!==this.get("state")},isEditing:function(){return!1},isShareable:function(){return"none"!==this.get("embeddable_by")&&!this.isPrivate()},isBlocked:function(){return"BLOCK"===this.get("policy")},isSnippetized:function(){return"SNIP"===this.get("policy")},areRelatedSoundsEnabled:function(){var t,n=this._relatedSoundsEnabledDefer;return n||(this._relatedSoundsEnabledDefer=n=e.Deferred(),this.isPrivate()?n.reject():(t=h.get("widgetParams").hide_related,i(this.id).done(function(e){t&&e.getPlan()===g.Plans.PRO_UNLIMITED?n.reject():n.resolve()}).fail(n.resolve))),n},getUserId:function(){return this.get("user_id")||null},getStreamProtocol:function(){var t=this;return t.audio&&t.audio.streamInfo&&t.audio.streamInfo.protocol||""},updateCommentCount:function(t){var e=this.get("comment_count");this.set({comment_count:e+(t?1:-1)})},setMonetizableTrack:function(t){t.hold(),this.addSubmodel(t),this._monetizableTrack=t},getMonetizableTrack:function(){return this._monetizableTrack},hasVisuals:function(){return!a.isEmpty(this.get("visuals"))}},{resolve:function(t,e,n){return f._resolve(this,[t,e,n],function(n){var i=n.get("user");return i&&n.get("permalink")===e&&i.permalink===t})},getUserBySoundId:i})}).call(e,n(1))},function(t,e,n){var i,r=n(19),o=n(61),s=n(30),a=n(45),u=n(62),l=n(63),c=n(64),h=n(57);i=function(){throw new Error("Abstract method should be implemented in subclass")};t.exports=h.extend({isEmbeddable:i,isShareable:i,getCurrentSound:i,getSounds:i,initAudio:function(){var t=this.getCurrentSound();t&&t.audio.initAudio()},setup:function(){this.on("destroy",this.pause,this)},isNowPlaying:function(){return a.getCurrentSound()===this},isPrivate:function(){return"private"===this.get("sharing")},isPlaylist:function(){return this.resource_type===o.PLAYLIST},likesChanged:function(t){this.set({likes_count:Math.max(0,(this.get("likes_count")||0)+(t?1:-1))})},getEmbedCode:function(t){var e=this.attributes,n=r.clone(s.get("widgetParams"));return r.each(n,function(t,e){e in u&&t===u[e]&&delete n[e]}),t=t||{},t.params=n,l(e,t)},getShareURL:function(){return this.get("permalink_url")+(this.isPrivate()?"/"+this.get("secret_token"):"")},getDeeplinkURL:function(t){var e=/(\b(?:[0-5]?[0-9])(?::[0-5][0-9]){1,2}\b)/g;return t=r.isUndefined(t)?0!==this.currentTime()?this.timecode():"":t.match(e)?e.exec(t)[0]:"",t&&(t="#t="+t),this.get("permalink_url")+t},play:i,pause:i,seek:i,isPlaying:i,isProcessing:i,isEditing:i,loadProgress:i,currentTime:i,toggle:function(){this[this.isPlaying()?"pause":"play"]()},stop:function(){this.seek(0),this.pause()},isPaused:function(){return!this.isPlaying()},seekRelative:function(t){this.seek(this.currentTime()+t)},duration:function(){return this.get("duration")},progress:function(){return this.currentTime()/this.duration()},timecode:function(){return c.timecode(this.currentTime())},toggleMute:function(t){var e=this.getCurrentSound();e&&e.audio.toggleMute(t)},getVolume:function(){var t,e=this.getCurrentSound();return e&&(t=e.audio.getVolume()),t},setVolume:function(t){var e=this.getCurrentSound();e&&e.audio.setVolume(t)}})},function(t,e){t.exports={GROUP:"group",GROUP_SOUNDS:"group-sounds",PLAYLIST:"playlist",SOUND:"sound",USER:"user",USER_FAVORITES:"user-favorites",USER_SOUNDS:"user-sounds",USER_SPOTLIGHT:"user-spotlight"}},function(t,e,n){var i=n(20);t.exports={auto_advance:!0,auto_play:!1,buying:!0,color:"FF5500",continuous_play:!0,download:!0,following:!0,hide_related:!1,inverse:!1,legacy_fallback:!0,liking:!0,secret_token:"",sharing:!0,show_artwork:!0,show_comments:i.isNextSupported?!0:!1,show_playcount:!0,show_reposts:!1,show_user:!0,single_active:!0,start_track:0,tracking:"",visual:!1,locale:"en"}},function(t,e,n){!function(){var e,n,i,r,o,s,a,u;e={html5:{allowed_params:["url","auto_play","color","show_artwork"],supported_types:["track","playlist","group","user","app"],root_url:"https://w.soundcloud.com/player/",template:'<iframe width="100%" height="{height}" scrolling="no" frameborder="no" src="{src}"></iframe>',height:{single:166,multi:450}},flash:{allowed_params:["url","auto_play","color","show_artwork","show_comments","show_playcount"],supported_types:["track","playlist","group","user"],root_url:"https://player.soundcloud.com/player.swf",template:'<object height="{height}" width="100%"><param name="movie" value="{src}"></param><param name="allowscriptaccess" value="always"></param><embed allowscriptaccess="always" src="{src}" type="application/x-shockwave-flash" width="100%" height="{height}"></embed></object>',height:{single:81,multi:165}},mini:{allowed_params:["url","auto_play","color","player_type","font"],supported_types:["track","playlist","group","user"],root_url:"https://player.soundcloud.com/player.swf",template:'<object height="18" width="100%"><param name="movie" value="{src}"></param><param name="allowscriptaccess" value="always"></param><param name="wmode" value="transparent"></param><embed wmode="transparent" allowscriptaccess="always" height="18" width="100%" src="{src}"></embed></object>',height:{single:18,multi:18}},artwork:{allowed_params:["url","auto_play","color","player_type"],supported_types:["track","playlist","group","user"],root_url:"https://player.soundcloud.com/player.swf",template:'<object height="{height}" width="{height}"><param name="movie" value="{src}"></param><param name="allowscriptaccess" value="always"></param><embed allowscriptaccess="always" width="{height}" height="{height}" src="{src}" type="application/x-shockwave-flash"></embed></object>',height:{single:300,multi:300}}},a={track:'<span><a href="{resource_url}">{resource_title}</a> by <a href="{user_url}">{user_name}</a></span>',playlist:'<span><a href="{resource_url}">{resource_title}</a> by <a href="{user_url}">{user_name}</a></span>',user:'<span>Latest sounds by <a href="{resource_url}">{resource_title}</a></span>',group:'<span><a href="{resource_url}">{resource_title}</a></span>'},n=function(t){return[].slice.call(arguments,1).forEach(function(e){if(e)for(var n in e)t[n]=e[n]}),t},s={render:function(t,e){var n=/\{([^\{\}]*)\}/g;return e.replace(n,function(e,n){var i=t[n];return"string"==typeof i||"number"==typeof i?i:e})},html:function(t,n){var i=e[n.type].template,r=n.text?a[t.resource_type]||"":"";return this.render(t,i)+this.render(t,r)},wordpress:function(t,e){var n="html5"===e.type,i=t.api_url,r=u(e.params,e.type).replace(/&amp;/g,"&"),o="artwork"===e.type?t.height:"100%";return'[soundcloud url="'+i+'"'+(r.length?' params="'+r+'"':"")+' width="'+o+'" height="'+t.height+'" iframe="'+n+'" /]'}},r=function(t,r){var a,l,c={type:"html5",format:"html",text:!1},h=i(t);return r=n(c,r),r.params=n({},r.params),l=e[r.type],-1===l.supported_types.indexOf(t.kind)?!1:(("artwork"===r.type||"mini"===r.type)&&(r.params.player_type=r.type.replace("mini","tiny")),"flash"===r.type&&(r.text=!0),a={user_name:t.user?t.user.username:null,user_url:t.user?t.user.permalink_url.replace(/^http:/,"https:"):null,resource_title:t.title||t.name||t.username,resource_url:t.permalink_url.replace(/^http:/,"https:"),resource_type:t.kind,api_url:h,height:o(t,r,l),params:r.params,src:[l.root_url,"?",u(n({url:h},r.params),r.type)].join("")},s[r.format]?s[r.format](a,r):void 0)},i=function(t){var e=t.secret_uri||t.uri,n="public"===t.sharing;return n&&(e=e.replace(/\?secret_token=([^&]*)/,"")),e.replace(/^http:/,"https:")},u=function(t,n){var i,r,o,s,a,u=[];if(t)for(i in t)if(t.hasOwnProperty(i)&&-1!==e[n].allowed_params.indexOf(i)&&(s=t[i],null!==s&&s!==a))if("object"==typeof s)for(o=s.length,r=0;o>r;++r)u.push(encodeURIComponent(i)+"="+encodeURIComponent(s[r]).replace(/%2F/g,"/"));else u.push(encodeURIComponent(i)+"="+encodeURIComponent(s).replace(/%2F/g,"/"));return u.join("&amp;")},o=function(t,e,n){return e.height?e.height:"track"===t.kind?n.height.single:n.height.multi},"undefined"!=typeof t&&t.exports?t.exports=r:(window.SC=window.SC||{},window.SC.getEmbedCode=r)}()},function(t,e){var n=1e3,i=60*n,r=60*i;t.exports={timecode:function(t){var e,o;return isNaN(t)?t:(e=[],o={h:Math.floor(t/r),m:Math.floor(t/i%60),s:Math.floor(t/n%60)},o.h>0&&e.push(o.h),e.push(o.m<10&&o.h>0?"0"+o.m:o.m,o.s<10?"0"+o.s:o.s),e.join(":"))}}},function(t,e,n){(function(e){function i(t){return t?h.stringify({query:t}):"default"}function r(t){return!this.id||t.jqAjax||t.saveRequest||t.batch===!1||"private"===this.get("sharing")}function o(t,e,n,i){this.batchEndpoint=t,this.batchParams=e,this.maxQueueSize=n,this.flushInterval=i,this.queue={},this.timer=null}function s(t,n){return e.ajax({url:t,type:"get",data:n,contentType:"application/json",processData:!0,timeout:3e3}).then(function(t,e,n){return{body:t,status:n.status,headers:{}}})}var a=n(19),u=n(34),l=n(66),c=n(67),h=n(23),d=50,f=50,p=function(){return null},g=function(){return!1};t.exports=new u({applyTo:function(t,e){var n=e.batchEndpoint,s=e.maxQueueSize||f,a=e.flushInterval||d,u=e.getBatchParams||p,l=e.skipBatching||g,c={};this.around(t,{fetch:function(t,e){if(e||(e={}),l(this)||r.call(this,e))return t(e);if(this._requests||(this._requests={}),!this._requests[this.id]){var h=u(this)||null,d=i(h),f=c[d]||(c[d]=new o(n,h,s,a));this._requests[this.id]=f.add(this,e)}return this._requests[this.id]}})}});o.prototype={getIds:function(){var t=a.reduce(this.queue,function(t,e,n){return"pending"===e.deferred.state()&&(t[n]=e),t},{});return Object.keys(t).sort()},add:function(t,e){var n=this.queue[t.id]=this.queue[t.id]||{callsigs:[],deferred:l.defer()};return n.callsigs.push({model:t,options:e}),this.timer||(this.timer=window.setTimeout(this.flush.bind(this),this.flushInterval)),Object.keys(this.queue).length===this.maxQueueSize&&this.flush(),n.deferred},flush:function(){var t=this.getIds(),e=this.queue;window.clearTimeout(this.timer),this.timer=null,this.queue={},t.length<1||s(this.batchEndpoint,a.extend({ids:t.join(",")},this.batchParams)).then(function(n){var i=n.body,r=a.map(a.pluck(i,"id"),String),o=Date.now();i.forEach(function(t){var n=t.id,i=e[n];i&&(i.callsigs.forEach(function(e){var n=e.model;n.lastFetchTime=o,n.set(n.parse(t),e.options)}),i.deferred.resolve())}),a.difference(t,r).forEach(function(t){var n=e[t];n&&n.callsigs.forEach(function(t){t.model.trigger("error",t.model,new c,t.options)})}),a.each(e,function(t){t.deferred.reject()})})}}}).call(e,n(1))},function(t,e,n){(function(e){var i,r=n(19);t.exports=i={defer:function(t){var n=e.Deferred(),i=n.promise();return r.isFunction(t)?(t.call(i,n.resolve,n.reject),i):(r.isObject(t)&&r.isFunction(t.then)&&t.then(n.resolve,n.reject),n)},settled:function(t){return e.whenAll(t)},all:function(t){return e.when.apply(e,t)},resolve:function(t){return e.Deferred().resolve(t)},reject:function(t){return e.Deferred().reject(t)},promisify:function(t){return function(){var n=e.Deferred();return t.apply(null,r.toArray(arguments).concat(function(t,e){t?n.reject(t):n.resolve(e)})),n.promise()}},call:function(t){var n=e.Deferred(),i=r.tail(arguments,1);try{n.resolve(t.apply(null,i))}catch(o){n.reject(o)}return n.promise()},mapEither:function(t,e){return e.then(t,t)},sequential:function(t){return t.reduce(function(t,e){function n(){return e().then(i.reject)}return t.then(e,n)},e.Deferred().resolve())},delay:function(t){var e=i.defer();return window.setTimeout(e.resolve.bind(e),t),e}}}).call(e,n(1))},function(t,e){function n(){var t=Error.apply(this,arguments);t.name=this.name="UnauthorizedViewerError",this.message="User is unauthorized to view this resource.",this.stack=t.stack}n.prototype=Object.create(Error.prototype),t.exports=n},function(t,e,n){var i=n(34),r=n(61);t.exports=new i({before:{initialize:function(){switch(this.resource_type){case r.USER:this.imageAttribute="avatar_url";break;case r.GROUP:case r.PLAYLIST:case r.SOUND:this.imageAttribute="artwork_url"}if(!this.imageAttribute,!1)throw new Error("This resource_type is not allowed, you might want to add it?");
}}})},function(t,e,n){(function(e){function i(t){g.setAudioManagerOnce(c);var e=new g({soundId:t.id,duration:t.getMediaDuration.bind(t),streamUrlsEndpoint:t.streamsUrl.bind(t),asyncFetch:!h.isMobile,protocols:s(),eventLogger:f,ajax:u,debug:!1});return e._progressEvents=m.slice(),e.on("all",r.bind(e,t),this),e}function r(t,e,n){var i=o.call(this,e,t);switch(i.forEach(function(e){var i={sound:t,model:t,controller:this.controller,args:n};d.trigger("audio:"+e,i),t.trigger(e,i)},this),e){case v.STREAMS:case v.NO_STREAMS:t.setHasStreamInfo(!!this.streamInfo);break;case v.NO_PROTOCOL:case v.FLASH_NOT_LOADED:case v.AUDIO_ERROR:t.setHasStreamInfo(!1);break;case v.REGISTERED:t.set("playback_count",t.get("playback_count")+1)}}function o(t,e){var n="";switch(t){case v.PLAY:n="play-intent";break;case v.PLAY_START:n="play";break;case v.PAUSE:n="pause";break;case v.FINISH:n="finish";break;case v.SEEKED:n="seeked";break;case v.FLASH_BLOCK:n="flash-block";break;case v.FLASH_UNBLOCK:n="flash-unblock";break;case v.TIME:n="time",this._progressEvents.length&&e.progress()>=this._progressEvents[0].value&&(n+=" "+this._progressEvents.shift().name)}return n?n.split(" "):[]}function s(){var t=[g.Protocols.HLS,g.Protocols.RTMP,g.Protocols.HTTP];return a()&&(t=l.without(t,g.Protocols.RTMP)),t}function a(){var t=(window.location.search.match(/(?:\?|&)origin=(\w+)/)||[])[1];return"twitter"===t}function u(t){return e.ajax(l.extend({},t,_()))}var l=n(19),c=n(70),h=n(20),d=n(42),f=n(73),p=n(74),g=n(75),m=[{name:"progress-10",value:.1},{name:"progress-95",value:.95}],v=g.Events;t.exports={createAudioFromSound:i};var _=l.memoize(function(){return{statusCode:Object.keys(p).reduce(function(t,e){t[e]=l.noop},{})}})}).call(e,n(1))},function(t,e,n){(function(e){function i(t){var n=t.controller,i=e(n.getContainerElement()),a=e(".playButton"),u=a.offset(),l=n.getState()===r.States.ERROR;return o.isGecko?(s.get("appView").$el.append(i),void i.toggleClass("fullscreen",l)):void i.toggleClass("blocked",l).css({top:l?u.top:0,left:l?u.left:0})}var r,o=n(20),s=n(30),a=n(71),u=n(42),l=1e3/60;t.exports=r=new a({flashAudioPath:n(72),flashObjectID:"flashAudioObject",flashLoadTimeout:500,updateInterval:l,debug:!1}),r.Errors=a.Errors,r.States=a.States,r.UPDATE_INTERVAL=l,u.one("audio:flash-block audio:flash-unblock",i)}).call(e,n(1))},function(t,e){t.exports=function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}(function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))switch(typeof t[e]){case"function":break;case"object":t[e]=function(e){var n=e.slice(1),i=t[e[0]];return function(t,e,r){i.apply(this,[t,e,r].concat(n))}}(t[e]);break;default:t[e]=t[t[e]]}return t}([function(t,e,n){var i,r=n(1),o=n(12),s=n(14),a=n(38),u=n(43),l=n(39),c=n(16),h=n(42),d=n(117),f=n(118);t.exports=i=function(t){t=t||{},this._players={},this._volume=1,this._mute=!1,this.States=a,this.Errors=u,this._settings=o({},t,i.defaults)},i.MimeTypes=f,i.Protocols=d,i.Events=l,i.States=a,i.Errors=u,i.BrowserUtils=c,i.defaults={flashAudioPath:"flashAudio.swf",flashLoadTimeout:2e3,flashObjectID:"flashAudioObject",audioObjectID:"html5AudioObject",updateInterval:50,bufferTime:8e3,maxBufferTime:9e4,bufferingDelay:500,streamUrlProvider:null,debug:!1},i.capabilities=h.names,i.createDefaultMediaDescriptor=function(t,e,n){if(!t||!e||!e.length)throw new Error("invalid input to create media descriptor");return n||(n=0),{id:t,src:e,duration:n,forceSingle:!1,forceFlash:!1,forceHTML5:!1,forceCustomHLS:!1,mimeType:void 0}},i.prototype.getAudioPlayer=function(t){return this._players[t]},i.prototype.hasAudioPlayer=function(t){return void 0!==this._players[t]},i.prototype.removeAudioPlayer=function(t){this.hasAudioPlayer(t)&&delete this._players[t]},i.prototype.setVolume=function(t){t=Math.min(1,t),this._volume=Math.max(0,t);for(var e in this._players)this._players.hasOwnProperty(e)&&this._players[e].setVolume(this._volume)},i.prototype.getVolume=function(){return this._volume},i.prototype.setMute=function(t){this._muted=t;for(var e in this._players)this._players.hasOwnProperty(e)&&this._players[e].setMute(this._muted)},i.prototype.getMute=function(){return this._muted},i.prototype.createAudioPlayer=function(t,e){var n,i=r({},this._settings,e);if(!t)throw"AudioManager: No media descriptor object passed, can`t build any player";if(t.id||(t.id=Math.floor(1e10*Math.random()).toString()+(new Date).getTime().toString()),!t.src)throw new Error("AudioManager: You need to pass a valid media source URL");if(!this._players[t.id]){if(n=s.createAudioPlayer(t,i),!n)throw new Error("AudioManager: No player could be created from the given descriptor");this._players[t.id]=n}return this._players[t.id].setVolume(this._volume),this._players[t.id].setMute(this._muted),this._players[t.id].on(l.STATE_CHANGE,this._onStateChange,this),this._players[t.id]},i.prototype._onStateChange=function(t,e){e.getState()===a.DEAD&&this.removeAudioPlayer(e.getId())}},function(t,e,n){function i(t,e,n){for(var i=-1,r=s(e),o=r.length;++i<o;){var a=r[i],u=t[a],l=n(u,e[a],a,t,e);(l===l?l===u:u!==u)&&(void 0!==u||a in t)||(t[a]=l)}return t}var r=n(2),o=n(8),s=n(4),a=o(function(t,e,n){return n?i(t,e,n):r(t,e)});t.exports=a},[119,3,4],function(t,e){function n(t,e,n){n||(n={});for(var i=-1,r=e.length;++i<r;){var o=e[i];n[o]=t[o]}return n}t.exports=n},[120,5,6,7],function(t,e){function n(t){return!!t&&"object"==typeof t}function i(t,e){var n=null==t?void 0:t[e];return s(n)?n:void 0}function r(t){return o(t)&&d.call(t)==a}function o(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function s(t){return null==t?!1:r(t)?f.test(c.call(t)):n(t)&&u.test(t)}var a="[object Function]",u=/^\[object .+?Constructor\]$/,l=Object.prototype,c=Function.prototype.toString,h=l.hasOwnProperty,d=l.toString,f=RegExp("^"+c.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=i},function(t,e){function n(t){return!!t&&"object"==typeof t}function i(t){return function(e){return null==e?void 0:e[t]}}function r(t){return null!=t&&o(h(t))}function o(t){return"number"==typeof t&&t>-1&&t%1==0&&c>=t}function s(t){return n(t)&&r(t)&&u.call(t,"callee")&&!l.call(t,"callee")}var a=Object.prototype,u=a.hasOwnProperty,l=a.propertyIsEnumerable,c=9007199254740991,h=i("length");t.exports=s},function(t,e){function n(t){return!!t&&"object"==typeof t}function i(t,e){var n=null==t?void 0:t[e];return a(n)?n:void 0}function r(t){return"number"==typeof t&&t>-1&&t%1==0&&v>=t}function o(t){return s(t)&&p.call(t)==l}function s(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function a(t){return null==t?!1:o(t)?g.test(d.call(t)):n(t)&&c.test(t)}var u="[object Array]",l="[object Function]",c=/^\[object .+?Constructor\]$/,h=Object.prototype,d=Function.prototype.toString,f=h.hasOwnProperty,p=h.toString,g=RegExp("^"+d.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),m=i(Array,"isArray"),v=9007199254740991,_=m||function(t){return n(t)&&r(t.length)&&p.call(t)==u};t.exports=_},function(t,e,n){function i(t){return s(function(e,n){var i=-1,s=null==e?0:n.length,a=s>2?n[s-2]:void 0,u=s>2?n[2]:void 0,l=s>1?n[s-1]:void 0;for("function"==typeof a?(a=r(a,l,5),s-=2):(a="function"==typeof l?l:void 0,s-=a?1:0),u&&o(n[0],n[1],u)&&(a=3>s?void 0:a,s=1);++i<s;){var c=n[i];c&&t(e,c,a)}return e})}var r=n(9),o=n(10),s=n(11);t.exports=i},function(t,e){function n(t,e,n){if("function"!=typeof t)return i;if(void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,i,r){return t.call(e,n,i,r)};case 4:return function(n,i,r,o){return t.call(e,n,i,r,o)};case 5:return function(n,i,r,o,s){return t.call(e,n,i,r,o,s)}}return function(){return t.apply(e,arguments)}}function i(t){return t}t.exports=n},function(t,e){function n(t){return function(e){return null==e?void 0:e[t]}}function i(t){return null!=t&&s(c(t))}function r(t,e){return t="number"==typeof t||u.test(t)?+t:-1,e=null==e?l:e,t>-1&&t%1==0&&e>t}function o(t,e,n){if(!a(n))return!1;var o=typeof e;if("number"==o?i(n)&&r(e,n.length):"string"==o&&e in n){var s=n[e];return t===t?t===s:s!==s}return!1}function s(t){return"number"==typeof t&&t>-1&&t%1==0&&l>=t}function a(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}var u=/^\d+$/,l=9007199254740991,c=n("length");t.exports=o},function(t,e){function n(t,e){if("function"!=typeof t)throw new TypeError(i);return e=r(void 0===e?t.length-1:+e||0,0),function(){for(var n=arguments,i=-1,o=r(n.length-e,0),s=Array(o);++i<o;)s[i]=n[e+i];switch(e){case 0:return t.call(this,s);case 1:return t.call(this,n[0],s);case 2:return t.call(this,n[0],n[1],s)}var a=Array(e+1);for(i=-1;++i<e;)a[i]=n[i];return a[e]=s,t.apply(this,a)}}var i="Expected a function",r=Math.max;t.exports=n},function(t,e,n){function i(t,e){return void 0===t?e:t}function r(t,e){return s(function(n){var i=n[0];return null==i?i:(n.push(e),t.apply(void 0,n))})}var o=n(1),s=n(13),a=r(o,i);t.exports=a},11,function(t,e,n){t.exports=n(15)},function(t,e,n){var i,r=n(16),o=n(17),s=n(45),a=n(49),u=n(46),l=n(48),c=n(50),h=n(118);t.exports=i=function(){},i.createAudioPlayer=function(t,e){var n;if(n=t.src.split(":")[0],("rtmp"===n||"rtmpt"===n||t.forceFlash)&&!t.forceHTML5)return new o(t,e);if(t.mimeType=i.getMimeType(t),t.mimeType===h.M3U8){if(r.isMSESupportMPEG()||r.isMSESupportMP4())return new c(t,e);if(r.isNativeHlsSupported()&&!t.forceCustomHLS)return r.isMobile()||t.forceSingle?new a(t,e):new s(t,e)}else{if(r.supportHTML5Audio()&&r.canPlayType(t.mimeType)||t.forceHTML5)return r.isMobile()||t.forceSingle?new l(t,e):new u(t,e);if(t.mimeType===h.MP3)return new o(t,e)}return null},i.getMimeType=function(t){if(t.mimeType)return t.mimeType;var e=t.src.split("?")[0];return e=e.substring(e.lastIndexOf(".")+1,e.length),h.getTypeByExtension(e)}},function(t,e){function n(){return!(!window.MediaSource&&!window.WebKitMediaSource)}t.exports={supportHTML5Audio:function(){var t;try{if(window.HTMLAudioElement&&"undefined"!=typeof Audio)return t=new Audio,!0}catch(e){return!1}},createAudioElement:function(){var t=document.createElement("audio");return t.setAttribute("msAudioCategory","BackgroundCapableMedia"),t.mozAudioChannelType="content",t},isMobile:function(t){var e=window.navigator.userAgent,n=["mobile","iPhone","iPad","iPod","Android","Skyfire"];return n.some(function(t){return t=new RegExp(t,"i"),t.test(e)})},isIE10Mobile:function(){return/IEmobile\/10\.0/gi.test(navigator.userAgent)},canPlayType:function(t){var e=document.createElement("audio");return e&&e.canPlayType&&e.canPlayType(t).match(/maybe|probably/i)?!0:!1},isNativeHlsSupported:function(){var t,e,n,i=navigator.userAgent,r=["iPhone","iPad","iPod"];return t=function(t){return t.test(i)},e=!t(/chrome/i)&&!t(/opera/i)&&t(/safari/i),n=r.some(function(e){return t(new RegExp(e,"i"))}),n||e},isMSESupported:n,isMSESupportMPEG:function(){return n()&&MediaSource.isTypeSupported("audio/mpeg")},isMSESupportMP4:function(){return n()&&MediaSource.isTypeSupported("audio/mp4")},isOnLine:function(){return window.navigator.onLine!==!1}}},function(t,e,n){function i(t,e){a.call(this,"FlashAudioProxy",t,e),i.players[t.id]=this,this._errorMessage=null,this._errorID=null,this._volume=1,this._muted=!1,i.creatingFlashAudio||(i.flashAudio?this._createFlashAudio():i.createFlashObject(e))}var r=n(1),o=n(18),s=n(29),a=n(35),u=n(39),l=n(43),c=n(38),h=n(44);t.exports=i,r(i.prototype,a.prototype),i.players={},i.createFlashObject=function(t){i.creatingFlashAudio=!0,i.containerElement=document.createElement("div"),i.containerElement.setAttribute("id",t.flashObjectID+"-container"),i.flashElementTarget=document.createElement("div"),i.flashElementTarget.setAttribute("id",t.flashObjectID+"-target"),i.containerElement.appendChild(i.flashElementTarget),document.body.appendChild(i.containerElement);var e=function(e){if(e.success)i.flashAudio=document.getElementById(t.flashObjectID),window.setTimeout(function(){if(i.flashAudio&&!("PercentLoaded"in i.flashAudio))for(var t in i.players)i.players.hasOwnProperty(t)&&(i.players[t]._errorID=l.FLASH_PROXY_FLASH_BLOCKED,i.players[t]._errorMessage="Flash object blocked",i.players[t]._setState(c.ERROR),i.players[t]._logger.type=i.players[t].getType(),i.players[t]._logger.log(i.players[t]._errorMessage))},t.flashLoadTimeout),i.flashAudio.triggerEvent=function(t,e){i.players[t]._triggerEvent(e)},i.flashAudio.onPositionChange=function(t,e,n,r){i.players[t]._onPositionChange(e,n,r)},i.flashAudio.onDebug=function(t,e,n){i.players[t]._logger.type=e,i.players[t]._logger.log(n)},i.flashAudio.onStateChange=function(t,e){i.players[t]._setState(e),e===c.DEAD&&delete i.players[t]},i.flashAudio.onInit=function(t){i.creatingFlashAudio=!1,o(s(i.players),"_createFlashAudio")};else for(var n in i.players)i.players.hasOwnProperty(n)&&(i.players[n]._errorID=l.FLASH_PROXY_CANT_LOAD_FLASH,i.players[n]._errorMessage="Cannot create flash object",i.players[n]._setState(c.ERROR))};document.getElementById(t.flashObjectID)||h.embedSWF(t.flashAudioPath,t.flashObjectID+"-target","1","1","9.0.24","",{json:encodeURIComponent(JSON.stringify(t))},{allowscriptaccess:"always"},{id:t.flashObjectID,tabIndex:"-1"},e)},i._ready=function(){return i.flashAudio&&!i.creatingFlashAudio},i.prototype._createFlashAudio=function(){i.flashAudio.createAudio(this.getDescriptor()),this._state=i.flashAudio.getState(this.getId()),this.setVolume(this._volume),this.setMute(this._muted)},i.prototype._triggerEvent=function(t){this._logger.log("Flash element triggered event: "+t),this.trigger(t,this)},i.prototype._setState=function(t){this._state!==t&&(this._state=t,this.trigger(u.STATE_CHANGE,t,this))},i.prototype._onPositionChange=function(t,e,n){this.trigger(u.POSITION_CHANGE,t,e,n,this)},i.prototype.getType=function(){return i._ready()?i.flashAudio.getType(this.getId()):this._type},i.prototype.getContainerElement=function(){return i.containerElement},i.prototype.play=function(t){if(i._ready()){if(this.getState()===c.PAUSED)return void this.resume();t=void 0===t?0:t,i.flashAudio.playAudio(this.getId(),t)}},i.prototype.pause=function(){i._ready()&&i.flashAudio.pauseAudio(this.getId())},i.prototype.seek=function(t){i._ready()&&i.flashAudio.seekAudio(this.getId(),t)},i.prototype.resume=function(){i._ready()&&i.flashAudio.resumeAudio(this.getId())},i.prototype.setVolume=function(t){this._volume=t,i._ready()&&i.flashAudio.setVolume(this.getId(),t)},i.prototype.getVolume=function(){return i._ready()?i.flashAudio.getVolume(this.getId()):this._volume},i.prototype.setMute=function(t){this._muted=t,i._ready()&&i.flashAudio.setMute(this.getId(),t)},i.prototype.getMute=function(){return i._ready()?i.flashAudio.getMute(this.getId()):this._muted},i.prototype.getState=function(){return this._state},i.prototype.getCurrentPosition=function(){return i._ready()?i.flashAudio.getCurrentPosition(this.getId()):0},i.prototype.getLoadedPosition=function(){return i._ready()?i.flashAudio.getLoadedPosition(this.getId()):0},i.prototype.getDuration=function(){return i._ready()?i.flashAudio.getDuration(this.getId()):0},i.prototype.kill=function(){return i._ready()?void i.flashAudio.killAudio(this.getId()):0},i.prototype.getErrorMessage=function(){return this._errorMessage?this._errorMessage:i.flashAudio.getErrorMessage(this.getId())},i.prototype.getErrorID=function(){return this._errorID?this._errorID:i.flashAudio.getErrorID(this.getId())},i.prototype.getLevelNum=function(){return i._ready()?i.flashAudio.getLevelNum(this.getId()):0},i.prototype.getLevel=function(){return i._ready()?i.flashAudio.getLevel(this.getId()):0},i.prototype.setLevel=function(t){return i._ready()?i.flashAudio.setLevel(this.getId(),t):0}},function(t,e,n){function i(t){return function(e){return null==e?void 0:e[t]}}function r(t){return null!=t&&s(m(t))}function o(t,e){var n=typeof t;if("string"==n&&p.test(t)||"number"==n)return!0;if(h(t))return!1;var i=!f.test(t);return i||null!=e&&t in a(e)}function s(t){return"number"==typeof t&&t>-1&&t%1==0&&g>=t}function a(t){return u(t)?t:Object(t)}function u(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}var l=n(19),c=n(24),h=n(23),d=n(28),f=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,p=/^\w*$/,g=9007199254740991,m=i("length"),v=d(function(t,e,n){var i=-1,s="function"==typeof e,a=o(e),u=r(t)?Array(t.length):[];return l(t,function(t){var r=s?e:a&&null!=t?t[e]:void 0;u[++i]=r?r.apply(t,n):c(t,e,n)}),u});t.exports=v},[121,20],[120,21,22,23],5,6,7,function(t,e,n){function i(t,e,n){null==t||r(e,t)||(e=c(e),t=1==e.length?t:u(t,l(e,0,-1)),e=s(e));var i=null==t?t:t[e];return null==i?void 0:i.apply(t,n)}function r(t,e){var n=typeof t;if("string"==n&&f.test(t)||"number"==n)return!0;if(h(t))return!1;var i=!d.test(t);return i||null!=e&&t in o(e)}function o(t){return a(t)?t:Object(t)}function s(t){var e=t?t.length:0;return e?t[e-1]:void 0}function a(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}var u=n(25),l=n(26),c=n(27),h=n(23),d=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,f=/^\w*$/;t.exports=i},function(t,e){function n(t,e,n){if(null!=t){void 0!==n&&n in i(t)&&(e=[n]);for(var r=0,o=e.length;null!=t&&o>r;)t=t[e[r++]];return r&&r==o?t:void 0}}function i(t){return r(t)?t:Object(t)}function r(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}t.exports=n},function(t,e){function n(t,e,n){var i=-1,r=t.length;e=null==e?0:+e||0,0>e&&(e=-e>r?0:r+e),n=void 0===n||n>r?r:+n||0,0>n&&(n+=r),r=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(r);++i<r;)o[i]=t[i+e];return o}t.exports=n},function(t,e,n){function i(t){return null==t?"":t+""}function r(t){if(o(t))return t;var e=[];return i(t).replace(s,function(t,n,i,r){e.push(i?r.replace(a,"$1"):n||t)}),e}var o=n(23),s=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,a=/\\(\\)?/g;t.exports=r},11,function(t,e,n){function i(t){return r(t,o(t))}var r=n(30),o=n(31);t.exports=i},function(t,e){function n(t,e){for(var n=-1,i=e.length,r=Array(i);++n<i;)r[n]=t[e[n]];return r}t.exports=n},[120,32,33,34],5,6,7,function(t,e,n){function i(t,e,n,i){this._type=t,this._id=e.id,this._descriptor=e,this._settings=n,this._currentPosition=this._loadedPosition=this._duration=0,this._capabilities=r({},l.createDefaults(),i),this._logger=new u(this.getType(),this.getId(),e.title,n);try{l.validate(this.getCapabilities())}catch(o){return this.getLogger().log("Bad caps: "+o),void this.updateState(s.ERROR)}this.updateState(s.INITIALIZE)}var r=n(1),o=n(36),s=n(38),a=n(39),u=n(40),l=n(42);t.exports=i,r(i.prototype,o),i.prototype.canPlay=function(){return!1},i.prototype.getCapabilities=function(){return this._capabilities},i.prototype.getLogger=function(){return this._logger},i.prototype.getSettings=function(){return this._settings},i.prototype.getDescriptor=function(){return this._descriptor},i.prototype.getType=function(){return this._type},i.prototype.getId=function(){return this._id+""},i.prototype.beforeStateChange=function(t,e){return!0},i.prototype.notifyStateChange=function(t,e){return!0},i.prototype.afterStateChange=function(t,e){},i.prototype.updateState=function(t){var e=this._state;e!==t&&e!==s.DEAD&&this.beforeStateChange(e,t)&&(this._state=t,this._logger.log('state changed "'+this.getState()+'", position: '+this.getCurrentPosition()+", duration: "+this.getDuration()),this.notifyStateChange(e,t)&&this.trigger(a.STATE_CHANGE,t,this),this.afterStateChange(e,t))},i.prototype.getState=function(){return this._state},i.prototype._isInOneOfStates=function(){for(var t in arguments)if(arguments[t]===this.getState())return!0;return!1},i.prototype.getCurrentPosition=function(){return this._currentPosition},i.prototype.getLoadedPosition=function(){return this._loadedPosition},i.prototype.getDuration=function(){return this._duration},i.prototype._mediaHasProgressed=function(){var t=!1,e=Date.now();if(this._lastMediaClockCheck){var n=e-this._lastMediaClockCheck,i=this._currentPosition-this._lastMediaClockValue;if(.1*n>i){if(this.getState()===s.PLAYING&&0===i&&n<this._settings.bufferingDelay)return!0;t=!0}}return this._lastMediaClockValue=this._currentPosition,this._lastMediaClockCheck=e,!t}},function(t,e,n){t.exports=n(37)},function(t,e,n){!function(){function n(){return{keys:Object.keys||function(t){if("object"!=typeof t&&"function"!=typeof t||null===t)throw new TypeError("keys() called on a non-object");var e,n=[];for(e in t)t.hasOwnProperty(e)&&(n[n.length]=e);return n},uniqueId:function(t){var e=++a+"";return t?t+e:e},has:function(t,e){return o.call(t,e)},each:function(t,e,n){if(null!=t)if(r&&t.forEach===r)t.forEach(e,n);else if(t.length===+t.length)for(var i=0,o=t.length;o>i;i++)e.call(n,t[i],i,t);else for(var s in t)this.has(t,s)&&e.call(n,t[s],s,t)},once:function(t){var e,n=!1;return function(){return n?e:(n=!0,e=t.apply(this,arguments),t=null,e)}}}}var i,r=Array.prototype.forEach,o=Object.prototype.hasOwnProperty,s=Array.prototype.slice,a=0,u=n();i={on:function(t,e,n){if(!c(this,"on",t,[e,n])||!e)return this;this._events||(this._events={});var i=this._events[t]||(this._events[t]=[]);return i.push({callback:e,context:n,ctx:n||this}),this},once:function(t,e,n){if(!c(this,"once",t,[e,n])||!e)return this;var i=this,r=u.once(function(){i.off(t,r),e.apply(this,arguments)});return r._callback=e,this.on(t,r,n)},off:function(t,e,n){var i,r,o,s,a,l,h,d;if(!this._events||!c(this,"off",t,[e,n]))return this;if(!t&&!e&&!n)return this._events={},this;for(s=t?[t]:u.keys(this._events),a=0,l=s.length;l>a;a++)if(t=s[a],o=this._events[t]){if(this._events[t]=i=[],e||n)for(h=0,d=o.length;d>h;h++)r=o[h],(e&&e!==r.callback&&e!==r.callback._callback||n&&n!==r.context)&&i.push(r);i.length||delete this._events[t]}return this},trigger:function(t){if(!this._events)return this;var e=s.call(arguments,1);if(!c(this,"trigger",t,e))return this;var n=this._events[t],i=this._events.all;return n&&h(n,e),i&&h(i,arguments),this},stopListening:function(t,e,n){var i=this._listeners;if(!i)return this;var r=!e&&!n;"object"==typeof e&&(n=this),t&&((i={})[t._listenerId]=t);for(var o in i)i[o].off(e,n,this),r&&delete this._listeners[o];return this}};var l=/\s+/,c=function(t,e,n,i){if(!n)return!0;if("object"==typeof n){for(var r in n)t[e].apply(t,[r,n[r]].concat(i));return!1}if(l.test(n)){for(var o=n.split(l),s=0,a=o.length;a>s;s++)t[e].apply(t,[o[s]].concat(i));return!1}return!0},h=function(t,e){var n,i=-1,r=t.length,o=e[0],s=e[1],a=e[2];switch(e.length){case 0:for(;++i<r;)(n=t[i]).callback.call(n.ctx);return;case 1:for(;++i<r;)(n=t[i]).callback.call(n.ctx,o);return;case 2:for(;++i<r;)(n=t[i]).callback.call(n.ctx,o,s);return;case 3:for(;++i<r;)(n=t[i]).callback.call(n.ctx,o,s,a);return;default:for(;++i<r;)(n=t[i]).callback.apply(n.ctx,e)}},d={listenTo:"on",listenToOnce:"once"};u.each(d,function(t,e){i[e]=function(e,n,i){var r=this._listeners||(this._listeners={}),o=e._listenerId||(e._listenerId=u.uniqueId("l"));return r[o]=e,"object"==typeof n&&(i=this),e[t](n,i,this),this}}),i.bind=i.on,i.unbind=i.off,i.mixin=function(t){var e=["on","once","off","trigger","stopListening","listenTo","listenToOnce","bind","unbind"];return u.each(e,function(e){t[e]=this[e]},this),t},"undefined"!=typeof t&&t.exports&&(e=t.exports=i),e.BackboneEvents=i}(this)},function(t,e){t.exports={PLAYING:"playing",LOADING:"loading",SEEKING:"seeking",PAUSED:"paused",ERROR:"error",IDLE:"idle",INITIALIZE:"initialize",ENDED:"ended",DEAD:"dead"}},function(t,e){t.exports={POSITION_CHANGE:"position-change",STATE_CHANGE:"state-change",DATA:"data",NETWORK_TIMEOUT:"network-timeout",METADATA:"metadata"}},function(t,e,n){var i,r=n(41),o=null;t.exports=function(t,e,n,s){if(!i&&(i=r({enabled:!!s.debug,buffer:!0,label:"audiomanager"}),o)){var a=i;i=function(){a(o(arguments[0]+"%s",Array.prototype.slice.call(arguments,1)))}}return n=n&&n.length?" ["+n.replace(/\s/g,"").substr(0,6)+"]":"",{log:i.bind(null,"%s (%s)%s",t,e,n)}}},function(t,e){"use strict";function n(){function t(t,n){if(f){for(var i=arguments.length,r=Array(i>2?i-2:0),o=2;i>o;o++)r[o-2]=arguments[o];"string"==typeof n?n=" "+n:(r.unshift(n),n="");var s=[e()+" | "+T+(S?"%c":"")+n].concat(A,r);m?x.push({level:t,logArgs:s})>E&&x.shift():d[t].apply(d,s)}}function e(){var t=new Date,e=null===k?0:t-k,n=S?"%c":"";return k=+t,n+i(t)+(n+" ("+n)+r("+"+e+"ms"," ",8)+(n+")")}function n(t){return t.enable=function(){f=!0},t.disable=function(){f=!1},t.bufferOn=function(){m=!0},t.bufferOff=function(){m=!1,x.length=0},t.flush=l()?function(){x.forEach(function(t){var e=t.level,n=t.logArgs;d[e].apply(d,n)}),x.length=0}:function(){},t}var o=c.apply(void 0,arguments),s=o.enabled,f=void 0===s?!0:s,g=o.buffer,m=void 0===g?!1:g,v=o.label,_=void 0===v?"":v,y=o.plainOutput,b=void 0===y?!1:y,w=o.bufferSize,E=void 0===w?1e3:w;if(!l())return n(h.reduce(function(t,e){return t[e]=t},function(){}));d.CL||(d.CL={_cssCounter:0});var S=!b&&u(),k=null,x=[],T=a(_,S),A=S?["color: green","color: grey","color: blue","color: grey",p(_),""]:[],P=d.CL[_]=n(h.reduce(function(e,n){return e[n]=t.bind(null,n),e},t.bind(null,"log")));return P}function i(t){return o(t.getHours())+":"+o(t.getMinutes())+":"+o(t.getSeconds())+"."+r(t.getMilliseconds(),"0",3)}function r(t,e,n){return s(e,n-(""+t).length)+t}function o(t){return r(t,"0",2)}function s(t,e){return e>0?new Array(e+1).join(t):""}function a(t,e){return(e?"%c":"")+(t?t:"")}function u(){if("undefined"==typeof navigator)return!1;var t=navigator.userAgent;return/chrome|firefox|opr/i.test(t)&&!/msie|edge/i.test(t)}function l(){return d&&h.every(function(t){return"function"==typeof d[t]})}function c(){var t=arguments.length<=0||void 0===arguments[0]?!0:arguments[0],e=arguments.length<=1||void 0===arguments[1]?"":arguments[1];return"object"==typeof t&&t||{enabled:t,label:e}}t.exports=n;var h=["log","info","warn","error"],d="undefined"!=typeof console?console:null,f=["color:#fff","border-radius:3px","padding:2px 4px","font-family:sans-serif","text-transform:uppercase","font-size:9px"].join(";")+";",p=function(){var t=["#51613C","#447848","#486E5F","#787444","#6E664E"];return function(e){return e?"background:"+t[d.CL._cssCounter++%t.length]+";"+f:""}}()},function(t,e){function n(t){for(var e in r)if(r.hasOwnProperty(e)&&void 0===t[r[e]])throw new Error("Caps lack required field: "+e);if(!(t[r.PROTOCOLS]instanceof Array))throw new Error("Caps protocols must be an array");if(!(t[r.MIMETYPES]instanceof Array))throw new Error("Caps mimetypes must be an array");return!0}function i(){var t={};return t[r.MIMETYPES]=[],t[r.PROTOCOLS]=[],t[r.AUDIO_ONLY]=!0,t[r.CAN_SEEK_ALWAYS]=!0,t[r.NEEDS_URL_REFRESH]=!0,t}var r={MIMETYPES:"mimetypes",PROTOCOLS:"protocols",AUDIO_ONLY:"audioOnly",CAN_SEEK_ALWAYS:"canSeekAlways",NEEDS_URL_REFRESH:"needsUrlRefresh"},o={createDefaults:i,names:r,validate:n};t.exports=o},function(t,e){t.exports={FLASH_HLS_PLAYLIST_NOT_FOUND:"HLS_PLAYLIST_NOT_FOUND",FLASH_HLS_PLAYLIST_SECURITY_ERROR:"HLS_SECURITY_ERROR",FLASH_HLS_NOT_VALID_PLAYLIST:"HLS_NOT_VALID_PLAYLIST",FLASH_HLS_NO_TS_IN_PLAYLIST:"HLS_NO_TS_IN_PLAYLIST",FLASH_HLS_NO_PLAYLIST_IN_MANIFEST:"HLS_NO_PLAYLIST_IN_MANIFEST",FLASH_HLS_TS_IS_CORRUPT:"HLS_TS_IS_CORRUPT",FLASH_HLS_FLV_TAG_CORRUPT:"HLS_FLV_TAG_CORRUPT",FLASH_HTTP_FILE_NOT_FOUND:"HTTP_FILE_NOT_FOUND",FLASH_RTMP_CONNECT_FAILED:"RTMP_CONNECT_FAILED",FLASH_RTMP_CONNECT_CLOSED:"RTMP_CONNECT_CLOSED",FLASH_RTMP_CANNOT_PLAY_STREAM:"RTMP_CANNOT_PLAY_STREAM",FLASH_PROXY_CANT_LOAD_FLASH:"CANT_LOAD_FLASH",FLASH_PROXY_FLASH_BLOCKED:"FLASH_PROXY_FLASH_BLOCKED",GENERIC_AUDIO_ENDED_EARLY:"GENERIC_AUDIO_ENDED_EARLY",GENERIC_AUDIO_OVERRUN:"GENERIC_AUDIO_OVERRUN",HTML5_AUDIO_ABORTED:"HTML5_AUDIO_ABORTED",HTML5_AUDIO_NETWORK:"HTML5_AUDIO_NETWORK",HTML5_AUDIO_DECODE:"HTML5_AUDIO_DECODE",HTML5_AUDIO_SRC_NOT_SUPPORTED:"HTML5_AUDIO_SRC_NOT_SUPPORTED",MSE_BAD_OBJECT_STATE:"MSE_BAD_OBJECT_STATE",MSE_NOT_SUPPORTED:"MSE_NOT_SUPPORTED",MSE_MP3_NOT_SUPPORTED:"MSE_MP3_NOT_SUPPORTED",MSE_HLS_NOT_VALID_PLAYLIST:"MSE_HLS_NOT_VALID_PLAYLIST",MSE_HLS_PLAYLIST_NOT_FOUND:"MSE_HLS_PLAYLIST_NOT_FOUND",MSE_HLS_SEGMENT_NOT_FOUND:"MSE_HLS_SEGMENT_NOT_FOUND"}},function(t,e){function n(){if(!K&&document.getElementsByTagName("body")[0]){try{var t,e=y("span");e.style.display="none",t=H.getElementsByTagName("body")[0].appendChild(e),t.parentNode.removeChild(t),t=null,e=null}catch(n){return}K=!0;for(var i=$.length,r=0;i>r;r++)$[r]()}}function i(t){K?t():$[$.length]=t}function r(t){if(typeof B.addEventListener!=L)B.addEventListener("load",t,!1);else if(typeof H.addEventListener!=L)H.addEventListener("load",t,!1);else if(typeof B.attachEvent!=L)w(B,"onload",t);else if("function"==typeof B.onload){var e=B.onload;B.onload=function(){e(),t()}}else B.onload=t}function o(){var t=H.getElementsByTagName("body")[0],e=y(M);e.setAttribute("style","visibility: hidden;"),e.setAttribute("type",F);var n=t.appendChild(e);if(n){var i=0;!function r(){if(typeof n.GetVariable!=L)try{var o=n.GetVariable("$version");o&&(o=o.split(" ")[1].split(","),Q.pv=[b(o[0]),b(o[1]),b(o[2])])}catch(a){Q.pv=[8,0,0]}else if(10>i)return i++,void window.setTimeout(r,10);t.removeChild(e),n=null,s()}()}else s()}function s(){var t=V.length;if(t>0)for(var e=0;t>e;e++){var n=V[e].id,i=V[e].callbackFn,r={success:!1,id:n};if(Q.pv[0]>0){var o=_(n);if(o)if(!E(V[e].swfVersion)||Q.wk&&Q.wk<312)if(V[e].expressInstall&&u()){var s={};s.data=V[e].expressInstall,s.width=o.getAttribute("width")||"0",s.height=o.getAttribute("height")||"0",o.getAttribute("class")&&(s.styleclass=o.getAttribute("class")),o.getAttribute("align")&&(s.align=o.getAttribute("align"));for(var h={},d=o.getElementsByTagName("param"),f=d.length,p=0;f>p;p++)"movie"!==d[p].getAttribute("name").toLowerCase()&&(h[d[p].getAttribute("name")]=d[p].getAttribute("value"));l(s,h,n,i)}else c(o),i&&i(r);else k(n,!0),i&&(r.success=!0,r.ref=a(n),r.id=n,i(r))}else if(k(n,!0),i){var g=a(n);g&&typeof g.SetVariable!=L&&(r.success=!0,r.ref=g,r.id=g.id),i(r)}}}function a(t){var e=null,n=_(t);return n&&"OBJECT"===n.nodeName.toUpperCase()&&(e=typeof n.SetVariable!==L?n:n.getElementsByTagName(M)[0]||n),e}function u(){return!Y&&E("6.0.65")&&(Q.win||Q.mac)&&!(Q.wk&&Q.wk<312)}function l(t,e,n,i){var r=_(n);if(n=v(n),Y=!0,I=i||null,C={success:!1,id:n},r){"OBJECT"===r.nodeName.toUpperCase()?(A=h(r),P=null):(A=r,P=n),t.id=U,(typeof t.width==L||!/%$/.test(t.width)&&b(t.width)<310)&&(t.width="310"),(typeof t.height==L||!/%$/.test(t.height)&&b(t.height)<137)&&(t.height="137");var o=Q.ie?"ActiveX":"PlugIn",s="MMredirectURL="+encodeURIComponent(B.location.toString().replace(/&/g,"%26"))+"&MMplayerType="+o+"&MMdoctitle="+encodeURIComponent(H.title.slice(0,47)+" - Flash Player Installation");if(typeof e.flashvars!=L?e.flashvars+="&"+s:e.flashvars=s,Q.ie&&4!==r.readyState){var a=y("div");n+="SWFObjectNew",a.setAttribute("id",n),r.parentNode.insertBefore(a,r),r.style.display="none",g(r)}f(t,e,n)}}function c(t){if(Q.ie&&4!==t.readyState){t.style.display="none";var e=y("div");t.parentNode.insertBefore(e,t),e.parentNode.replaceChild(h(t),e),g(t)}else t.parentNode.replaceChild(h(t),t)}function h(t){var e=y("div");if(Q.win&&Q.ie)e.innerHTML=t.innerHTML;else{var n=t.getElementsByTagName(M)[0];if(n){var i=n.childNodes;if(i)for(var r=i.length,o=0;r>o;o++)1===i[o].nodeType&&"PARAM"===i[o].nodeName||8===i[o].nodeType||e.appendChild(i[o].cloneNode(!0))}}return e}function d(t,e){var n=y("div");return n.innerHTML="<object classid='clsid:D27CDB6E-AE6D-11cf-96B8-444553540000'><param name='movie' value='"+t+"'>"+e+"</object>",n.firstChild}function f(t,e,n){var i,r=_(n);if(n=v(n),Q.wk&&Q.wk<312)return i;if(r){var o,s,a,u=y(Q.ie?"div":M);typeof t.id==L&&(t.id=n);for(a in e)e.hasOwnProperty(a)&&"movie"!==a.toLowerCase()&&p(u,a,e[a]);Q.ie&&(u=d(t.data,u.innerHTML));for(o in t)t.hasOwnProperty(o)&&(s=o.toLowerCase(),"styleclass"===s?u.setAttribute("class",t[o]):"classid"!==s&&"data"!==s&&u.setAttribute(o,t[o]));Q.ie?W[W.length]=t.id:(u.setAttribute("type",F),u.setAttribute("data",t.data)),
r.parentNode.replaceChild(u,r),i=u}return i}function p(t,e,n){var i=y("param");i.setAttribute("name",e),i.setAttribute("value",n),t.appendChild(i)}function g(t){var e=_(t);e&&"OBJECT"===e.nodeName.toUpperCase()&&(Q.ie?(e.style.display="none",function n(){if(4===e.readyState){for(var t in e)"function"==typeof e[t]&&(e[t]=null);e.parentNode.removeChild(e)}else window.setTimeout(n,10)}()):e.parentNode.removeChild(e))}function m(t){return t&&t.nodeType&&1===t.nodeType}function v(t){return m(t)?t.id:t}function _(t){if(m(t))return t;var e=null;try{e=H.getElementById(t)}catch(n){}return e}function y(t){return H.createElement(t)}function b(t){return parseInt(t,10)}function w(t,e,n){t.attachEvent(e,n),G[G.length]=[t,e,n]}function E(t){t+="";var e=Q.pv,n=t.split(".");return n[0]=b(n[0]),n[1]=b(n[1])||0,n[2]=b(n[2])||0,e[0]>n[0]||e[0]===n[0]&&e[1]>n[1]||e[0]===n[0]&&e[1]===n[1]&&e[2]>=n[2]?!0:!1}function S(t,e,n,i){var r=H.getElementsByTagName("head")[0];if(r){var o="string"==typeof n?n:"screen";if(i&&(D=null,O=null),!D||O!==o){var s=y("style");s.setAttribute("type","text/css"),s.setAttribute("media",o),D=r.appendChild(s),Q.ie&&typeof H.styleSheets!=L&&H.styleSheets.length>0&&(D=H.styleSheets[H.styleSheets.length-1]),O=o}D&&(typeof D.addRule!=L?D.addRule(t,e):typeof H.createTextNode!=L&&D.appendChild(H.createTextNode(t+" {"+e+"}")))}}function k(t,e){if(X){var n=e?"visible":"hidden",i=_(t);K&&i?i.style.visibility=n:"string"==typeof t&&S("#"+t,"visibility:"+n)}}function x(t){var e=/[\\\"<>\.;]/,n=null!=e.exec(t);return n&&typeof encodeURIComponent!=L?encodeURIComponent(t):t}var T,A,P,I,C,D,O,L="undefined",M="object",R="Shockwave Flash",N="ShockwaveFlash.ShockwaveFlash",F="application/x-shockwave-flash",U="SWFObjectExprInst",j="onreadystatechange",B=window,H=document,z=navigator,q=!1,$=[],V=[],W=[],G=[],K=!1,Y=!1,X=!0,J=!1,Q=function(){var t=typeof H.getElementById!=L&&typeof H.getElementsByTagName!=L&&typeof H.createElement!=L,e=z.userAgent.toLowerCase(),n=z.platform.toLowerCase(),i=n?/win/.test(n):/win/.test(e),r=n?/mac/.test(n):/mac/.test(e),o=/webkit/.test(e)?parseFloat(e.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,s="Microsoft Internet Explorer"===z.appName,a=[0,0,0],u=null;if(typeof z.plugins!=L&&typeof z.plugins[R]==M)u=z.plugins[R].description,u&&typeof z.mimeTypes!=L&&z.mimeTypes[F]&&z.mimeTypes[F].enabledPlugin&&(q=!0,s=!1,u=u.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),a[0]=b(u.replace(/^(.*)\..*$/,"$1")),a[1]=b(u.replace(/^.*\.(.*)\s.*$/,"$1")),a[2]=/[a-zA-Z]/.test(u)?b(u.replace(/^.*[a-zA-Z]+(.*)$/,"$1")):0);else if(typeof B.ActiveXObject!=L)try{var l=new ActiveXObject(N);l&&(u=l.GetVariable("$version"),u&&(s=!0,u=u.split(" ")[1].split(","),a=[b(u[0]),b(u[1]),b(u[2])]))}catch(c){}return{w3:t,pv:a,wk:o,ie:s,win:i,mac:r}}();(function(){Q.w3&&((typeof H.readyState!=L&&("complete"===H.readyState||"interactive"===H.readyState)||typeof H.readyState==L&&(H.getElementsByTagName("body")[0]||H.body))&&n(),K||(typeof H.addEventListener!=L&&H.addEventListener("DOMContentLoaded",n,!1),Q.ie&&(H.attachEvent(j,function t(){"complete"===H.readyState&&(H.detachEvent(j,t),n())}),B===top&&!function e(){if(!K){try{H.documentElement.doScroll("left")}catch(t){return void window.setTimeout(e,0)}n()}}()),Q.wk&&!function i(){return K?void 0:/loaded|complete/.test(H.readyState)?void n():void window.setTimeout(i,0)}()))})();$[0]=function(){q?o():s()};(function(){Q.ie&&window.attachEvent("onunload",function(){for(var t=G.length,e=0;t>e;e++)G[e][0].detachEvent(G[e][1],G[e][2]);for(var n=W.length,i=0;n>i;i++)g(W[i]);for(var r in Q)Q[r]=null;Q=null;for(var o in T)T[o]=null;T=null})})();t.exports=T={registerObject:function(t,e,n,i){if(Q.w3&&t&&e){var r={};r.id=t,r.swfVersion=e,r.expressInstall=n,r.callbackFn=i,V[V.length]=r,k(t,!1)}else i&&i({success:!1,id:t})},getObjectById:function(t){return Q.w3?a(t):void 0},embedSWF:function(t,e,n,r,o,s,a,c,h,d){var p=v(e),g={success:!1,id:p};Q.w3&&!(Q.wk&&Q.wk<312)&&t&&e&&n&&r&&o?(k(p,!1),i(function(){n+="",r+="";var i={};if(h&&typeof h===M)for(var m in h)i[m]=h[m];i.data=t,i.width=n,i.height=r;var v={};if(c&&typeof c===M)for(var _ in c)v[_]=c[_];if(a&&typeof a===M)for(var y in a)if(a.hasOwnProperty(y)){var b=J?encodeURIComponent(y):y,w=J?encodeURIComponent(a[y]):a[y];typeof v.flashvars!=L?v.flashvars+="&"+b+"="+w:v.flashvars=b+"="+w}if(E(o)){var S=f(i,v,e);i.id===p&&k(p,!0),g.success=!0,g.ref=S,g.id=S.id}else{if(s&&u())return i.data=s,void l(i,v,e,d);k(p,!0)}d&&d(g)})):d&&d(g)},switchOffAutoHideShow:function(){X=!1},enableUriEncoding:function(t){J=typeof t===L?!0:t},ua:Q,getFlashPlayerVersion:function(){return{major:Q.pv[0],minor:Q.pv[1],release:Q.pv[2]}},hasFlashPlayerVersion:E,createSWF:function(t,e,n){return Q.w3?f(t,e,n):void 0},showExpressInstall:function(t,e,n,i){Q.w3&&u()&&l(t,e,n,i)},removeSWF:function(t){Q.w3&&g(t)},createCSS:function(t,e,n,i){Q.w3&&S(t,e,n,i)},addDomLoadEvent:i,addLoadEvent:r,getQueryParamValue:function(t){var e=H.location.search||H.location.hash;if(e){if(/\?/.test(e)&&(e=e.split("?")[1]),null==t)return x(e);for(var n=e.split("&"),i=0;i<n.length;i++)if(n[i].substring(0,n[i].indexOf("="))===t)return x(n[i].substring(n[i].indexOf("=")+1))}return""},expressInstallCallback:function(){if(Y){var t=_(U);t&&A&&(t.parentNode.replaceChild(A,t),P&&(k(P,!0),Q.ie&&(A.style.display="block")),I&&I(C)),Y=!1}},version:"2.3"}},function(t,e,n){function i(t,e,n,i){if(n!==s&&n!==o&&void 0!==n)throw new Error("Can not use the provided base class");this._baseclass=n||o,this._baseclass.call(this,t,e,i||"HLSAudioPlayer"),this._seekPosition=0}var r=n(1),o=n(46),s=n(48),a=n(38);t.exports=i,r(i.prototype,o.prototype),i.prototype.seek=function(t){this._baseclass.prototype.seek.apply(this,arguments),this._isInOneOfStates(a.LOADING,a.SEEKING)&&(this._seekPosition=t)},i.prototype.getCurrentPosition=function(){if(this._isInOneOfStates(a.LOADING)&&this._seekPosition>0)return this._seekPosition;if(this._isInOneOfStates(a.PLAYING,a.SEEKING)){if(this._seekPosition>=this._currentPosition)return this._seekPosition;this._seekPosition=0}return this._baseclass.prototype.getCurrentPosition.apply(this,arguments)}},function(t,e,n){function i(t,e,n){this._duration=0,this._currentPosition=0,this._loadedPosition=0,l.prototype.constructor.call(this,n||"HTML5AudioPlayer",t,e),this._isLoaded=!1,this._prevCurrentPosition=0,this._prevCheckTime=0,this._positionUpdateTimer=0,this._playRequested=!1,this._startFromPosition=0,this.getDescriptor().duration&&(this._duration=this.getDescriptor().duration),this._bindHandlers(),this._initMediaElement(),this.updateState(s.IDLE)}var r=n(1),o=n(47).bindAll,s=n(38),a=n(39),u=n(43),l=n(35),c=n(16);t.exports=i,r(i.prototype,l.prototype),i.MediaAPIEvents=["ended","play","playing","pause","seeking","waiting","seeked","error","loadeddata","loadedmetadata"],i.prototype.play=function(t){return this._isInOneOfStates(s.ERROR,s.DEAD)?void this._logger.log("play called but state is ERROR or DEAD"):(this._logger.log("play from "+t),this._startFromPosition=t||0,this._playRequested=!0,this._isInOneOfStates(s.PAUSED,s.ENDED)?void this.resume():(this.updateState(s.LOADING),this._html5Audio.readyState>0&&this._onLoadedMetadata(),this._html5Audio.readyState>1&&this._onLoaded(),void(this._isLoaded?this._playAfterLoaded():this.once(a.DATA,this._playAfterLoaded))))},i.prototype.pause=function(){this._isInOneOfStates(s.ERROR,s.DEAD)||(this._logger.log("pause"),this._playRequested=!1,this._html5Audio&&this._html5Audio.pause())},i.prototype.seek=function(t){var e,n=!1,i=t/1e3,r=this._html5Audio.seekable;if(!this._isInOneOfStates(s.ERROR,s.DEAD)){if(!this._isLoaded)return this.once(a.DATA,function(){this.seek(t)}),void this._logger.log("postponing seek for when loaded");if(c.isIE10Mobile)n=!0;else for(e=0;e<r.length;e++)if(i<=r.end(e)&&i>=r.start(e)){n=!0;break}if(!n)return void this._logger.log("can not seek");this._logger.log("seek"),this.updateState(s.SEEKING),this._html5Audio.currentTime=i,this._currentPosition=t,this._lastMediaClockCheck=null}},i.prototype.resume=function(){return this._isInOneOfStates(s.ERROR,s.DEAD)?void this._logger.log("resume called but state is ERROR or DEAD"):(this._logger.log("resume"),void(this.getState()===s.PAUSED?(this.updateState(s.PLAYING),this._html5Audio.play(this._html5Audio.currentTime)):this.getState()===s.ENDED&&this._html5Audio.play(0)))},i.prototype.setVolume=function(t){this._html5Audio&&(this._html5Audio.volume=t)},i.prototype.getVolume=function(){return this._html5Audio?this._html5Audio.volume:1},i.prototype.setMute=function(t){this._html5Audio&&(this._html5Audio.muted=t)},i.prototype.getMute=function(){return this._html5Audio?this._html5Audio.muted:!1},i.prototype.kill=function(){this._state!==s.DEAD&&(this._logger.log("killing ..."),this._resetPositionInterval(!1),this._playRequested=!1,this._toggleEventListeners(!1),this.pause(),delete this._html5Audio,this.updateState(s.DEAD),this._logger.log("dead"))},i.prototype.getErrorMessage=function(){return this._errorMessage},i.prototype.getErrorID=function(){return this._errorID},i.prototype._bindHandlers=function(){o(this,["_onPositionChange","_onHtml5MediaEvent","_onLoaded","_onLoadedMetadata"])},i.prototype._initMediaElement=function(){this._html5Audio=c.createAudioElement(),this._html5Audio.id=this.getSettings().audioObjectID+"_"+this.getId(),this._html5Audio.preload="auto",this._html5Audio.type=this.getDescriptor().mimeType,this._html5Audio.src=this.getDescriptor().src,this._html5Audio.load(),this._toggleEventListeners(!0)},i.prototype._playAfterLoaded=function(){this._playRequested&&(this._trySeekToStartPosition(),this._html5Audio.play())},i.prototype._isInOneOfStates=function(){for(var t in arguments)if(arguments[t]===this._state)return!0;return!1},i.prototype._toggleEventListeners=function(t){if(this._html5Audio){var e=t?"addEventListener":"removeEventListener";i.MediaAPIEvents.forEach(function(t){switch(t){case"loadeddata":this._html5Audio[e]("loadeddata",this._onLoaded);break;case"loadedmetadata":this._html5Audio[e]("loadedmetadata",this._onLoadedMetadata);break;default:this._html5Audio[e](t,this._onHtml5MediaEvent)}},this)}},i.prototype._trySeekToStartPosition=function(){var t;return this._startFromPosition<=0?!0:(this._logger.log("seek to start position: "+this._startFromPosition),t=this._startFromPosition/1e3,this._html5Audio.currentTime=t,this._html5Audio.currentTime===t?(this._lastMediaClockCheck=null,this._currentPosition=this._startFromPosition,this._startFromPosition=0,!0):!1)},i.prototype._onLoaded=function(){this._logger.log("HTML5 media loadeddata event"),this.trigger(a.DATA,this)},i.prototype._onLoadedMetadata=function(){this._logger.log("HTML5 media loadedmetadata event"),(void 0===this._duration||0===this._duration)&&(this._duration=1e3*this._html5Audio.duration),this._loadedPosition=this._duration,this._isLoaded=!0,this.trigger(a.METADATA,this)},i.prototype._resetPositionInterval=function(t){window.clearInterval(this._positionUpdateTimer),t&&(this._positionUpdateTimer=window.setInterval(this._onPositionChange,this.getSettings().updateInterval))},i.prototype._onPositionChange=function(){if(!this._isInOneOfStates(s.DEAD)){var t;if(this._currentPosition=1e3*this._html5Audio.currentTime,this.trigger(a.POSITION_CHANGE,this.getCurrentPosition(),this._loadedPosition,this._duration,this),!this._isInOneOfStates(s.PLAYING,s.LOADING))return void(this._state===s.SEEKING&&t>0&&this.updateState(s.PLAYING));if(0!==this._duration&&(this._currentPosition>this._duration||this._currentPosition>this._loadedPosition&&!c.isIE10Mobile))return void this._onHtml5MediaEvent({type:"ended"});var e=this._mediaHasProgressed();return this.getState()!==s.PLAYING||e?void(this.getState()===s.LOADING&&e&&this.updateState(s.PLAYING)):(this._logger.log("media clock check failed, playhead is not advancing anymore"),void this.updateState(s.LOADING))}},i.prototype._onHtml5MediaEvent=function(t){switch(this._logger.log("HTML5 media event: "+t.type),t.type){case"playing":if(!this._trySeekToStartPosition())break;this._onPositionChange(),this._resetPositionInterval(!0),this.updateState(s.PLAYING);break;case"pause":this._onPositionChange(),this._resetPositionInterval(!1),this.updateState(s.PAUSED);break;case"ended":this._currentPosition=this._loadedPosition=this._duration,this._resetPositionInterval(!1),this.updateState(s.ENDED);break;case"waiting":if(this.getState()===s.SEEKING)break;this.updateState(s.LOADING);break;case"seeking":this.updateState(s.SEEKING);break;case"seeked":this._startFromPosition=0,this._html5Audio.paused?this.updateState(s.PAUSED):this.updateState(s.PLAYING),this._onPositionChange(t);break;case"error":this._error(this._html5AudioErrorCodeToErrorId(),!0)}},i.prototype._html5AudioErrorCodeToErrorId=function(){return{1:u.HTML5_AUDIO_ABORTED,2:u.HTML5_AUDIO_NETWORK,3:u.HTML5_AUDIO_DECODE,4:u.HTML5_AUDIO_SRC_NOT_SUPPORTED}[this._html5Audio.error.code]},i.prototype._error=function(t,e){var n="error: ";e&&(n="error (native): "),this._errorID=t,this._errorMessage=this._getErrorMessage(this._errorID),this._logger.log(n+this._errorID+" "+this._errorMessage),this.updateState(s.ERROR),this._toggleEventListeners(!1)},i.prototype._getErrorMessage=function(t){var e={};return e[u.HTML5_AUDIO_ABORTED]="The fetching process for the media resource was aborted by the user agent at the user's request.",e[u.HTML5_AUDIO_NETWORK]="A network error of some description caused the user agent to stop fetching the media resource, after the resource was established to be usable.",e[u.HTML5_AUDIO_DECODE]="An error of some description occurred while decoding the media resource, after the resource was established to be usable.",e[u.HTML5_AUDIO_SRC_NOT_SUPPORTED]="The media resource indicated by the src attribute was not suitable.",e[t]}},function(t,e){function n(t,e){var n=new Uint8Array(t.byteLength+e.byteLength);return n.set(new Uint8Array(t),0),n.set(new Uint8Array(e),t.byteLength),n}function i(t){for(var e=[],n=0;n<t.length;n++)e.push({start:1e3*t.start(n),end:1e3*t.end(n)});return e}t.exports={bindAll:function(t,e){e.forEach(function(e){t[e]=t[e].bind(t)})},concatBuffersToUint8Array:n,timeRangesToFlatMap:i}},function(t,e,n){function i(t,e,n){u.prototype.constructor.call(this,t,e,n||"HTML5SingleAudioPlayer")}var r,o=n(1),s=n(16),a=n(39),u=n(46),l=n(38),c={};t.exports=i,o(i.prototype,u.prototype),i._onLoaded=function(t){i._pauseOthersAndForwardEvent("_onLoaded",t)},i._onLoadedMetadata=function(t){i._pauseOthersAndForwardEvent("_onLoadedMetadata",t)},i._onHtml5MediaEvent=function(t){i._pauseOthersAndForwardEvent("_onHtml5MediaEvent",t)},i._pauseOthersAndForwardEvent=function(t,e){Object.keys(c).forEach(function(n){var i=c[n];n===r?i[t](e):i.pause()})},i.prototype._initMediaElement=function(){i._html5Audio||(i._html5Audio=s.createAudioElement(),i._html5Audio.id=this.getSettings().audioObjectID+"_Single",u.prototype._toggleEventListeners.call(i,!0)),this._toggleEventListeners(!0),this._html5Audio=i._html5Audio,this._logger.log("initialized player for use with: "+this.getDescriptor().src)},i.prototype._toggleEventListeners=function(t){t?c[this.getId()]=this:delete c[this.getId()]},i.prototype.play=function(t){this._logger.log("singleton play at: "+t),(0===this._html5Audio.readyState||this.getDescriptor().src!==this._html5Audio.src)&&(this._logger.log("setting up audio element for use with: "+this.getDescriptor().src),r=this.getId(),this._isInOneOfStates(l.PAUSED)&&(this._logger.log("state was paused"),t=this._currentPosition||0),this._toggleEventListeners(!0),this._html5Audio.preload="auto",this._html5Audio.type=this.getDescriptor().mimeType,this._html5Audio.src=this.getDescriptor().src,this._html5Audio.load()),u.prototype.play.call(this,t)},i.prototype.resume=function(){return this._isInOneOfStates(l.ERROR,l.DEAD)?void 0:r!==this.getId()?void this.play(this._currentPosition):void u.prototype.resume.apply(this,arguments)},i.prototype.pause=function(){this._isInOneOfStates(l.ERROR,l.DEAD)||(this._logger.log("singleton pause"),r===this.getId()?u.prototype.pause.apply(this,arguments):(this._toggleEventListeners(!1),this._isInOneOfStates(l.PAUSED)||this.updateState(l.PAUSED),this._resetPositionInterval(!1)))},i.prototype.seek=function(t){return r!==this.getId()?(this._currentPosition=t,void this.trigger(a.POSITION_CHANGE,this._currentPosition,this._loadedPosition,this._duration,this)):void u.prototype.seek.apply(this,arguments)}},function(t,e,n){function i(t,e){o.call(this,t,e,s,"HLSSingleAudioPlayer")}var r=n(1),o=n(45),s=n(48);t.exports=i,r(i.prototype,s.prototype,o.prototype)},function(t,e,n){function i(t,e){return u.prototype.constructor.call(this,"HLSMSEPlayer",t,e,T()),o(this,["_onPositionChange","_onPlaylistLoaded","_onPlaylistFailed","_onSegmentLoaded","_onSegmentProgress","_onSegmentFailed","_onHtml5MediaEvent","_onLoadedData","_onLoadedMetadata","_onMediaSourceAppend","_onMediaSourceReady","_onMediaSourceDestroy","_onMediaSourceError"]),this._streamUrlProvider=this.getSettings().streamUrlProvider||null,this._maxBufferLength=parseInt(this.getSettings().maxBufferTime,10),this._streamUrlRetryTimer=null,this._streamUrlTimesFailed=0,this._playlistRetryTimer=null,this._playlistTimesFailed=0,this._playlistRefreshInProgress=!1,this._isPlaylistLoaded=!1,this._loadOnInit=!1,this._schedulingSegmentIndex=-1,this._segmentsDownloading=[],this._nextSchedulingTimeout=null,this._networkErrors=0,this._mimeType=A(),this._mimeType?(this._mseToolkit=new h(this._logger,this._mimeType),this._mseToolkit.on(h.Events.SEGMENT_APPENDED,this._onMediaSourceAppend),this._mseToolkit.on(h.Events.SOURCE_READY,this._onMediaSourceReady),this._mseToolkit.on(h.Events.SOURCE_DESTROY,this._onMediaSourceDestroy),this._mseToolkit.on(h.Events.SOURCE_ERROR,this._onMediaSourceError),this._hlsToolkit=new c(this._logger,this.getDescriptor().src),this._hlsToolkit.on(c.Events.SEGMENT_LOADED,this._onSegmentLoaded),this._hlsToolkit.on(c.Events.SEGMENT_PROGRESS,this._onSegmentProgress),this._hlsToolkit.on(c.Events.SEGMENT_FAILED,this._onSegmentFailed),this._hlsToolkit.on(c.Events.PLAYLIST_LOADED,this._onPlaylistLoaded),this._hlsToolkit.on(c.Events.PLAYLIST_FAILED,this._onPlaylistFailed),this._hlsToolkit.on(c.Events.PLAYLIST_PARSE_ERROR,this._onPlaylistFailed),this._html5Audio=this._mseToolkit.media(),void this._toggleEventListeners(!0)):void this._error(a.MSE_NOT_SUPPORTED)}var r=n(1),o=n(47).bindAll,s=n(39),a=n(43),u=n(35),l=n(46),c=n(51),h=n(66),d=n(67),f=n(38),p=n(42),g=n(117),m=n(118),v=n(16),_=n(47),y=200,b=500,w=3,E=1e4,S=1500,k=3,x=function(t){var e=t/w,n=b*(Math.pow(Math.E,e)/Math.E);return n+=Math.random()*y,n>E&&(n=E),n},T=function(){var t={};return t[p.names.PROTOCOLS]=[g.HLS],t[p.names.MIMETYPES]=[m.HLS,m.M3U8,m.MP3],t[p.names.NEEDS_URL_REFRESH]=!1,t},A=function(){return v.isMSESupportMPEG()&&!v.isNativeHlsSupported()?"audio/mpeg":v.isMSESupportMP4()?"audio/mp4":null};t.exports=i,r(i.prototype,u.prototype),i.prototype._onLoadedData=function(){this._logger.log("loadeddata event handler"),this._triggerDataEvent()},i.prototype._triggerDataEvent=function(){this.trigger(s.DATA,_.timeRangesToFlatMap(this._html5Audio.buffered))},i.prototype._onLoadedMetadata=function(){this._logger.log("loadedmetadata event handler")},i.prototype._onPositionChange=function(){if(this._html5Audio&&this.getState()!==f.SEEKING){this._currentPosition=1e3*this._html5Audio.currentTime;var t=this._mediaHasProgressed();return this.getState()!==f.PLAYING||t?(this.getState()===f.LOADING&&t&&this.updateState(f.PLAYING),this._triggerPositionEvent(),this._currentPosition>=this._duration?void this.updateState(f.ENDED):void 0):(this._logger.log("media clock check failed, playhead is not advancing anymore"),void this.updateState(f.LOADING))}},i.prototype._onMediaSourceReady=function(){this.getDescriptor().duration&&(this._setDuration(this.getDescriptor().duration),this._logger.log("duration set from descriptor to "+this._duration)),this.updateState(f.IDLE),this._loadOnInit&&this._loadInitialPlaylist()},i.prototype._onMediaSourceDestroy=function(){this._logger.log("MediaSource destroyed"),this.kill()},i.prototype._onMediaSourceError=function(t){this._logger.log("MediaSource API error: "+t.message),this._error(a.MSE_BAD_OBJECT_STATE),this.kill()},i.prototype._onMediaSourceAppend=function(t){this._logger.log("segment appended: "+t.index),this._triggerDataEvent(),this._loadedPosition=t.endPosition,this._playRequested&&(this._logger.log("triggering playback after appending enough segments"),this._html5Audio.play(this._currentPosition))},i.prototype._notifyNetworkTimeout=function(){this._networkErrors++,this.trigger(s.NETWORK_TIMEOUT)},i.prototype._onSegmentProgress=function(t){var e=Math.round(t.loaded/t.total*100);this._logger.log("segment "+t.index+" loaded "+t.loaded+" of "+t.total+" bytes ("+e+"%)"),this._loadedPosition=t.endPosition-t.duration*(t.loaded/t.total)},i.prototype._onSegmentLoaded=function(t,e){return e||(this._networkErrors=0),this._mseToolkit.sourceIsReady()?void this._appendSegments():void this._logger.log("we have been disposed while loading a segment, noop")},i.prototype._onSegmentFailed=function(t){switch(this._logger.log("segment loading failed handler: "+t.status),t.status){case c.Status.NOT_FOUND:case c.Status.FORBIDDEN:this._networkErrors=0,this._cancelNextScheduling(),this._cancelAllInFlightRequests(),this._refreshPlaylist();break;case c.Status.TIMEOUT:(0===this._networkErrors||v.isOnLine())&&this._refreshPlaylist(),this._notifyNetworkTimeout();case c.Status.SERVER_ERROR:if(t.aborted){this._logger.log("aborted segment has been prevented from being retried");break}t.scheduleRetry(x(t.timesFailed),this._hlsToolkit.loadSegment,this._hlsToolkit,k);break;case c.Status.FAILED:this._logger.log("WARNING: segment loading failed for unknown reason!");break;default:throw new Error("Invalid status on failed segment: "+t.status)}},i.prototype._onPlaylistLoaded=function(){return this._logger.log("playlist loaded handler"),this._mseToolkit.sourceIsReady()?(this._networkErrors=0,this._playlistTimesFailed=0,this._isPlaylistLoaded=!0,this._playlistRefreshInProgress&&(this._playlistRefreshInProgress=!1,this._cancelAllInFlightRequests(),this._cancelNextScheduling(),this._runScheduling()),this._inspectEncryptionData(),this._setDuration(this._hlsToolkit.getDuration()),this._logger.log("duration set from playlist info to "+this._duration),void this.trigger(s.METADATA)):void this._logger.log("we have been disposed while loading the playlist, noop")},i.prototype._onPlaylistFailed=function(t){return this._logger.log("playlist loading failed handler. HTTP status code is "+t),this._mseToolkit.sourceIsReady()?(this._logger.log("Playlist loading failed  "+this._playlistTimesFailed+" times before"),this._playlistTimesFailed++,this._playlistRetryTimer=window.setTimeout(function(){this.hasStreamUrlProvider()?this._refreshPlaylist():this._hlsToolkit.updatePlaylist(!0)}.bind(this),x(this._playlistTimesFailed)),void(0===t?this._notifyNetworkTimeout():this._networkErrors=0)):void this._logger.log("we have been disposed while loading the playlist, noop")},i.prototype.afterStateChange=function(t,e){switch(e){case f.PLAYING:this._runScheduling();break;case f.PAUSED:this._cancelNextScheduling(),t===f.PLAYING&&this._cancelAllInFlightRequests()}},i.prototype._onHtml5MediaEvent=function(t){switch(this._logger.log('HTML5 media event "'+t.type+'"'),this._waitingToPause=!1,t.type){case"playing":this._playRequested=!1,this._triggerPositionEvent(),this._resetPositionTimer(!0),this.updateState(f.PLAYING);break;case"pause":this._triggerPositionEvent(),this._resetPositionTimer(!1),this.updateState(f.PAUSED);break;case"ended":this._currentPosition=this._loadedPosition=this._duration,this._triggerPositionEvent(),this._resetPositionTimer(!1),this.updateState(f.ENDED);break;case"waiting":if(this.getState()===f.SEEKING)break;this.updateState(f.LOADING);break;case"seeking":this._triggerPositionEvent(),this.updateState(f.SEEKING);break;case"seeked":this._html5Audio.paused?this.updateState(f.PAUSED):this.updateState(f.PLAYING),this._triggerPositionEvent();break;case"error":this._error(this._html5AudioErrorCodeToErrorId(),!0)}},i.prototype._toggleEventListeners=function(t){if(this._html5Audio){var e=t?"addEventListener":"removeEventListener";l.MediaAPIEvents.forEach(function(t){switch(t){case"loadeddata":this._html5Audio[e]("loadeddata",this._onLoadedData);break;case"loadedmetadata":this._html5Audio[e]("loadedmetadata",this._onLoadedMetadata);break;case"timeupdate":default:this._html5Audio[e](t,this._onHtml5MediaEvent)}},this)}},i.prototype._loadInitialPlaylist=function(){this.updateState(f.LOADING),this._hlsToolkit.updatePlaylist(!0)},i.prototype._refreshPlaylist=function(){return this._playlistRefreshInProgress?void 0:(this._playlistRefreshInProgress=!0,this.hasStreamUrlProvider()?void this._streamUrlProvider().done(function(t){this._logger.log("got new M3u8 URL: "+t),this._streamUrlTimesFailed=0,this._hlsToolkit.setUri(t),this._hlsToolkit.updatePlaylist(!1)}.bind(this)).fail(function(){this._logger.log("failed to retrieve stream URL :("),this._streamUrlRetryTimer=window.setTimeout(function(){this._playlistRefreshInProgress=!1,this._refreshPlaylist()}.bind(this),x(++this._streamUrlTimesFailed))}.bind(this)):(this._logger.log("can't update playlist, got no stream URL provider"),void(this._playlistRefreshInProgress=!1)))},i.prototype._setDuration=function(t){this._duration=t;try{this._mseToolkit.duration(this._duration)}catch(e){this._onMediaSourceError(e)}},i.prototype._resetPositionTimer=function(t){window.clearInterval(this._positionUpdateTimer),t&&(this._positionUpdateTimer=window.setInterval(this._onPositionChange,this.getSettings().updateInterval))},i.prototype._triggerPositionEvent=function(){this.trigger(s.POSITION_CHANGE,this._currentPosition,this._loadedPosition,this._duration,this)},i.prototype._initTransmuxerOnce=function(t,e){if(!this._transmuxer){var n=this._mimeType!==t.mimeType?d.Configs.MP3_TO_FMP4:d.Configs.VOID;this._transmuxer=new d(n),this._transmuxer.on("segment",function(t){this._logger.log("transmuxed data ready, "+t.data.length+" bytes for segment "+t.index),e(t)}.bind(this))}},i.prototype._transmuxSegment=function(t,e){this._logger.log("transmuxing segment "+t.index),this._initTransmuxerOnce(t,e),this._transmuxer.process(t)},i.prototype._appendSegments=function(){var t=!0;this._segmentsDownloading.slice().forEach(function(e){e.isComplete()&&t?(this._decryptSegment(e),this._transmuxSegment(e,function(t){this._mseToolkit.append(t)}.bind(this)),this._segmentsDownloading.shift()):t=!1},this)},i.prototype._cancelNextScheduling=function(){this._logger.log("cancelling next scheduling"),window.clearTimeout(this._nextSchedulingTimeout),this._nextSchedulingTimeout=null},i.prototype._getBufferUntilTime=function(){return this._currentPosition+this._maxBufferLength},i.prototype._isTimeBuffered=function(t){if(!this._html5Audio)return!1;for(var e=this._html5Audio.buffered,n=t/1e3,i=0;i<e.length;i++)if(n>=e.start(i)&&n<=e.end(i))return!0;return!1},i.prototype._getCurrentSegment=function(){return this._schedulingSegmentIndex>0?this._hlsToolkit.getSegment(this._schedulingSegmentIndex):this._hlsToolkit.getSegmentForTime(this._currentPosition)},i.prototype._runScheduling=function(){function t(){var e=!1,n=this._getBufferUntilTime(),i=this._getCurrentSegment(),r=i?i.duration:Math.Infinity;if(this._logger.log("scheduling next requests, current buffer-until time: "+n+" ms"),!i)return void this._logger.log("no segment to schedule, closing loop");for(this._logger.log("current segment index: "+i.index);i.endPosition<=n;){if(this._logger.log("scheduling loop at "+this._currentPosition+" ms, current segment "+i.index),this._requestSegment(i),i.isLast){e=!0,this._logger.log("end of playlist reached");break}this._schedulingSegmentIndex=i.index+1,i=this._hlsToolkit.getSegment(this._schedulingSegmentIndex)}this._isInOneOfStates(f.DEAD,f.PAUSED)||e?(this._logger.log("not re-scheduling"),this._nextSchedulingTimeout=null):(this._logger.log("timing next check for more data in "+r+" ms"),this._nextSchedulingTimeout=window.setTimeout(t.bind(this),r))}this._nextSchedulingTimeout||this._playlistRefreshInProgress||t.call(this)},i.prototype._cancelAllInFlightRequests=function(){this._schedulingSegmentIndex=-1,this._segmentsDownloading.forEach(function(t){t.isComplete()||t.cancel()}),this._segmentsDownloading=[]},i.prototype._requestSegment=function(t){return this._segmentsDownloading.push(t),t.isComplete()?(this._logger.log("requested data is already loaded from segment "+t.index),void this._onSegmentLoaded(t,!0)):t.hasBeenRequested()||t.hasFailed()?void this._logger.log("segment already in flight or failed (will retry): "+t.timesFailed+" times"):void this._hlsToolkit.loadSegment(t,k)},i.prototype._decryptSegment=function(t){this._hlsToolkit.isAES128Encrypted()&&this._hlsToolkit.decryptSegmentAES128(t)},i.prototype._inspectEncryptionData=function(){this._hlsToolkit.isAES128Encrypted()&&(this._logger.log("got key of byte length "+this._hlsToolkit.getEncryptionKey().byteLength),this._hlsToolkit.getEncryptionIv()?this._logger.log("got IV of byte length "+this._hlsToolkit.getEncryptionIv().byteLength):this._logger.log("no IV found in header, will use per-segment-index IV"))},i.prototype._html5AudioErrorCodeToErrorId=function(){return{1:a.HTML5_AUDIO_ABORTED,2:a.HTML5_AUDIO_NETWORK,3:a.HTML5_AUDIO_DECODE,4:a.HTML5_AUDIO_SRC_NOT_SUPPORTED}[this._html5Audio.error.code]},i.prototype._error=function(t,e){this._errorID=t,this._errorMessage=this._getErrorMessage(this._errorID),e&&this._html5Audio.error&&(this._errorMessage+=" (native message: "+this._html5Audio.error.message+")"),this._logger.log(this._errorID+" "+this._errorMessage),this.updateState(f.ERROR),this._toggleEventListeners(!1)},i.prototype._getErrorMessage=function(t){var e={};return e[a.MSE_NOT_SUPPORTED]="The browser does not support MediaSource API",e[a.MSE_BAD_OBJECT_STATE]="MediaSource API has thrown an exception",e[t]?"Error: "+t+" ("+e[t]+")":"Error: "+t},i.prototype.setVolume=function(t){this._html5Audio&&(this._html5Audio.volume=t)},i.prototype.getVolume=function(){return this._html5Audio?this._html5Audio.volume:1},i.prototype.setMute=function(t){this._html5Audio&&(this._html5Audio.muted=t)},i.prototype.getMute=function(){return this._html5Audio?this._html5Audio.muted:!1},i.prototype.getErrorID=function(){return this._errorID},i.prototype.play=function(t){return this._isInOneOfStates(f.ERROR,f.DEAD)?void this._logger.log("play called but state is ERROR or DEAD"):this._isInOneOfStates(f.IDLE,f.INITIALIZE)?(t=t||0,this._logger.log("play from "+t),this._playRequested=!0,this.seek(t),this.getState()===f.INITIALIZE?void(this._loadOnInit=!0):void this._loadInitialPlaylist()):void this.resume()},i.prototype.pause=function(){this._html5Audio&&(this._playRequested=!1,this._html5Audio.pause())},i.prototype.seek=function(t){if(!this._isInOneOfStates(f.ERROR,f.DEAD)){if(t=parseInt(t,10),!this._isPlaylistLoaded)return void this.once(s.METADATA,function(){this.seek(t)}.bind(this));if(t>this._duration)return void this._logger.log("can not seek to position over duration");this._logger.log("seek to "+t+" ms"),this.updateState(f.SEEKING),this._lastMediaClockCheck=null,!this._isTimeBuffered(t)&&this._isTimeBuffered(t+S)&&(t+=S,this._logger.log("detected smart seeking opportunity, adjusting target to: "+t)),this._currentPosition=t;try{this._html5Audio.currentTime=t/1e3}catch(e){this._logger.log("error seeking: "+e.message)}this._cancelAllInFlightRequests(),this._cancelNextScheduling(),this._runScheduling()}},i.prototype.resume=function(){this._html5Audio&&(this._logger.log("resume from "+this._currentPosition),this._html5Audio.play(1e3*this._currentPosition))},i.prototype.kill=function(){this.getState()!==f.DEAD&&(this._logger.log("kill"),this._resetPositionTimer(!1),this._cancelNextScheduling(),this._cancelAllInFlightRequests(),window.clearTimeout(this._playlistRetryTimer),window.clearTimeout(this._streamUrlRetryTimer),
this._playRequested=!1,this._toggleEventListeners(!1),this._html5Audio.pause(),this.updateState(f.DEAD))},i.prototype.getErrorMessage=function(){return this._errorMessage},i.prototype.hasStreamUrlProvider=function(){return!!this._streamUrlProvider}},function(t,e,n){var i,r=n(1),o=n(52),s=n(58),a=null,u=n(36),l={NEW:"new",QUEUED:"queued",REQUESTED:"requested",COMPLETE:"complete",TIMEOUT:"timeout",FORBIDDEN:"forbidden",NOT_FOUND:"not-found",SERVER_ERROR:"server-error",FAILED:"failed"},c={FIRST:"#EXTM3U",PLAYLIST:"#EXT-X-STREAM-INF:",SEGMENT:"#EXTINF:",END_TAG:"#EXT-X-ENDLIST",ENCRYPTION:"#EXT-X-KEY:"};t.exports=i=function(t,e){this._logger=t,this._duration=0,this._segments=[],this.setUri(e)},i.Events={PLAYLIST_LOADED:"playlist-loaded",PLAYLIST_PARSE_ERROR:"playlist-parse-error",PLAYLIST_FAILED:"playlist-failed",SEGMENT_LOADED:"segment-loaded",SEGMENT_PROGRESS:"segment-progress",SEGMENT_FAILED:"segment-failed",SEGMENT_CANCELED:"segment-canceled"},i.Status=l,r(i.prototype,u),i.Segment=function(t,e,n,i,o){r(this,{toolkit:t,uri:e,startPosition:n,endPosition:n+i,duration:i,index:o,data:null,status:l.NEW,isLast:!1,timesFailed:0,loaded:0,total:-1,aborted:!1,xhr:null,mimeType:"audio/mpeg"}),this._logger=t._logger},i.Segment.prototype.containsTime=function(t){return t>=this.startPosition&&t<=this.endPosition},i.Segment.prototype.isComplete=function(){return this.status===l.COMPLETE},i.Segment.prototype.hasFailed=function(){return this.status===l.TIMEOUT||this.status===l.FORBIDDEN||this.status===l.NOT_FOUND||this.status===l.SERVER_ERROR||this.status===l.FAILED},i.Segment.prototype.isNew=function(){return this.status===l.NEW},i.Segment.prototype.hasBeenRequested=function(){return this.status===l.REQUESTED},i.Segment.prototype.scheduleRetry=function(t,e,n,i){var r=this;this._retryTimer=window.setTimeout(function(){e.call(n,r,i)},t)},i.Segment.prototype.cancel=function(){this._logger.log("segment cancelled, clearing timeout: "+this.index),window.clearTimeout(this._retryTimer),this.xhr&&(this._logger.log("will abort & reset segment: "+this.index),this.status=l.NEW,this.aborted=!0,this.data=null,this.timesFailed=0,this.xhr.abort(),this.xhr=null,this.toolkit.trigger(i.Events.SEGMENT_CANCELED,this))},i.prototype.setUri=function(t){var e=this._uri=t;e.indexOf("?")>-1&&(e=e.substr(0,e.indexOf("?"))),this._baseURI=e.substr(0,e.lastIndexOf("/")+1)},i.prototype.updatePlaylist=function(t){var e=!1,n=new XMLHttpRequest;n.open("GET",this._uri,!0),n.responseType="text",this._logger.log("downloading playlist from: "+this._uri);var r=function(t){e||(e=!0,this.trigger(i.Events.PLAYLIST_FAILED,n.status))}.bind(this);n.onload=function(e){return 200!==n.status?void r():(t&&(this._segments=[],this._duration=0),this._parsePlaylist(n.responseText,t)?(this.getLastSegment().isLast=!0,this._logger.log("playlist download complete"),void this._retrieveEncryptionKey(function(){this.trigger(i.Events.PLAYLIST_LOADED)})):(this._logger.log("error parsing playlist"),void this.trigger(i.Events.PLAYLIST_PARSE_ERROR)))}.bind(this),n.onerror=function(t){r(t)}.bind(this),n.send()},i.prototype._parsePlaylist=function(t,e){for(var n,r,o,s=t.split("\n"),a=0,u=!1,l=0,h=0;l<s.length;)n=s[l++],0===n.indexOf(c.SEGMENT)?(o=1e3*Number(n.substr(8,n.indexOf(",")-8)),r=this._createSegmentURL(s[l]),e||!this._segments[a]?this._addSegment(new i.Segment(this,r,this._duration,o,h++)):this._segments[a].uri=r,a++,l++):0===n.indexOf(c.ENCRYPTION)?this._parsePlaylistEncryptionHeader(n):0===n.indexOf(c.END_TAG)&&(u=!0);return 0!==this.getNumSegments()&&u?!0:!1},i.prototype._addSegment=function(t){this._segments.push(t),this._duration+=t.duration},i.prototype._parsePlaylistEncryptionHeader=function(t){var e,n,i,r=t.substr(c.ENCRYPTION.length).split(",");if(s(r,function(t){t.indexOf("METHOD")>=0?n=t.split("=")[1]:t.indexOf("URI")>=0?e=t.split("=")[1]:t.indexOf("IV")>=0&&(i=t.split("=")[1])}),!(n&&e&&n.length&&e.length))throw new Error("Failed to parse M3U8 encryption header");n=n.trim(),e=e.trim().replace(/"/g,""),this._encryptionMethod=n,this._encryptionKeyUri=e,i&&i.length?(this._encryptionIvHexString=i.trim(),this._parseEncryptionIvHexString()):this._encryptionIv=null},i.prototype._parseEncryptionIvHexString=function(){var t,e=this._encryptionIvHexString.replace("0x",""),n=new Uint16Array(8),i=0;if(e.length%4!==0)throw new Error("Failed to parse M3U8 encryption IV (length is not multiple of 4)");for(;i<e.length;i+=4){if(t=parseInt(e.substr(i,4),16),isNaN(t))throw new Error("Failed to parse hex number in IV string");n[i/4]=t}this._encryptionIv=n},i.prototype._encryptionIvForSegment=function(t){var e=new DataView(new ArrayBuffer(16));return e.setUint32(0,t.index,!0),e.buffer},i.prototype._retrieveEncryptionKey=function(t){if(t){if(!this._encryptionKeyUri)return void t.call(this);var e=this._encryptionKeyUri,n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=o(function(i){200===n.status?this._encryptionKey=new Uint8Array(n.response):this._logger.log("Failed to retrieve encryption key from "+e+", returned status "+n.status),t.call(this)},this),n.send(),this._logger.log("Downloading encryption key from "+e)}},i.prototype._removeEncryptionPaddingBytes=function(t){var e=t.data[t.data.byteLength-1];e?(this._logger.log("Detected PKCS7 padding length of "+e+" bytes, slicing segment."),t.data=t.data.subarray(0,t.data.byteLength-e)):this._logger.log("No padding detected (last byte is zero)")},i.prototype.decryptSegmentAES128=function(t){if(this._logger.log("Decrypting AES-128 cyphered segment ..."),!a)throw new Error("AES decryption not built-in");var e=a.cipher.createDecipher("AES-CBC",a.util.createBuffer(this._encryptionKey)),n=0,i=t.data.byteLength,r=this._encryptionIv||this._encryptionIvForSegment(t);for(this._logger.log("Using IV ->"),e.start({iv:a.util.createBuffer(r)}),e.update(a.util.createBuffer(t.data)),e.finish(),t.data=new Uint8Array(i);i>n;n++)t.data[n]=e.output.getByte();this._removeEncryptionPaddingBytes(t)},i.prototype.isAES128Encrypted=function(){return"AES-128"===this._encryptionMethod},i.prototype.getEncryptionKeyUri=function(){return this._encryptionKeyUri},i.prototype.getEncryptionIv=function(){return this._encryptionIv},i.prototype.getEncryptionKey=function(){return this._encryptionKey},i.prototype._createSegmentURL=function(t){return"http://"===t.substr(0,7)||"https://"===t.substr(0,8)||"/"===t.substr(0,1)?t:this._baseURI+t},i.prototype._handleLoadSegmentFailure=function(t,e,n){t.aborted||(this._logger.log("segment aborted: "+t.aborted),this._logger.log("segment loading failure: HTTP response status: "+e.status),0===e.status?t.status=l.TIMEOUT:403===e.status?t.status=l.FORBIDDEN:404===e.status?t.status=l.NOT_FOUND:e.status>=500?t.status=l.SERVER_ERROR:t.status=l.FAILED,t.timesFailed++,this.trigger(i.Events.SEGMENT_FAILED,t))},i.prototype.getNumberOfSegmentsRequested=function(){var t=0;return this._segments.forEach(function(e){e.status===l.REQUESTED&&t++}),t},i.prototype._loadSegmentsQueued=function(t){this._segments.forEach(function(e){e.status===l.QUEUED&&(this._logger.log("attempt to load queue segment "+e.index),this.loadSegment(e,t))}.bind(this))},i.prototype._doRequest=function(t,e){var n=!1,r=new XMLHttpRequest,o=t.uri,s=function(i){n||(n=!0,this._handleLoadSegmentFailure(t,r,i),this._loadSegmentsQueued(e))}.bind(this);(t.hasBeenRequested()||t.isComplete())&&this._logger.log("segment cant be loaded, requested: ",!!t.hasBeenRequested()," complete: ",t.isComplete()),r.open("GET",o,!0),r.responseType="arraybuffer",r.onload=function(){if(!t.aborted){if(200!==r.status)return void s();this._logger.log("download of segment "+t.index+" complete"),t.status=l.COMPLETE,t.data=new Uint8Array(r.response),t.downloadTime=Date.now()-t.downloadStartTime,this.trigger(i.Events.SEGMENT_LOADED,t),this._loadSegmentsQueued(e)}}.bind(this),r.onprogress=function(e){t.aborted||e.loaded&&e.total&&(t.loaded=e.loaded,t.total=e.total,this.trigger(i.Events.SEGMENT_PROGRESS,t))}.bind(this),r.onerror=function(t){s(t)}.bind(this),this._logger.log("requesting segment "+t.index+" from "+o),t.xhr=r,t.aborted=!1,t.downloadStartTime=Date.now(),t.status=l.REQUESTED,r.send()},i.prototype.loadSegment=function(t,e){return!isNaN(e)&&this.getNumberOfSegmentsRequested()>e?(this._logger.log("setting segment "+t.index+" queued"),void(t.status=l.QUEUED)):void this._doRequest(t,e)},i.prototype.getSegment=function(t){return this._segments[t]?this._segments[t]:null},i.prototype.getSegmentIndexForTime=function(t){var e,n;if(t>this._duration||0>t||0===this._segments.length)return-1;for(e=Math.floor(this._segments.length*(t/this._duration)),n=this._segments[e];!(n.startPosition<=t&&n.startPosition+n.duration>t);)n.startPosition+n.duration>=t?e--:e++,n=this._segments[e];return e},i.prototype.getSegmentForTime=function(t){var e=this.getSegmentIndexForTime(t);return e>=0?this._segments[e]:null},i.prototype.getDuration=function(){return this._duration},i.prototype.getNumSegments=function(){return this._segments.length},i.prototype.getLastSegment=function(){return this._segments.length?this._segments[this._segments.length-1]:null}},function(t,e,n){var i=n(53),r=n(56),o=n(57),s=1,a=32,u=o(function(t,e,n){var o=s;if(n.length){var l=r(n,u.placeholder);o|=a}return i(t,o,e,n,l)});u.placeholder={},t.exports=u},function(t,e,n){(function(e){function i(t,e,n){for(var i=n.length,r=-1,o=T(t.length-i,0),s=-1,a=e.length,u=Array(a+o);++s<a;)u[s]=e[s];for(;++r<i;)u[n[r]]=t[r];for(;o--;)u[s++]=t[r++];return u}function r(t,e,n){for(var i=-1,r=n.length,o=-1,s=T(t.length-r,0),a=-1,u=e.length,l=Array(s+u);++o<s;)l[o]=t[o];for(var c=o;++a<u;)l[c+a]=e[a];for(;++i<r;)l[c+n[i]]=t[o++];return l}function o(t,n){function i(){var o=this&&this!==e&&this instanceof i?r:t;return o.apply(n,arguments)}var r=s(t);return i}function s(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=p(t.prototype),i=t.apply(n,e);return d(i)?i:n}}function a(t,n,o,u,l,c,d,p,k,x){function A(){for(var _=arguments.length,y=_,b=Array(_);y--;)b[y]=arguments[y];if(u&&(b=i(b,u,l)),c&&(b=r(b,c,d)),D||L){var S=A.placeholder,R=g(b,S);if(_-=R.length,x>_){var N=p?f(p):void 0,F=T(x-_,0),U=D?R:void 0,j=D?void 0:R,B=D?b:void 0,H=D?void 0:b;n|=D?w:E,n&=~(D?E:w),O||(n&=~(m|v));var z=a(t,n,o,B,U,H,j,N,k,F);return z.placeholder=S,z}}var q=I?o:this,$=C?q[t]:t;return p&&(b=h(b,p)),P&&k<b.length&&(b.length=k),this&&this!==e&&this instanceof A&&($=M||s(t)),$.apply(q,b)}var P=n&S,I=n&m,C=n&v,D=n&y,O=n&_,L=n&b,M=C?void 0:s(t);return A}function u(t,n,i,r){function o(){for(var n=-1,s=arguments.length,l=-1,c=r.length,h=Array(c+s);++l<c;)h[l]=r[l];for(;s--;)h[l++]=arguments[++n];var d=this&&this!==e&&this instanceof o?u:t;return d.apply(a?i:this,h)}var a=n&m,u=s(t);return o}function l(t,e,n,i,r,s,l,c){var h=e&v;if(!h&&"function"!=typeof t)throw new TypeError(k);var d=i?i.length:0;if(d||(e&=~(w|E),i=r=void 0),d-=r?r.length:0,e&E){var f=i,p=r;i=r=void 0}var g=[t,e,n,i,r,f,p,s,l,c];if(g[9]=null==c?h?0:t.length:T(c-d,0)||0,e==m)var _=o(g[0],g[2]);else _=e!=w&&e!=(m|w)||g[4].length?a.apply(void 0,g):u.apply(void 0,g);return _}function c(t,e){return t="number"==typeof t||x.test(t)?+t:-1,e=null==e?P:e,t>-1&&t%1==0&&e>t}function h(t,e){for(var n=t.length,i=A(e.length,n),r=f(t);i--;){var o=e[i];t[i]=c(o,n)?r[o]:void 0}return t}function d(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}var f=n(54),p=n(55),g=n(56),m=1,v=2,_=4,y=8,b=16,w=32,E=64,S=128,k="Expected a function",x=/^\d+$/,T=Math.max,A=Math.min,P=9007199254740991;t.exports=l}).call(e,function(){return this}())},function(t,e){function n(t,e){var n=-1,i=t.length;for(e||(e=Array(i));++n<i;)e[n]=t[n];return e}t.exports=n},function(t,e){function n(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}var i=function(){function t(){}return function(e){if(n(e)){t.prototype=e;var i=new t;t.prototype=void 0}return i||{}}}();t.exports=i},function(t,e){function n(t,e){for(var n=-1,r=t.length,o=-1,s=[];++n<r;)t[n]===e&&(t[n]=i,s[++o]=n);return s}var i="__lodash_placeholder__";t.exports=n},11,function(t,e,n){function i(t,e){return function(n,i,r){return"function"==typeof i&&void 0===r&&a(n)?t(n,i):e(n,s(i,r,3))}}var r=n(59),o=n(60),s=n(65),a=n(64),u=i(r,o);t.exports=u},function(t,e){function n(t,e){for(var n=-1,i=t.length;++n<i&&e(t[n],n,t)!==!1;);return t}t.exports=n},[121,61],[120,62,63,64],5,6,7,9,function(t,e,n){var i,r=n(36),o=n(16),s=n(47).bindAll,a=n(1);t.exports=i=function(t,e){s(this,["_onMSEInit","_onMSEDispose","_onSourceBufferUpdate"]),this.mimeType=e,this._logger=t,this._isBufferPrepared=!1,this._sourceBufferPtsOffset=0,this._segmentsAwaitingAppendance=[],this._isNotReady=!0,this._sourceBuffer=null,this._mediaSource=new MediaSource,this._mediaSource.addEventListener("sourceopen",this._onMSEInit,!1),this._mediaSource.addEventListener("sourceclose",this._onMSEDispose,!1),this._mediaElem=o.createAudioElement(),this._mediaElem.src=window.URL.createObjectURL(this._mediaSource)},i.Events={SOURCE_READY:"source-ready",SOURCE_DESTROYED:"source-destroy",SOURCE_ERROR:"source-error",SEGMENT_APPENDED:"segment-appended"},a(i.prototype,r),a(i.prototype,{_onMSEInit:function(){this._logger.log("source open handler"),this._isNotReady=!1,this._mediaSource.removeEventListener("sourceopen",this._onMSEInit,!1),this._sourceBuffer=this._mediaSource.addSourceBuffer(this.mimeType),this._sourceBuffer.addEventListener("update",this._onSourceBufferUpdate),this.trigger(i.Events.SOURCE_READY)},_onMSEDispose:function(){this._isNotReady=!0,this._logger.log("source dispose handler"),this._mediaSource.removeEventListener("sourceclose",this._onMSEDispose,!1)},_appendNextSegment:function(t){try{if(this._sourceBuffer.updating)return this._logger.log("source buffer is busy updating already, enqueuing data for later appending"),void this._segmentsAwaitingAppendance.unshift(t);t.isLast&&this._logger.log("about to append last segment"),this._currentSegmentAppending=t,this._sourceBuffer.timestampOffset=t.startPosition/1e3,this._sourceBuffer.appendBuffer(t.data),this._logger.log("appending segment "+t.index)}catch(e){this._logger.log("error while appending to SourceBuffer: "+e.message+")"),this.trigger(i.Events.SOURCE_ERROR,e)}},_tryAppendEos:function(){this._logger.log("attempting to finalize stream");try{"open"!==this._mediaSource.readyState||this._sourceBuffer.updating?this._logger.log("couldn't call endOfStream because SourceBuffer is still updating, we'll call it once its done"):(this._mediaSource.endOfStream(),this._logger.log("called endOfStream"))}catch(t){this._logger.log("SourceBuffer endOfStream() call failed with error: "+t.message),this.trigger(i.Events.SOURCE_ERROR,t)}},_onSourceBufferUpdate:function(){(this._currentSegmentAppending||this._sourceBuffer.updating)&&(this._logger.log("done updating SourceBuffer with segment "+this._currentSegmentAppending.index),this.trigger(i.Events.SEGMENT_APPENDED,this._currentSegmentAppending),this._currentSegmentAppending.isLast&&(this._logger.log("was last segment, setting on EOS on SourceBuffer"),this._tryAppendEos()),this._segmentsAwaitingAppendance.length&&!this._sourceBuffer.updating&&this._appendNextSegment(this._segmentsAwaitingAppendance.pop()))},append:function(t){if(!this.sourceIsReady())throw new Error("MediaSource is not ready yet");this._appendNextSegment(t)},media:function(){return this._mediaElem},sourceIsReady:function(){return!this._isNotReady},duration:function(t){return this._mediaSource.duration=t/1e3,1e3*this._mediaSource.duration}})},function(t,e,n){var i,r=n(47).concatBuffersToUint8Array,o=n(1),s=n(36),a=n(68);t.exports=i=function(t){this.config=t,this.reset(),this.segments=[],this.pushedInitData=!1},o(i.prototype,s),i.prototype.process=function(t){switch(this.segments.push(t),this.config){case i.Configs.VOID:this.trigger("segment",t);break;case i.Configs.MP3_TO_FMP4:this.src.enqueue(new a.Unit.Transfer(t.data,"binary")),this.src.enqueue(a.Unit.Transfer.Flush());break;default:throw new Error("Config "+this.config+" not supported")}},i.prototype.dequeue=function(){return this.segments.shift()},i.prototype.reset=function(){switch(this.config){case i.Configs.VOID:break;case i.Configs.MP3_TO_FMP4:this.gotInitData=!1,this.src=new a.Unit.BasePushSrc,this.parser=new a.Units.MP3Parser,this.muxer=new a.Units.MP4Mux(a.Units.MP4Mux.Profiles.MP3_AUDIO_ONLY),this.sink=new a.Unit.BaseSink,this.sink._onData=function(){var t,e=this.sink.dequeue().data;return this.gotInitData?(t=this.dequeue(),t.mimeType="audio/mp4",this.gotInitData&&!this.pushedInitData?(t.data=r(this.initData,e),this.pushedInitData=!0):t.data=e,this.trigger("segment",t),void this.reset()):(this.gotInitData=!0,void(this.initData=e))}.bind(this),a.Unit.link(this.src,this.parser,this.muxer,this.sink);break;default:throw new Error("Config "+this.config+" not supported")}},i.Configs={VOID:"VOID",MP3_TO_FMP4:"MP3_TO_FMP4"}},function(t,e,n){var i,r=n(69),o=n(104),s=n(107),a=n(110),u=n(113),l=n(114);t.exports=i={Unit:r,Units:{File:l,MP4Mux:o,MP3Parser:s,MSESink:a,XHR:u}}},function(t,e,n){(function(e){var i,r,o,s,a,u,l,c,h,d,f=n(74),p=n(76),g=n(1),m=n(85),v=n(86);t.exports=i=function(){m.call(this),this.inputs||(this.inputs=[]),this.outputs||(this.outputs=[])},i.create=function(t){return p(i.prototype,t)},i.createBaseSrc=function(t){return p(u.prototype,t)},i.createBasePushSrc=function(t){return p(l.prototype,t)},i.createBaseSink=function(t){return p(c.prototype,t)},i.createBaseTransform=function(t){return p(a.prototype,t)},i.createBaseParser=function(t){return p(h.prototype,t)},i.link=function(t,e){if(arguments.length>2)return i.linkArray(arguments);for(var n=0;n<Math.min(t.numberOfOuts(),e.numberOfIns());n++)t.out(n).pipe(e["in"](n));return e},i.linkArray=function(t){var e,n,r;for(r=0;r<t.length;r++)e=t[r],t.length>r+1&&(n=t[r+1],i.link(e,n));return n};var _=i.Event={CHAIN:"chain",NEED_DATA:"need-data",FINISH:"finish",PIPE:"pipe",UNPIPE:"unpipe",ERROR:"error",END:"end",OPEN:"open",CLOSE:"close"};i.prototype=p(m.prototype,{constructor:i,"in":function(t){return this.inputs[t]},out:function(t){return this.outputs[t]},numberOfIns:function(){return this.inputs.length},numberOfOuts:function(){return this.outputs.length},add:function(t){return t instanceof r?this.addInput(t):t instanceof o&&this.addOutput(t),this},remove:function(t){t instanceof r?this.removeInput(t):t instanceof o&&this.removeOutput(t)},addInput:function(t){this._installEventForwarder(t,_.FINISH),this._installEventForwarder(t,_.OPEN),this._installEventForwarder(t,_.PIPE),this._installEventForwarder(t,_.UNPIPE),this._installEventForwarder(t,_.ERROR),this._installEventForwarder(t,_.CHAIN),this.inputs.push(t)},addOutput:function(t){this._installEventForwarder(t,_.END),this._installEventForwarder(t,_.OPEN),this._installEventForwarder(t,_.CLOSE),this._installEventForwarder(t,_.ERROR),this._installEventForwarder(t,_.NEED_DATA),this.outputs.push(t)},removeInput:function(t){removePut(this.inputs,t)},removeOutput:function(t){removePut(this.outputs,t)},removePut:function(t,e){t.slice().forEach(function(n,i){n==e&&t.splice(i,1)})},_installEventForwarder:function(t,e){t.on(e,function(n){this.emit(e,t,n)}.bind(this))}}),i.Transfer=s=function(t,n,i){n||(n=t instanceof e?"buffer":t instanceof String?"utf8":"object"),this.resolved=!1,this.data=t,this.encoding=n,this.doneCallback=i},s.prototype=p(Object.prototype,{constructor:s,resolve:function(){this.doneCallback&&!this.resolved&&(this.doneCallback(),this.resolved=!0)},setFlushing:function(t){return this.data.flush=t,this},setEmpty:function(t){return this.data.empty=t,this}}),s.Flush=function(){return new s({},"binary").setFlushing(!0).setEmpty(!0)},s.EOS=function(){return new s(null,"binary")},i.Input=r=function(t,e){v.Writable.prototype.constructor.call(this,{objectMode:!0,decodeStrings:!1})},r.prototype=p(v.Writable.prototype,{constructor:r,_write:function(t,e,n){f("_write: "+e),this.emit(i.Event.CHAIN,new s(t,e,n))}}),i.Output=o=function(t){v.Readable.prototype.constructor.call(this,{objectMode:!0}),this._dataRequested=0,this._shouldPushMore=!0},o.eos=function(t){t.push(null,"null")},o.prototype=p(v.Readable.prototype,{constructor:o,_read:function(t){this._dataRequested++,this.emit(_.NEED_DATA,this)},push:function(t,e){return this._dataRequested--,this._shouldPushMore=v.Readable.prototype.push.call(this,t,e),this._shouldPushMore},isPulling:function(){return this._dataRequested>0},eos:function(){v.Readable.prototype.push.call(this,null,"null")}}),i.BaseTransform=a=function(){i.prototype.constructor.apply(this,arguments),this.add(new r).add(new o),this.on(_.CHAIN,this._onChain.bind(this)),this.on(_.FINISH,this._onFinish.bind(this))},a.prototype=p(i.prototype,{constructor:a,_onChain:function(t,e){this._transform(e),this.out(0).push(e.data,e.encoding),e.resolve()},_onFinish:function(t){o.eos(this.out(0))},_transform:function(t){}}),i.BaseSrc=u=function(){i.prototype.constructor.apply(this,arguments),this.add(new o),this.on(_.NEED_DATA,this.squeeze.bind(this))},u.prototype=p(i.prototype,{constructor:u,squeeze:function(){f("squeeze");var t=this._source();t&&(this.out(0).push(t.data,t.encoding),t.resolve())},_source:function(){}}),i.BasePushSrc=l=function(){u.prototype.constructor.apply(this,arguments),this._bufferOut=[]},l.prototype=p(u.prototype,{constructor:l,_source:function(){return this._bufferOut.length?this._bufferOut.shift():null},enqueue:function(t){this._bufferOut.push(t),this.out(0).isPulling&&this.out(0).isPulling()&&this.squeeze()}}),i.BaseSink=c=function(){i.prototype.constructor.apply(this,arguments),this.add(new r),this.on(_.CHAIN,this._onChain.bind(this)),this._bufferIn=[]},c.prototype=p(i.prototype,{constructor:c,_onChain:function(t,e){f("BaseSink._onChain: "+e.encoding),this._bufferIn.push(e),this._onData(),e.resolve()},_onData:function(){},dequeue:function(){return this._bufferIn.length?this._bufferIn.shift():null}}),i.BaseParser=h=function(){l.prototype.constructor.apply(this,arguments),c.prototype.constructor.apply(this,arguments),this.on("finish",this._onFinish.bind(this))},g(h.prototype,i.prototype,m.prototype,u.prototype,l.prototype,c.prototype,{constructor:h,_onData:function(){this._parse(this.dequeue())},_onFinish:function(){f("BaseParser._onFinish"),o.eos(this.out(0))},_parse:function(t){}}),i.InputSelector=d=function(t){for(a.prototype.constructor.apply(this,arguments),t=(t||1)-1;t-->0;)this.add(new r);this.selectedInputIndex=0},g(d.prototype,a.prototype,{constructor:d,_onChain:function(t,e){var n=this["in"](this.selectedInputIndex);return t!==n?void e.resolve():(this._transform(e),this.out(0).push(e.data,e.encoding),void e.resolve())},_onFinish:function(t){var e=this["in"](this.selectedInputIndex);t===e&&o.eos(this.out(0))}})}).call(e,n(70).Buffer)},function(t,e,n){(function(t,i){function r(){function t(){}try{var e=new Uint8Array(1);return e.foo=function(){return 42},e.constructor=t,42===e.foo()&&e.constructor===t&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(n){return!1}}function o(){return t.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function t(e){return this instanceof t?(this.length=0,this.parent=void 0,"number"==typeof e?s(this,e):"string"==typeof e?a(this,e,arguments.length>1?arguments[1]:"utf8"):u(this,e)):arguments.length>1?new t(e,arguments[1]):new t(e)}function s(e,n){if(e=g(e,0>n?0:0|m(n)),!t.TYPED_ARRAY_SUPPORT)for(var i=0;n>i;i++)e[i]=0;return e}function a(t,e,n){("string"!=typeof n||""===n)&&(n="utf8");var i=0|_(e,n);return t=g(t,i),t.write(e,n),t}function u(e,n){if(t.isBuffer(n))return l(e,n);if(X(n))return c(e,n);if(null==n)throw new TypeError("must start with number, buffer, array or string");if("undefined"!=typeof ArrayBuffer){if(n.buffer instanceof ArrayBuffer)return h(e,n);if(n instanceof ArrayBuffer)return d(e,n)}return n.length?f(e,n):p(e,n)}function l(t,e){var n=0|m(e.length);return t=g(t,n),e.copy(t,0,0,n),t}function c(t,e){var n=0|m(e.length);t=g(t,n);for(var i=0;n>i;i+=1)t[i]=255&e[i];return t}function h(t,e){var n=0|m(e.length);t=g(t,n);for(var i=0;n>i;i+=1)t[i]=255&e[i];return t}function d(e,n){return t.TYPED_ARRAY_SUPPORT?(n.byteLength,e=t._augment(new Uint8Array(n))):e=h(e,new Uint8Array(n)),e}function f(t,e){var n=0|m(e.length);t=g(t,n);for(var i=0;n>i;i+=1)t[i]=255&e[i];return t}function p(t,e){var n,i=0;"Buffer"===e.type&&X(e.data)&&(n=e.data,i=0|m(n.length)),t=g(t,i);for(var r=0;i>r;r+=1)t[r]=255&n[r];return t}function g(e,n){t.TYPED_ARRAY_SUPPORT?(e=t._augment(new Uint8Array(n)),e.__proto__=t.prototype):(e.length=n,e._isBuffer=!0);var i=0!==n&&n<=t.poolSize>>>1;return i&&(e.parent=J),e}function m(t){if(t>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|t}function v(e,n){if(!(this instanceof v))return new v(e,n);var i=new t(e,n);return delete i.parent,i}function _(t,e){"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var i=!1;;)switch(e){case"ascii":case"binary":case"raw":case"raws":return n;case"utf8":case"utf-8":return q(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return W(t).length;default:if(i)return q(t).length;e=(""+e).toLowerCase(),i=!0}}function y(t,e,n){var i=!1;if(e=0|e,n=void 0===n||n===1/0?this.length:0|n,t||(t="utf8"),0>e&&(e=0),n>this.length&&(n=this.length),e>=n)return"";for(;;)switch(t){case"hex":return D(this,e,n);case"utf8":case"utf-8":return A(this,e,n);case"ascii":return I(this,e,n);case"binary":return C(this,e,n);case"base64":return T(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,e,n);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}}function b(t,e,n,i){n=Number(n)||0;var r=t.length-n;i?(i=Number(i),i>r&&(i=r)):i=r;var o=e.length;if(o%2!==0)throw new Error("Invalid hex string");i>o/2&&(i=o/2);for(var s=0;i>s;s++){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))throw new Error("Invalid hex string");t[n+s]=a}return s}function w(t,e,n,i){return G(q(e,t.length-n),t,n,i)}function E(t,e,n,i){return G($(e),t,n,i)}function S(t,e,n,i){return E(t,e,n,i)}function k(t,e,n,i){return G(W(e),t,n,i)}function x(t,e,n,i){return G(V(e,t.length-n),t,n,i)}function T(t,e,n){return 0===e&&n===t.length?K.fromByteArray(t):K.fromByteArray(t.slice(e,n))}function A(t,e,n){n=Math.min(t.length,n);for(var i=[],r=e;n>r;){var o=t[r],s=null,a=o>239?4:o>223?3:o>191?2:1;if(n>=r+a){var u,l,c,h;switch(a){case 1:128>o&&(s=o);break;case 2:u=t[r+1],128===(192&u)&&(h=(31&o)<<6|63&u,h>127&&(s=h));break;case 3:u=t[r+1],l=t[r+2],128===(192&u)&&128===(192&l)&&(h=(15&o)<<12|(63&u)<<6|63&l,h>2047&&(55296>h||h>57343)&&(s=h));break;case 4:u=t[r+1],l=t[r+2],c=t[r+3],128===(192&u)&&128===(192&l)&&128===(192&c)&&(h=(15&o)<<18|(63&u)<<12|(63&l)<<6|63&c,h>65535&&1114112>h&&(s=h))}}null===s?(s=65533,a=1):s>65535&&(s-=65536,i.push(s>>>10&1023|55296),s=56320|1023&s),i.push(s),r+=a}return P(i)}function P(t){var e=t.length;if(Q>=e)return String.fromCharCode.apply(String,t);for(var n="",i=0;e>i;)n+=String.fromCharCode.apply(String,t.slice(i,i+=Q));return n}function I(t,e,n){var i="";n=Math.min(t.length,n);for(var r=e;n>r;r++)i+=String.fromCharCode(127&t[r]);return i}function C(t,e,n){var i="";n=Math.min(t.length,n);for(var r=e;n>r;r++)i+=String.fromCharCode(t[r]);return i}function D(t,e,n){var i=t.length;(!e||0>e)&&(e=0),(!n||0>n||n>i)&&(n=i);for(var r="",o=e;n>o;o++)r+=z(t[o]);return r}function O(t,e,n){for(var i=t.slice(e,n),r="",o=0;o<i.length;o+=2)r+=String.fromCharCode(i[o]+256*i[o+1]);return r}function L(t,e,n){if(t%1!==0||0>t)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function M(e,n,i,r,o,s){if(!t.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");if(n>o||s>n)throw new RangeError("value is out of bounds");if(i+r>e.length)throw new RangeError("index out of range")}function R(t,e,n,i){0>e&&(e=65535+e+1);for(var r=0,o=Math.min(t.length-n,2);o>r;r++)t[n+r]=(e&255<<8*(i?r:1-r))>>>8*(i?r:1-r)}function N(t,e,n,i){0>e&&(e=4294967295+e+1);for(var r=0,o=Math.min(t.length-n,4);o>r;r++)t[n+r]=e>>>8*(i?r:3-r)&255}function F(t,e,n,i,r,o){if(e>r||o>e)throw new RangeError("value is out of bounds");if(n+i>t.length)throw new RangeError("index out of range");if(0>n)throw new RangeError("index out of range")}function U(t,e,n,i,r){return r||F(t,e,n,4,3.4028234663852886e38,-3.4028234663852886e38),Y.write(t,e,n,i,23,4),n+4}function j(t,e,n,i,r){return r||F(t,e,n,8,1.7976931348623157e308,-1.7976931348623157e308),Y.write(t,e,n,i,52,8),n+8}function B(t){if(t=H(t).replace(tt,""),t.length<2)return"";for(;t.length%4!==0;)t+="=";return t}function H(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function z(t){return 16>t?"0"+t.toString(16):t.toString(16)}function q(t,e){e=e||1/0;for(var n,i=t.length,r=null,o=[],s=0;i>s;s++){if(n=t.charCodeAt(s),n>55295&&57344>n){if(!r){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===i){(e-=3)>-1&&o.push(239,191,189);continue}r=n;continue}if(56320>n){(e-=3)>-1&&o.push(239,191,189),r=n;continue}n=r-55296<<10|n-56320|65536}else r&&(e-=3)>-1&&o.push(239,191,189);if(r=null,128>n){if((e-=1)<0)break;o.push(n)}else if(2048>n){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(65536>n){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(1114112>n))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function $(t){for(var e=[],n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return e}function V(t,e){for(var n,i,r,o=[],s=0;s<t.length&&!((e-=2)<0);s++)n=t.charCodeAt(s),i=n>>8,r=n%256,o.push(r),o.push(i);return o}function W(t){return K.toByteArray(B(t))}function G(t,e,n,i){for(var r=0;i>r&&!(r+n>=e.length||r>=t.length);r++)e[r+n]=t[r];return r}var K=n(71),Y=n(72),X=n(73);e.Buffer=t,e.SlowBuffer=v,e.INSPECT_MAX_BYTES=50,t.poolSize=8192;var J={};t.TYPED_ARRAY_SUPPORT=void 0!==i.TYPED_ARRAY_SUPPORT?i.TYPED_ARRAY_SUPPORT:r(),t.TYPED_ARRAY_SUPPORT&&(t.prototype.__proto__=Uint8Array.prototype,t.__proto__=Uint8Array),t.isBuffer=function(t){return!(null==t||!t._isBuffer)},t.compare=function(e,n){if(!t.isBuffer(e)||!t.isBuffer(n))throw new TypeError("Arguments must be Buffers");if(e===n)return 0;for(var i=e.length,r=n.length,o=0,s=Math.min(i,r);s>o&&e[o]===n[o];)++o;return o!==s&&(i=e[o],r=n[o]),r>i?-1:i>r?1:0},t.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},t.concat=function(e,n){if(!X(e))throw new TypeError("list argument must be an Array of Buffers.");if(0===e.length)return new t(0);var i;if(void 0===n)for(n=0,i=0;i<e.length;i++)n+=e[i].length;var r=new t(n),o=0;for(i=0;i<e.length;i++){var s=e[i];s.copy(r,o),o+=s.length}return r},t.byteLength=_,t.prototype.length=void 0,t.prototype.parent=void 0,t.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?A(this,0,t):y.apply(this,arguments)},t.prototype.equals=function(e){if(!t.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:0===t.compare(this,e)},t.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},t.prototype.compare=function(e){if(!t.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?0:t.compare(this,e)},t.prototype.indexOf=function(e,n){function i(t,e,n){for(var i=-1,r=0;n+r<t.length;r++)if(t[n+r]===e[-1===i?0:r-i]){if(-1===i&&(i=r),r-i+1===e.length)return n+i}else i=-1;return-1}if(n>2147483647?n=2147483647:-2147483648>n&&(n=-2147483648),n>>=0,
0===this.length)return-1;if(n>=this.length)return-1;if(0>n&&(n=Math.max(this.length+n,0)),"string"==typeof e)return 0===e.length?-1:String.prototype.indexOf.call(this,e,n);if(t.isBuffer(e))return i(this,e,n);if("number"==typeof e)return t.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,e,n):i(this,[e],n);throw new TypeError("val must be string, number or Buffer")},t.prototype.get=function(t){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(t)},t.prototype.set=function(t,e){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(t,e)},t.prototype.write=function(t,e,n,i){if(void 0===e)i="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)i=e,n=this.length,e=0;else if(isFinite(e))e=0|e,isFinite(n)?(n=0|n,void 0===i&&(i="utf8")):(i=n,n=void 0);else{var r=i;i=e,e=0|n,n=r}var o=this.length-e;if((void 0===n||n>o)&&(n=o),t.length>0&&(0>n||0>e)||e>this.length)throw new RangeError("attempt to write outside buffer bounds");i||(i="utf8");for(var s=!1;;)switch(i){case"hex":return b(this,t,e,n);case"utf8":case"utf-8":return w(this,t,e,n);case"ascii":return E(this,t,e,n);case"binary":return S(this,t,e,n);case"base64":return k(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,t,e,n);default:if(s)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),s=!0}},t.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Q=4096;t.prototype.slice=function(e,n){var i=this.length;e=~~e,n=void 0===n?i:~~n,0>e?(e+=i,0>e&&(e=0)):e>i&&(e=i),0>n?(n+=i,0>n&&(n=0)):n>i&&(n=i),e>n&&(n=e);var r;if(t.TYPED_ARRAY_SUPPORT)r=t._augment(this.subarray(e,n));else{var o=n-e;r=new t(o,void 0);for(var s=0;o>s;s++)r[s]=this[s+e]}return r.length&&(r.parent=this.parent||this),r},t.prototype.readUIntLE=function(t,e,n){t=0|t,e=0|e,n||L(t,e,this.length);for(var i=this[t],r=1,o=0;++o<e&&(r*=256);)i+=this[t+o]*r;return i},t.prototype.readUIntBE=function(t,e,n){t=0|t,e=0|e,n||L(t,e,this.length);for(var i=this[t+--e],r=1;e>0&&(r*=256);)i+=this[t+--e]*r;return i},t.prototype.readUInt8=function(t,e){return e||L(t,1,this.length),this[t]},t.prototype.readUInt16LE=function(t,e){return e||L(t,2,this.length),this[t]|this[t+1]<<8},t.prototype.readUInt16BE=function(t,e){return e||L(t,2,this.length),this[t]<<8|this[t+1]},t.prototype.readUInt32LE=function(t,e){return e||L(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},t.prototype.readUInt32BE=function(t,e){return e||L(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},t.prototype.readIntLE=function(t,e,n){t=0|t,e=0|e,n||L(t,e,this.length);for(var i=this[t],r=1,o=0;++o<e&&(r*=256);)i+=this[t+o]*r;return r*=128,i>=r&&(i-=Math.pow(2,8*e)),i},t.prototype.readIntBE=function(t,e,n){t=0|t,e=0|e,n||L(t,e,this.length);for(var i=e,r=1,o=this[t+--i];i>0&&(r*=256);)o+=this[t+--i]*r;return r*=128,o>=r&&(o-=Math.pow(2,8*e)),o},t.prototype.readInt8=function(t,e){return e||L(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},t.prototype.readInt16LE=function(t,e){e||L(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},t.prototype.readInt16BE=function(t,e){e||L(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},t.prototype.readInt32LE=function(t,e){return e||L(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},t.prototype.readInt32BE=function(t,e){return e||L(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},t.prototype.readFloatLE=function(t,e){return e||L(t,4,this.length),Y.read(this,t,!0,23,4)},t.prototype.readFloatBE=function(t,e){return e||L(t,4,this.length),Y.read(this,t,!1,23,4)},t.prototype.readDoubleLE=function(t,e){return e||L(t,8,this.length),Y.read(this,t,!0,52,8)},t.prototype.readDoubleBE=function(t,e){return e||L(t,8,this.length),Y.read(this,t,!1,52,8)},t.prototype.writeUIntLE=function(t,e,n,i){t=+t,e=0|e,n=0|n,i||M(this,t,e,n,Math.pow(2,8*n),0);var r=1,o=0;for(this[e]=255&t;++o<n&&(r*=256);)this[e+o]=t/r&255;return e+n},t.prototype.writeUIntBE=function(t,e,n,i){t=+t,e=0|e,n=0|n,i||M(this,t,e,n,Math.pow(2,8*n),0);var r=n-1,o=1;for(this[e+r]=255&t;--r>=0&&(o*=256);)this[e+r]=t/o&255;return e+n},t.prototype.writeUInt8=function(e,n,i){return e=+e,n=0|n,i||M(this,e,n,1,255,0),t.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[n]=255&e,n+1},t.prototype.writeUInt16LE=function(e,n,i){return e=+e,n=0|n,i||M(this,e,n,2,65535,0),t.TYPED_ARRAY_SUPPORT?(this[n]=255&e,this[n+1]=e>>>8):R(this,e,n,!0),n+2},t.prototype.writeUInt16BE=function(e,n,i){return e=+e,n=0|n,i||M(this,e,n,2,65535,0),t.TYPED_ARRAY_SUPPORT?(this[n]=e>>>8,this[n+1]=255&e):R(this,e,n,!1),n+2},t.prototype.writeUInt32LE=function(e,n,i){return e=+e,n=0|n,i||M(this,e,n,4,4294967295,0),t.TYPED_ARRAY_SUPPORT?(this[n+3]=e>>>24,this[n+2]=e>>>16,this[n+1]=e>>>8,this[n]=255&e):N(this,e,n,!0),n+4},t.prototype.writeUInt32BE=function(e,n,i){return e=+e,n=0|n,i||M(this,e,n,4,4294967295,0),t.TYPED_ARRAY_SUPPORT?(this[n]=e>>>24,this[n+1]=e>>>16,this[n+2]=e>>>8,this[n+3]=255&e):N(this,e,n,!1),n+4},t.prototype.writeIntLE=function(t,e,n,i){if(t=+t,e=0|e,!i){var r=Math.pow(2,8*n-1);M(this,t,e,n,r-1,-r)}var o=0,s=1,a=0>t?1:0;for(this[e]=255&t;++o<n&&(s*=256);)this[e+o]=(t/s>>0)-a&255;return e+n},t.prototype.writeIntBE=function(t,e,n,i){if(t=+t,e=0|e,!i){var r=Math.pow(2,8*n-1);M(this,t,e,n,r-1,-r)}var o=n-1,s=1,a=0>t?1:0;for(this[e+o]=255&t;--o>=0&&(s*=256);)this[e+o]=(t/s>>0)-a&255;return e+n},t.prototype.writeInt8=function(e,n,i){return e=+e,n=0|n,i||M(this,e,n,1,127,-128),t.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),0>e&&(e=255+e+1),this[n]=255&e,n+1},t.prototype.writeInt16LE=function(e,n,i){return e=+e,n=0|n,i||M(this,e,n,2,32767,-32768),t.TYPED_ARRAY_SUPPORT?(this[n]=255&e,this[n+1]=e>>>8):R(this,e,n,!0),n+2},t.prototype.writeInt16BE=function(e,n,i){return e=+e,n=0|n,i||M(this,e,n,2,32767,-32768),t.TYPED_ARRAY_SUPPORT?(this[n]=e>>>8,this[n+1]=255&e):R(this,e,n,!1),n+2},t.prototype.writeInt32LE=function(e,n,i){return e=+e,n=0|n,i||M(this,e,n,4,2147483647,-2147483648),t.TYPED_ARRAY_SUPPORT?(this[n]=255&e,this[n+1]=e>>>8,this[n+2]=e>>>16,this[n+3]=e>>>24):N(this,e,n,!0),n+4},t.prototype.writeInt32BE=function(e,n,i){return e=+e,n=0|n,i||M(this,e,n,4,2147483647,-2147483648),0>e&&(e=4294967295+e+1),t.TYPED_ARRAY_SUPPORT?(this[n]=e>>>24,this[n+1]=e>>>16,this[n+2]=e>>>8,this[n+3]=255&e):N(this,e,n,!1),n+4},t.prototype.writeFloatLE=function(t,e,n){return U(this,t,e,!0,n)},t.prototype.writeFloatBE=function(t,e,n){return U(this,t,e,!1,n)},t.prototype.writeDoubleLE=function(t,e,n){return j(this,t,e,!0,n)},t.prototype.writeDoubleBE=function(t,e,n){return j(this,t,e,!1,n)},t.prototype.copy=function(e,n,i,r){if(i||(i=0),r||0===r||(r=this.length),n>=e.length&&(n=e.length),n||(n=0),r>0&&i>r&&(r=i),r===i)return 0;if(0===e.length||0===this.length)return 0;if(0>n)throw new RangeError("targetStart out of bounds");if(0>i||i>=this.length)throw new RangeError("sourceStart out of bounds");if(0>r)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-n<r-i&&(r=e.length-n+i);var o,s=r-i;if(this===e&&n>i&&r>n)for(o=s-1;o>=0;o--)e[o+n]=this[o+i];else if(1e3>s||!t.TYPED_ARRAY_SUPPORT)for(o=0;s>o;o++)e[o+n]=this[o+i];else e._set(this.subarray(i,i+s),n);return s},t.prototype.fill=function(t,e,n){if(t||(t=0),e||(e=0),n||(n=this.length),e>n)throw new RangeError("end < start");if(n!==e&&0!==this.length){if(0>e||e>=this.length)throw new RangeError("start out of bounds");if(0>n||n>this.length)throw new RangeError("end out of bounds");var i;if("number"==typeof t)for(i=e;n>i;i++)this[i]=t;else{var r=q(t.toString()),o=r.length;for(i=e;n>i;i++)this[i]=r[i%o]}return this}},t.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(t.TYPED_ARRAY_SUPPORT)return new t(this).buffer;for(var e=new Uint8Array(this.length),n=0,i=e.length;i>n;n+=1)e[n]=this[n];return e.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var Z=t.prototype;t._augment=function(e){return e.constructor=t,e._isBuffer=!0,e._set=e.set,e.get=Z.get,e.set=Z.set,e.write=Z.write,e.toString=Z.toString,e.toLocaleString=Z.toString,e.toJSON=Z.toJSON,e.equals=Z.equals,e.compare=Z.compare,e.indexOf=Z.indexOf,e.copy=Z.copy,e.slice=Z.slice,e.readUIntLE=Z.readUIntLE,e.readUIntBE=Z.readUIntBE,e.readUInt8=Z.readUInt8,e.readUInt16LE=Z.readUInt16LE,e.readUInt16BE=Z.readUInt16BE,e.readUInt32LE=Z.readUInt32LE,e.readUInt32BE=Z.readUInt32BE,e.readIntLE=Z.readIntLE,e.readIntBE=Z.readIntBE,e.readInt8=Z.readInt8,e.readInt16LE=Z.readInt16LE,e.readInt16BE=Z.readInt16BE,e.readInt32LE=Z.readInt32LE,e.readInt32BE=Z.readInt32BE,e.readFloatLE=Z.readFloatLE,e.readFloatBE=Z.readFloatBE,e.readDoubleLE=Z.readDoubleLE,e.readDoubleBE=Z.readDoubleBE,e.writeUInt8=Z.writeUInt8,e.writeUIntLE=Z.writeUIntLE,e.writeUIntBE=Z.writeUIntBE,e.writeUInt16LE=Z.writeUInt16LE,e.writeUInt16BE=Z.writeUInt16BE,e.writeUInt32LE=Z.writeUInt32LE,e.writeUInt32BE=Z.writeUInt32BE,e.writeIntLE=Z.writeIntLE,e.writeIntBE=Z.writeIntBE,e.writeInt8=Z.writeInt8,e.writeInt16LE=Z.writeInt16LE,e.writeInt16BE=Z.writeInt16BE,e.writeInt32LE=Z.writeInt32LE,e.writeInt32BE=Z.writeInt32BE,e.writeFloatLE=Z.writeFloatLE,e.writeFloatBE=Z.writeFloatBE,e.writeDoubleLE=Z.writeDoubleLE,e.writeDoubleBE=Z.writeDoubleBE,e.fill=Z.fill,e.inspect=Z.inspect,e.toArrayBuffer=Z.toArrayBuffer,e};var tt=/[^+\/0-9A-Za-z-_]/g}).call(e,n(70).Buffer,function(){return this}())},function(t,e,n){var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(t){"use strict";function e(t){var e=t.charCodeAt(0);return e===s||e===h?62:e===a||e===d?63:u>e?-1:u+10>e?e-u+26+26:c+26>e?e-c:l+26>e?e-l+26:void 0}function n(t){function n(t){l[h++]=t}var i,r,s,a,u,l;if(t.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var c=t.length;u="="===t.charAt(c-2)?2:"="===t.charAt(c-1)?1:0,l=new o(3*t.length/4-u),s=u>0?t.length-4:t.length;var h=0;for(i=0,r=0;s>i;i+=4,r+=3)a=e(t.charAt(i))<<18|e(t.charAt(i+1))<<12|e(t.charAt(i+2))<<6|e(t.charAt(i+3)),n((16711680&a)>>16),n((65280&a)>>8),n(255&a);return 2===u?(a=e(t.charAt(i))<<2|e(t.charAt(i+1))>>4,n(255&a)):1===u&&(a=e(t.charAt(i))<<10|e(t.charAt(i+1))<<4|e(t.charAt(i+2))>>2,n(a>>8&255),n(255&a)),l}function r(t){function e(t){return i.charAt(t)}function n(t){return e(t>>18&63)+e(t>>12&63)+e(t>>6&63)+e(63&t)}var r,o,s,a=t.length%3,u="";for(r=0,s=t.length-a;s>r;r+=3)o=(t[r]<<16)+(t[r+1]<<8)+t[r+2],u+=n(o);switch(a){case 1:o=t[t.length-1],u+=e(o>>2),u+=e(o<<4&63),u+="==";break;case 2:o=(t[t.length-2]<<8)+t[t.length-1],u+=e(o>>10),u+=e(o>>4&63),u+=e(o<<2&63),u+="="}return u}var o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="+".charCodeAt(0),a="/".charCodeAt(0),u="0".charCodeAt(0),l="a".charCodeAt(0),c="A".charCodeAt(0),h="-".charCodeAt(0),d="_".charCodeAt(0);t.toByteArray=n,t.fromByteArray=r}(e)},function(t,e){e.read=function(t,e,n,i,r){var o,s,a=8*r-i-1,u=(1<<a)-1,l=u>>1,c=-7,h=n?r-1:0,d=n?-1:1,f=t[e+h];for(h+=d,o=f&(1<<-c)-1,f>>=-c,c+=a;c>0;o=256*o+t[e+h],h+=d,c-=8);for(s=o&(1<<-c)-1,o>>=-c,c+=i;c>0;s=256*s+t[e+h],h+=d,c-=8);if(0===o)o=1-l;else{if(o===u)return s?NaN:(f?-1:1)*(1/0);s+=Math.pow(2,i),o-=l}return(f?-1:1)*s*Math.pow(2,o-i)},e.write=function(t,e,n,i,r,o){var s,a,u,l=8*o-r-1,c=(1<<l)-1,h=c>>1,d=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,f=i?0:o-1,p=i?1:-1,g=0>e||0===e&&0>1/e?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=c):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),e+=s+h>=1?d/u:d*Math.pow(2,1-h),e*u>=2&&(s++,u/=2),s+h>=c?(a=0,s=c):s+h>=1?(a=(e*u-1)*Math.pow(2,r),s+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,r),s=0));r>=8;t[n+f]=255&a,f+=p,a/=256,r-=8);for(s=s<<r|a,l+=r;l>0;t[n+f]=255&s,f+=p,s/=256,l-=8);t[n+f-p]|=128*g}},function(t,e){var n=Array.isArray,i=Object.prototype.toString;t.exports=n||function(t){return!!t&&"[object Array]"==i.call(t)}},function(t,e,n){var i=n(75);t.exports=function(){i.loggingEnabled()&&console.log.apply(console,arguments)}},function(t,e){var n=!1;t.exports={loggingEnabled:function(t){return void 0!==t&&(n=t),n}}},function(t,e,n){function i(t,e,n){var i=o(t);return n&&s(t,e,n)&&(e=void 0),e?r(i,e):i}var r=n(77),o=n(83),s=n(84);t.exports=i},[119,78,79],3,[120,80,81,82],5,function(t,e){(function(e){function n(t){return function(e){return null==e?void 0:e[t]}}function i(t){return o(t)&&g.call(t,"callee")&&(!v.call(t,"callee")||m.call(t)==h)}function r(t){return null!=t&&!("function"==typeof t&&s(t))&&a(_(t))}function o(t){return l(t)&&r(t)}function s(t){var e=u(t)?m.call(t):"";return e==d||e==f}function a(t){return"number"==typeof t&&t>-1&&t%1==0&&c>=t}function u(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function l(t){return!!t&&"object"==typeof t}var c=9007199254740991,h="[object Arguments]",d="[object Function]",f="[object GeneratorFunction]",p=e.Object.prototype,g=p.hasOwnProperty,m=p.toString,v=p.propertyIsEnumerable,_=n("length");t.exports=i}).call(e,function(){return this}())},7,55,10,function(t,e){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(t){return"function"==typeof t}function r(t){return"number"==typeof t}function o(t){return"object"==typeof t&&null!==t}function s(t){return void 0===t}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(t){if(!r(t)||0>t||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},n.prototype.emit=function(t){var e,n,r,a,u,l;if(this._events||(this._events={}),"error"===t&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[t],s(n))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),n.apply(this,a)}else if(o(n))for(a=Array.prototype.slice.call(arguments,1),l=n.slice(),r=l.length,u=0;r>u;u++)l[u].apply(this,a);return!0},n.prototype.addListener=function(t,e){var r;if(!i(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,i(e.listener)?e.listener:e),this._events[t]?o(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,o(this._events[t])&&!this._events[t].warned&&(r=s(this._maxListeners)?n.defaultMaxListeners:this._maxListeners,r&&r>0&&this._events[t].length>r&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace())),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(t,e){function n(){this.removeListener(t,n),r||(r=!0,e.apply(this,arguments))}if(!i(e))throw TypeError("listener must be a function");var r=!1;return n.listener=e,this.on(t,n),this},n.prototype.removeListener=function(t,e){var n,r,s,a;if(!i(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(n=this._events[t],s=n.length,r=-1,n===e||i(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(o(n)){for(a=s;a-->0;)if(n[a]===e||n[a].listener&&n[a].listener===e){r=a;break}if(0>r)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},n.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[t],i(n))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},n.prototype.listeners=function(t){var e;return e=this._events&&this._events[t]?i(this._events[t])?[this._events[t]]:this._events[t].slice():[]},n.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(i(e))return 1;if(e)return e.length}return 0},n.listenerCount=function(t,e){return t.listenerCount(e)}},function(t,e,n){function i(){r.call(this)}t.exports=i;var r=n(85).EventEmitter,o=n(87);o(i,r),i.Readable=n(88),i.Writable=n(100),i.Duplex=n(101),i.Transform=n(102),i.PassThrough=n(103),i.Stream=i,i.prototype.pipe=function(t,e){function n(e){t.writable&&!1===t.write(e)&&l.pause&&l.pause()}function i(){l.readable&&l.resume&&l.resume()}function o(){c||(c=!0,t.end())}function s(){c||(c=!0,"function"==typeof t.destroy&&t.destroy())}function a(t){if(u(),0===r.listenerCount(this,"error"))throw t}function u(){l.removeListener("data",n),t.removeListener("drain",i),l.removeListener("end",o),l.removeListener("close",s),l.removeListener("error",a),t.removeListener("error",a),l.removeListener("end",u),l.removeListener("close",u),t.removeListener("close",u)}var l=this;l.on("data",n),t.on("drain",i),t._isStdio||e&&e.end===!1||(l.on("end",o),l.on("close",s));var c=!1;return l.on("error",a),t.on("error",a),l.on("end",u),l.on("close",u),t.on("close",u),t.emit("pipe",l),t}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){e=t.exports=n(89),e.Stream=n(86),e.Readable=e,e.Writable=n(96),e.Duplex=n(95),e.Transform=n(98),e.PassThrough=n(99)},function(t,e,n){(function(e){function i(t,e){var i=n(95);t=t||{};var r=t.highWaterMark,o=t.objectMode?16:16384;this.highWaterMark=r||0===r?r:o,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.objectMode=!!t.objectMode,e instanceof i&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.defaultEncoding=t.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(P||(P=n(97).StringDecoder),this.decoder=new P(t.encoding),this.encoding=t.encoding)}function r(t){n(95);return this instanceof r?(this._readableState=new i(t,this),this.readable=!0,void T.call(this)):new r(t)}function o(t,e,n,i,r){var o=l(e,n);if(o)t.emit("error",o);else if(A.isNullOrUndefined(n))e.reading=!1,e.ended||c(t,e);else if(e.objectMode||n&&n.length>0)if(e.ended&&!r){var a=new Error("stream.push() after EOF");t.emit("error",a)}else if(e.endEmitted&&r){var a=new Error("stream.unshift() after end event");t.emit("error",a)}else!e.decoder||r||i||(n=e.decoder.write(n)),r||(e.reading=!1),e.flowing&&0===e.length&&!e.sync?(t.emit("data",n),t.read(0)):(e.length+=e.objectMode?1:n.length,r?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&h(t)),f(t,e);else r||(e.reading=!1);return s(e)}function s(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}function a(t){if(t>=C)t=C;else{t--;for(var e=1;32>e;e<<=1)t|=t>>e;t++}return t}function u(t,e){return 0===e.length&&e.ended?0:e.objectMode?0===t?0:1:isNaN(t)||A.isNull(t)?e.flowing&&e.buffer.length?e.buffer[0].length:e.length:0>=t?0:(t>e.highWaterMark&&(e.highWaterMark=a(t)),t>e.length?e.ended?e.length:(e.needReadable=!0,0):t)}function l(t,e){var n=null;return A.isBuffer(e)||A.isString(e)||A.isNullOrUndefined(e)||t.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}function c(t,e){if(e.decoder&&!e.ended){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,h(t)}function h(t){var n=t._readableState;n.needReadable=!1,n.emittedReadable||(I("emitReadable",n.flowing),n.emittedReadable=!0,n.sync?e.nextTick(function(){d(t)}):d(t))}function d(t){I("emit readable"),t.emit("readable"),_(t)}function f(t,n){n.readingMore||(n.readingMore=!0,e.nextTick(function(){p(t,n)}))}function p(t,e){for(var n=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(I("maybeReadMore read 0"),t.read(0),n!==e.length);)n=e.length;e.readingMore=!1}function g(t){return function(){var e=t._readableState;I("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&x.listenerCount(t,"data")&&(e.flowing=!0,_(t))}}function m(t,n){n.resumeScheduled||(n.resumeScheduled=!0,e.nextTick(function(){v(t,n)}))}function v(t,e){e.resumeScheduled=!1,t.emit("resume"),_(t),e.flowing&&!e.reading&&t.read(0)}function _(t){var e=t._readableState;if(I("flow",e.flowing),e.flowing)do var n=t.read();while(null!==n&&e.flowing)}function y(t,e){var n,i=e.buffer,r=e.length,o=!!e.decoder,s=!!e.objectMode;if(0===i.length)return null;if(0===r)n=null;else if(s)n=i.shift();else if(!t||t>=r)n=o?i.join(""):k.concat(i,r),i.length=0;else if(t<i[0].length){var a=i[0];n=a.slice(0,t),i[0]=a.slice(t)}else if(t===i[0].length)n=i.shift();else{n=o?"":new k(t);for(var u=0,l=0,c=i.length;c>l&&t>u;l++){var a=i[0],h=Math.min(t-u,a.length);o?n+=a.slice(0,h):a.copy(n,u,0,h),h<a.length?i[0]=a.slice(h):i.shift(),u+=h}}return n}function b(t){var n=t._readableState;if(n.length>0)throw new Error("endReadable called on non-empty stream");n.endEmitted||(n.ended=!0,e.nextTick(function(){n.endEmitted||0!==n.length||(n.endEmitted=!0,t.readable=!1,t.emit("end"))}))}function w(t,e){for(var n=0,i=t.length;i>n;n++)e(t[n],n)}function E(t,e){for(var n=0,i=t.length;i>n;n++)if(t[n]===e)return n;return-1}t.exports=r;var S=n(91),k=n(70).Buffer;r.ReadableState=i;var x=n(85).EventEmitter;x.listenerCount||(x.listenerCount=function(t,e){return t.listeners(e).length});var T=n(86),A=n(92);A.inherits=n(93);var P,I=n(94);I=I&&I.debuglog?I.debuglog("stream"):function(){},A.inherits(r,T),r.prototype.push=function(t,e){var n=this._readableState;return A.isString(t)&&!n.objectMode&&(e=e||n.defaultEncoding,e!==n.encoding&&(t=new k(t,e),e="")),o(this,n,t,e,!1)},r.prototype.unshift=function(t){var e=this._readableState;return o(this,e,t,"",!0)},r.prototype.setEncoding=function(t){return P||(P=n(97).StringDecoder),this._readableState.decoder=new P(t),this._readableState.encoding=t,this};var C=8388608;r.prototype.read=function(t){I("read",t);var e=this._readableState,n=t;if((!A.isNumber(t)||t>0)&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return I("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?b(this):h(this),null;if(t=u(t,e),0===t&&e.ended)return 0===e.length&&b(this),null;var i=e.needReadable;I("need readable",i),(0===e.length||e.length-t<e.highWaterMark)&&(i=!0,I("length less than watermark",i)),(e.ended||e.reading)&&(i=!1,I("reading or ended",i)),i&&(I("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1),i&&!e.reading&&(t=u(n,e));var r;return r=t>0?y(t,e):null,A.isNull(r)&&(e.needReadable=!0,t=0),e.length-=t,0!==e.length||e.ended||(e.needReadable=!0),n!==t&&e.ended&&0===e.length&&b(this),A.isNull(r)||this.emit("data",r),r},r.prototype._read=function(t){this.emit("error",new Error("not implemented"))},r.prototype.pipe=function(t,n){function i(t){I("onunpipe"),t===h&&o()}function r(){I("onend"),t.end()}function o(){I("cleanup"),t.removeListener("close",u),t.removeListener("finish",l),t.removeListener("drain",m),t.removeListener("error",a),t.removeListener("unpipe",i),h.removeListener("end",r),h.removeListener("end",o),h.removeListener("data",s),!d.awaitDrain||t._writableState&&!t._writableState.needDrain||m()}function s(e){I("ondata");var n=t.write(e);!1===n&&(I("false write response, pause",h._readableState.awaitDrain),h._readableState.awaitDrain++,h.pause())}function a(e){I("onerror",e),c(),t.removeListener("error",a),0===x.listenerCount(t,"error")&&t.emit("error",e)}function u(){t.removeListener("finish",l),c()}function l(){I("onfinish"),t.removeListener("close",u),c()}function c(){I("unpipe"),h.unpipe(t)}var h=this,d=this._readableState;switch(d.pipesCount){case 0:d.pipes=t;break;case 1:d.pipes=[d.pipes,t];break;default:d.pipes.push(t)}d.pipesCount+=1,I("pipe count=%d opts=%j",d.pipesCount,n);var f=(!n||n.end!==!1)&&t!==e.stdout&&t!==e.stderr,p=f?r:o;d.endEmitted?e.nextTick(p):h.once("end",p),t.on("unpipe",i);var m=g(h);return t.on("drain",m),h.on("data",s),t._events&&t._events.error?S(t._events.error)?t._events.error.unshift(a):t._events.error=[a,t._events.error]:t.on("error",a),t.once("close",u),t.once("finish",l),t.emit("pipe",h),d.flowing||(I("pipe resume"),h.resume()),t},r.prototype.unpipe=function(t){var e=this._readableState;if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this),this);if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var r=0;i>r;r++)n[r].emit("unpipe",this);return this}var r=E(e.pipes,t);return-1===r?this:(e.pipes.splice(r,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this),this)},r.prototype.on=function(t,n){var i=T.prototype.on.call(this,t,n);if("data"===t&&!1!==this._readableState.flowing&&this.resume(),"readable"===t&&this.readable){var r=this._readableState;if(!r.readableListening)if(r.readableListening=!0,r.emittedReadable=!1,r.needReadable=!0,r.reading)r.length&&h(this,r);else{var o=this;e.nextTick(function(){I("readable nexttick read 0"),o.read(0)})}}return i},r.prototype.addListener=r.prototype.on,r.prototype.resume=function(){var t=this._readableState;return t.flowing||(I("resume"),t.flowing=!0,t.reading||(I("resume read 0"),this.read(0)),m(this,t)),this},r.prototype.pause=function(){return I("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(I("pause"),this._readableState.flowing=!1,this.emit("pause")),this},r.prototype.wrap=function(t){var e=this._readableState,n=!1,i=this;t.on("end",function(){if(I("wrapped end"),e.decoder&&!e.ended){var t=e.decoder.end();t&&t.length&&i.push(t)}i.push(null)}),t.on("data",function(r){if(I("wrapped data"),e.decoder&&(r=e.decoder.write(r)),r&&(e.objectMode||r.length)){var o=i.push(r);o||(n=!0,t.pause())}});for(var r in t)A.isFunction(t[r])&&A.isUndefined(this[r])&&(this[r]=function(e){return function(){return t[e].apply(t,arguments)}}(r));var o=["error","close","destroy","pause","resume"];return w(o,function(e){t.on(e,i.emit.bind(i,e))}),i._read=function(e){I("wrapped _read",e),n&&(n=!1,t.resume())},i},r._fromList=y}).call(e,n(90))},function(t,e){function n(){l=!1,s.length?u=s.concat(u):c=-1,u.length&&i()}function i(){if(!l){var t=setTimeout(n);l=!0;for(var e=u.length;e;){for(s=u,u=[];++c<e;)s&&s[c].run();c=-1,e=u.length}s=null,l=!1,clearTimeout(t)}}function r(t,e){this.fun=t,this.array=e}function o(){}var s,a=t.exports={},u=[],l=!1,c=-1;a.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new r(t,e)),1!==u.length||l||setTimeout(i,0)},r.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=o,a.addListener=o,a.once=o,a.off=o,a.removeListener=o,a.removeAllListeners=o,a.emit=o,a.binding=function(t){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(t){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},function(t,e){t.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}},function(t,e,n){(function(t){function n(t){return Array.isArray(t)}function i(t){return"boolean"==typeof t}function r(t){return null===t}function o(t){return null==t}function s(t){return"number"==typeof t}function a(t){return"string"==typeof t}function u(t){return"symbol"==typeof t}function l(t){return void 0===t}function c(t){return h(t)&&"[object RegExp]"===v(t)}function h(t){return"object"==typeof t&&null!==t}function d(t){return h(t)&&"[object Date]"===v(t)}function f(t){return h(t)&&("[object Error]"===v(t)||t instanceof Error)}function p(t){return"function"==typeof t}function g(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||"undefined"==typeof t}function m(e){return t.isBuffer(e)}function v(t){return Object.prototype.toString.call(t)}e.isArray=n,e.isBoolean=i,e.isNull=r,e.isNullOrUndefined=o,e.isNumber=s,e.isString=a,e.isSymbol=u,e.isUndefined=l,e.isRegExp=c,e.isObject=h,e.isDate=d,e.isError=f,e.isFunction=p,e.isPrimitive=g,e.isBuffer=m}).call(e,n(70).Buffer)},87,function(t,e){},function(t,e,n){(function(e){function i(t){return this instanceof i?(u.call(this,t),l.call(this,t),t&&t.readable===!1&&(this.readable=!1),t&&t.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,t&&t.allowHalfOpen===!1&&(this.allowHalfOpen=!1),void this.once("end",r)):new i(t)}function r(){this.allowHalfOpen||this._writableState.ended||e.nextTick(this.end.bind(this))}function o(t,e){for(var n=0,i=t.length;i>n;n++)e(t[n],n)}t.exports=i;var s=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e},a=n(92);a.inherits=n(93);var u=n(89),l=n(96);a.inherits(i,u),o(s(l.prototype),function(t){i.prototype[t]||(i.prototype[t]=l.prototype[t])})}).call(e,n(90))},function(t,e,n){(function(e){function i(t,e,n){this.chunk=t,this.encoding=e,this.callback=n}function r(t,e){var i=n(95);t=t||{};var r=t.highWaterMark,o=t.objectMode?16:16384;this.highWaterMark=r||0===r?r:o,this.objectMode=!!t.objectMode,e instanceof i&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var s=t.decodeStrings===!1;this.decodeStrings=!s,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){f(e,t)},this.writecb=null,this.writelen=0,this.buffer=[],this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1}function o(t){var e=n(95);return this instanceof o||this instanceof e?(this._writableState=new r(t,this),this.writable=!0,void S.call(this)):new o(t)}function s(t,n,i){var r=new Error("write after end");t.emit("error",r),e.nextTick(function(){i(r)})}function a(t,n,i,r){var o=!0;if(!(E.isBuffer(i)||E.isString(i)||E.isNullOrUndefined(i)||n.objectMode)){var s=new TypeError("Invalid non-string/buffer chunk");t.emit("error",s),e.nextTick(function(){r(s)}),o=!1}return o}function u(t,e,n){return!t.objectMode&&t.decodeStrings!==!1&&E.isString(e)&&(e=new w(e,n)),e}function l(t,e,n,r,o){n=u(e,n,r),E.isBuffer(n)&&(r="buffer");var s=e.objectMode?1:n.length;e.length+=s;var a=e.length<e.highWaterMark;return a||(e.needDrain=!0),e.writing||e.corked?e.buffer.push(new i(n,r,o)):c(t,e,!1,s,n,r,o),a}function c(t,e,n,i,r,o,s){e.writelen=i,e.writecb=s,e.writing=!0,e.sync=!0,n?t._writev(r,e.onwrite):t._write(r,o,e.onwrite),e.sync=!1}function h(t,n,i,r,o){i?e.nextTick(function(){n.pendingcb--,o(r)}):(n.pendingcb--,o(r)),t._writableState.errorEmitted=!0,t.emit("error",r)}function d(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function f(t,n){var i=t._writableState,r=i.sync,o=i.writecb;if(d(i),n)h(t,i,r,n,o);else{var s=v(t,i);s||i.corked||i.bufferProcessing||!i.buffer.length||m(t,i),r?e.nextTick(function(){p(t,i,s,o)}):p(t,i,s,o)}}function p(t,e,n,i){n||g(t,e),e.pendingcb--,i(),y(t,e)}function g(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function m(t,e){if(e.bufferProcessing=!0,
t._writev&&e.buffer.length>1){for(var n=[],i=0;i<e.buffer.length;i++)n.push(e.buffer[i].callback);e.pendingcb++,c(t,e,!0,e.length,e.buffer,"",function(t){for(var i=0;i<n.length;i++)e.pendingcb--,n[i](t)}),e.buffer=[]}else{for(var i=0;i<e.buffer.length;i++){var r=e.buffer[i],o=r.chunk,s=r.encoding,a=r.callback,u=e.objectMode?1:o.length;if(c(t,e,!1,u,o,s,a),e.writing){i++;break}}i<e.buffer.length?e.buffer=e.buffer.slice(i):e.buffer.length=0}e.bufferProcessing=!1}function v(t,e){return e.ending&&0===e.length&&!e.finished&&!e.writing}function _(t,e){e.prefinished||(e.prefinished=!0,t.emit("prefinish"))}function y(t,e){var n=v(t,e);return n&&(0===e.pendingcb?(_(t,e),e.finished=!0,t.emit("finish")):_(t,e)),n}function b(t,n,i){n.ending=!0,y(t,n),i&&(n.finished?e.nextTick(i):t.once("finish",i)),n.ended=!0}t.exports=o;var w=n(70).Buffer;o.WritableState=r;var E=n(92);E.inherits=n(93);var S=n(86);E.inherits(o,S),o.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},o.prototype.write=function(t,e,n){var i=this._writableState,r=!1;return E.isFunction(e)&&(n=e,e=null),E.isBuffer(t)?e="buffer":e||(e=i.defaultEncoding),E.isFunction(n)||(n=function(){}),i.ended?s(this,i,n):a(this,i,t,n)&&(i.pendingcb++,r=l(this,i,t,e,n)),r},o.prototype.cork=function(){var t=this._writableState;t.corked++},o.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.buffer.length||m(this,t))},o.prototype._write=function(t,e,n){n(new Error("not implemented"))},o.prototype._writev=null,o.prototype.end=function(t,e,n){var i=this._writableState;E.isFunction(t)?(n=t,t=null,e=null):E.isFunction(e)&&(n=e,e=null),E.isNullOrUndefined(t)||this.write(t,e),i.corked&&(i.corked=1,this.uncork()),i.ending||i.finished||b(this,i,n)}}).call(e,n(90))},function(t,e,n){function i(t){if(t&&!u(t))throw new Error("Unknown encoding: "+t)}function r(t){return t.toString(this.encoding)}function o(t){this.charReceived=t.length%2,this.charLength=this.charReceived?2:0}function s(t){this.charReceived=t.length%3,this.charLength=this.charReceived?3:0}var a=n(70).Buffer,u=a.isEncoding||function(t){switch(t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},l=e.StringDecoder=function(t){switch(this.encoding=(t||"utf8").toLowerCase().replace(/[-_]/,""),i(t),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=o;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=s;break;default:return void(this.write=r)}this.charBuffer=new a(6),this.charReceived=0,this.charLength=0};l.prototype.write=function(t){for(var e="";this.charLength;){var n=t.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:t.length;if(t.copy(this.charBuffer,this.charReceived,0,n),this.charReceived+=n,this.charReceived<this.charLength)return"";t=t.slice(n,t.length),e=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var i=e.charCodeAt(e.length-1);if(!(i>=55296&&56319>=i)){if(this.charReceived=this.charLength=0,0===t.length)return e;break}this.charLength+=this.surrogateSize,e=""}this.detectIncompleteChar(t);var r=t.length;this.charLength&&(t.copy(this.charBuffer,0,t.length-this.charReceived,r),r-=this.charReceived),e+=t.toString(this.encoding,0,r);var r=e.length-1,i=e.charCodeAt(r);if(i>=55296&&56319>=i){var o=this.surrogateSize;return this.charLength+=o,this.charReceived+=o,this.charBuffer.copy(this.charBuffer,o,0,o),t.copy(this.charBuffer,0,0,o),e.substring(0,r)}return e},l.prototype.detectIncompleteChar=function(t){for(var e=t.length>=3?3:t.length;e>0;e--){var n=t[t.length-e];if(1==e&&n>>5==6){this.charLength=2;break}if(2>=e&&n>>4==14){this.charLength=3;break}if(3>=e&&n>>3==30){this.charLength=4;break}}this.charReceived=e},l.prototype.end=function(t){var e="";if(t&&t.length&&(e=this.write(t)),this.charReceived){var n=this.charReceived,i=this.charBuffer,r=this.encoding;e+=i.slice(0,n).toString(r)}return e}},function(t,e,n){function i(t,e){this.afterTransform=function(t,n){return r(e,t,n)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null}function r(t,e,n){var i=t._transformState;i.transforming=!1;var r=i.writecb;if(!r)return t.emit("error",new Error("no writecb in Transform class"));i.writechunk=null,i.writecb=null,u.isNullOrUndefined(n)||t.push(n),r&&r(e);var o=t._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&t._read(o.highWaterMark)}function o(t){if(!(this instanceof o))return new o(t);a.call(this,t),this._transformState=new i(t,this);var e=this;this._readableState.needReadable=!0,this._readableState.sync=!1,this.once("prefinish",function(){u.isFunction(this._flush)?this._flush(function(t){s(e,t)}):s(e)})}function s(t,e){if(e)return t.emit("error",e);var n=t._writableState,i=t._transformState;if(n.length)throw new Error("calling transform done when ws.length != 0");if(i.transforming)throw new Error("calling transform done when still transforming");return t.push(null)}t.exports=o;var a=n(95),u=n(92);u.inherits=n(93),u.inherits(o,a),o.prototype.push=function(t,e){return this._transformState.needTransform=!1,a.prototype.push.call(this,t,e)},o.prototype._transform=function(t,e,n){throw new Error("not implemented")},o.prototype._write=function(t,e,n){var i=this._transformState;if(i.writecb=n,i.writechunk=t,i.writeencoding=e,!i.transforming){var r=this._readableState;(i.needTransform||r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}},o.prototype._read=function(t){var e=this._transformState;u.isNull(e.writechunk)||!e.writecb||e.transforming?e.needTransform=!0:(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform))}},function(t,e,n){function i(t){return this instanceof i?void r.call(this,t):new i(t)}t.exports=i;var r=n(98),o=n(92);o.inherits=n(93),o.inherits(i,r),i.prototype._transform=function(t,e,n){n(null,t)}},function(t,e,n){t.exports=n(96)},function(t,e,n){t.exports=n(95)},function(t,e,n){t.exports=n(98)},function(t,e,n){t.exports=n(99)},function(t,e,n){(function(e){var i,r=n(74),o=n(69),s=(o.BaseTransform,o.BaseParser),a=n(105);t.exports=i=function(t,e){o.BaseParser.prototype.constructor.apply(this,arguments),t||(t={audioTrackId:-1,videoTrackId:-1,tracks:[]}),this.muxer=new a(t),this.muxer.ondata=this._onMp4Data.bind(this),this.muxer.oncodecinfo=this._onCodecInfo.bind(this),this._codecInfo=null,this._timestamp=0,e&&(this.worker="undefined"!=typeof Worker?new Worker("/dist/mp4-mux-worker-bundle.js"):null),this.worker&&(this.worker.onmessage=function(t){this._onMp4Data(t.data)}.bind(this),this.worker.postMessage({mp4MuxProfile:t}))},i.Profiles=a.Profiles,i.prototype=o.createBaseParser({constructor:i,_onMp4Data:function(t){r("_onMp4Data"),this.enqueue(new o.Transfer(new e(t),"buffer"))},_onCodecInfo:function(t){r("Codec info: "+t),this._codecInfo=t},_onFinish:function(t){r("MP4Mux._onFinish"),this.worker?this.worker.postMessage({eos:!0}):this.muxer&&this.muxer.flush(),s.prototype._onFinish.call(this,t)},_parse:function(t){var e;t.data&&(e=this._timestamp=t.data.timestamp),t.data.flush&&(this._needFlush=!0),r("UnitMP4Mux Timestamp: "+this._timestamp),r("UnitMP4Mux._parse: Payload type: "+typeof t.data),this.worker?(t.data.empty||this.worker.postMessage({data:t.data,meta:t.data.meta,timestamp:e,packetType:a.TYPE_AUDIO_PACKET}),this._needFlush&&(this.worker.postMessage({eos:!0}),this._needFlush=!1)):this.muxer&&(t.data.empty||this.muxer.pushPacket(a.TYPE_AUDIO_PACKET,new Uint8Array(t.data),e,t.data.meta),this._needFlush&&(this.muxer.flush(),this._needFlush=!1))}})}).call(e,n(70).Buffer)},function(t,e,n){function i(t){for(var e=t.length>>1,n=new Uint8Array(e),i=0;e>i;i++)n[i]=parseInt(t.substr(2*i,2),16);return n}function r(t,e){var n,i=0,r=s.RAW;switch(e.codecId){case h:var o=t[i++];r=o,n=1024;break;case c:var u=t[i+1]>>3&3,d=t[i+1]>>1&3;n=1===d?3===u?1152:576:3===d?384:1152}return info={codecDescription:l[e.codecId],codecId:e.codecId,data:t.subarray(i),rate:e.sampleRate,size:e.sampleSize,channels:e.channels,samples:n,packetType:r},a("parsed audio packet with %d samples",n),info}function o(t){var e=0,n=t[e]>>4,i=15&t[e];e++;var r={frameType:n,codecId:i,codecDescription:f[i]};switch(i){case g:var o=t[e++];r.packetType=o,r.compositionTime=(t[e]<<24|t[e+1]<<16|t[e+2]<<8)>>8,e+=3;break;case p:r.packetType=m.NALU,r.horizontalOffset=t[e]>>4&15,r.verticalOffset=15&t[e],r.compositionTime=0,e++}return r.data=t.subarray(e),r}var s,a=n(74),u=n(106),l=["PCM","ADPCM","MP3","PCM le","Nellymouser16","Nellymouser8","Nellymouser","G.711 A-law","G.711 mu-law",null,"AAC","Speex","MP3 8khz"],c=2,h=10;!function(t){t[t.HEADER=0]="HEADER",t[t.RAW=1]="RAW"}(s||(s={}));var d,f=[null,"JPEG","Sorenson","Screen","VP6","VP6 alpha","Screen2","AVC"],p=4,g=7;!function(t){t[t.KEY=1]="KEY",t[t.INNER=2]="INNER",t[t.DISPOSABLE=3]="DISPOSABLE",t[t.GENERATED=4]="GENERATED",t[t.INFO=5]="INFO"}(d||(d={}));var m;!function(t){t[t.HEADER=0]="HEADER",t[t.NALU=1]="NALU",t[t.END=2]="END"}(m||(m={}));var v,_=8,y=9,b=!0;!function(t){t[t.CAN_GENERATE_HEADER=0]="CAN_GENERATE_HEADER",t[t.NEED_HEADER_DATA=1]="NEED_HEADER_DATA",t[t.MAIN_PACKETS=2]="MAIN_PACKETS"}(v||(v={}));var w=function(){function t(t){var e=this;this.oncodecinfo=function(t){throw new Error("MP4Mux.oncodecinfo is not set")},this.ondata=function(t){throw new Error("MP4Mux.ondata is not set")},this.metadata=t,this.trackStates=this.metadata.tracks.map(function(t,n){var i={trackId:n+1,trackInfo:t,cachedDuration:0,samplesProcessed:0,initializationData:[]};return e.metadata.audioTrackId===n&&(e.audioTrackState=i),e.metadata.videoTrackId===n&&(e.videoTrackState=i),i},this),this._checkIfNeedHeaderData(),this.filePos=0,this.cachedPackets=[],this.chunkIndex=0}return t.prototype.pushPacket=function(t,e,n,i){switch(this.state===v.CAN_GENERATE_HEADER&&this._tryGenerateHeader(),t){case _:var a=this.audioTrackState,u=r(e,i);if(!a||a.trackInfo.codecId!==u.codecId)throw new Error("Unexpected audio packet codec: "+u.codecDescription);switch(u.codecId){default:throw new Error("Unsupported audio codec: "+u.codecDescription);case c:break;case h:if(u.packetType===s.HEADER)return void a.initializationData.push(u.data)}this.cachedPackets.push({packet:u,timestamp:n,trackId:a.trackId});break;case y:var l=this.videoTrackState,d=o(e);if(!l||l.trackInfo.codecId!==d.codecId)throw new Error("Unexpected video packet codec: "+d.codecDescription);switch(d.codecId){default:throw new Error("unsupported video codec: "+d.codecDescription);case p:break;case g:if(d.packetType===m.HEADER)return void l.initializationData.push(d.data)}this.cachedPackets.push({packet:d,timestamp:n,trackId:l.trackId});break;default:throw new Error("unknown packet type: "+t)}this.state===v.NEED_HEADER_DATA&&this._tryGenerateHeader()},t.prototype.flush=function(){this.cachedPackets.length>0&&this._chunk()},t.prototype._checkIfNeedHeaderData=function(){this.trackStates.some(function(t){return t.trackInfo.codecId===h||t.trackInfo.codecId===g})?this.state=v.NEED_HEADER_DATA:this.state=v.CAN_GENERATE_HEADER},t.prototype._tryGenerateHeader=function(){var t=this.trackStates.every(function(t){switch(t.trackInfo.codecId){case h:case g:return t.initializationData.length>0;default:return!0}});if(t){for(var e=["isom"],n=1,r=1,o=[],s=0;s<this.trackStates.length;s++){var a,l=this.trackStates[s],d=l.trackInfo;switch(d.codecId){case h:var f=l.initializationData[0];a=new u.AudioSampleEntry("mp4a",n,d.channels,d.samplesize,d.samplerate);var m=new Uint8Array(41+f.length);m.set(i("0000000003808080"),0),m[8]=32+f.length,m.set(i("00020004808080"),9),m[16]=18+f.length,m.set(i("40150000000000FA000000000005808080"),17),m[34]=f.length,m.set(f,35),m.set(i("068080800102"),35+f.length),a.otherBoxes=[new u.RawTag("esds",m)];var _=f[0]>>3;l.mimeTypeCodec="mp4a.40."+_;break;case c:a=new u.AudioSampleEntry(".mp3",n,d.channels,d.samplesize,d.samplerate),l.mimeTypeCodec="mp3";break;case g:var y=l.initializationData[0];a=new u.VideoSampleEntry("avc1",r,d.width,d.height),a.otherBoxes=[new u.RawTag("avcC",y)];var b=y[1]<<16|y[2]<<8|y[3];l.mimeTypeCodec="avc1."+(16777216|b).toString(16).substr(1),e.push("iso2","avc1","mp41");break;case p:a=new u.VideoSampleEntry("VP6F",r,d.width,d.height),a.otherBoxes=[new u.RawTag("glbl",i("00"))],l.mimeTypeCodec="avc1.42001E";break;default:throw new Error("not supported track type")}var w,E=u.TrackHeaderFlags.TRACK_ENABLED|u.TrackHeaderFlags.TRACK_IN_MOVIE;l===this.audioTrackState?w=new u.TrackBox(new u.TrackHeaderBox(E,l.trackId,-1,0,0,1,s),new u.MediaBox(new u.MediaHeaderBox(d.timescale,-1,d.language),new u.HandlerBox("soun","SoundHandler"),new u.MediaInformationBox(new u.SoundMediaHeaderBox,new u.DataInformationBox(new u.DataReferenceBox([new u.DataEntryUrlBox(u.SELF_CONTAINED_DATA_REFERENCE_FLAG)])),new u.SampleTableBox(new u.SampleDescriptionBox([a]),new u.RawTag("stts",i("0000000000000000")),new u.RawTag("stsc",i("0000000000000000")),new u.RawTag("stsz",i("000000000000000000000000")),new u.RawTag("stco",i("0000000000000000")))))):l===this.videoTrackState&&(w=new u.TrackBox(new u.TrackHeaderBox(E,l.trackId,-1,d.width,d.height,0,s),new u.MediaBox(new u.MediaHeaderBox(d.timescale,-1,d.language),new u.HandlerBox("vide","VideoHandler"),new u.MediaInformationBox(new u.VideoMediaHeaderBox,new u.DataInformationBox(new u.DataReferenceBox([new u.DataEntryUrlBox(u.SELF_CONTAINED_DATA_REFERENCE_FLAG)])),new u.SampleTableBox(new u.SampleDescriptionBox([a]),new u.RawTag("stts",i("0000000000000000")),new u.RawTag("stsc",i("0000000000000000")),new u.RawTag("stsz",i("000000000000000000000000")),new u.RawTag("stco",i("0000000000000000"))))))),o.push(w)}var S=new u.MovieExtendsBox(null,[new u.TrackExtendsBox(1,1,0,0,0),new u.TrackExtendsBox(2,1,0,0,0)],null),k=new u.BoxContainerBox("udat",[new u.MetaBox(new u.RawTag("hdlr",i("00000000000000006D6469726170706C000000000000000000")),[new u.RawTag("ilst",i("00000025A9746F6F0000001D6461746100000001000000004C61766635342E36332E313034"))])]),x=new u.MovieHeaderBox(1e3,0,this.trackStates.length+1),T=new u.MovieBox(x,o,S,k),A=new u.FileTypeBox("isom",512,e),P=A.layout(0),I=T.layout(P),C=new Uint8Array(P+I);A.write(C),T.write(C),this.oncodecinfo(this.trackStates.map(function(t){return t.mimeTypeCodec})),this.ondata(C),this.filePos+=C.length,this.state=v.MAIN_PACKETS}},t.prototype._chunk=function(){var t=this.cachedPackets;if(b&&this.videoTrackState){for(var e=t.length-1,n=this.videoTrackState.trackId;e>0&&(t[e].trackId!==n||t[e].packet.frameType!==d.KEY);)e--;e>0&&(t=t.slice(0,e))}if(0!==t.length){for(var i=[],r=0,o=[],s=[],a=0;a<this.trackStates.length;a++){var l=this.trackStates[a],f=l.trackInfo,m=l.trackId,v=t.filter(function(t){return t.trackId===m});if(0!==v.length){var _,y,w,E=new u.TrackFragmentBaseMediaDecodeTimeBox(l.cachedDuration);switch(s.push(r),f.codecId){case h:case c:w=[];for(var e=0;e<v.length;e++){var S=v[e].packet,k=Math.round(S.samples*f.timescale/f.samplerate);i.push(S.data),r+=S.data.length,w.push({duration:k,size:S.data.length}),l.samplesProcessed+=S.samples}var x=u.TrackFragmentFlags.DEFAULT_SAMPLE_FLAGS_PRESENT;_=new u.TrackFragmentHeaderBox(x,m,0,0,0,0,u.SampleFlags.SAMPLE_DEPENDS_ON_NO_OTHERS);var T=u.TrackRunFlags.DATA_OFFSET_PRESENT|u.TrackRunFlags.SAMPLE_DURATION_PRESENT|u.TrackRunFlags.SAMPLE_SIZE_PRESENT;y=new u.TrackRunBox(T,w,0,0),l.cachedDuration=Math.round(l.samplesProcessed*f.timescale/f.samplerate);break;case g:case p:w=[];for(var A=l.samplesProcessed,P=A*f.timescale/f.framerate,I=Math.round(P),e=0;e<v.length;e++){var C=v[e].packet;A++;var D=Math.round(A*f.timescale/f.framerate),O=D-I;I=D;var L=Math.round(A*f.timescale/f.framerate+C.compositionTime*f.timescale/1e3);i.push(C.data),r+=C.data.length;var M=C.frameType===d.KEY?u.SampleFlags.SAMPLE_DEPENDS_ON_NO_OTHERS:u.SampleFlags.SAMPLE_DEPENDS_ON_OTHER|u.SampleFlags.SAMPLE_IS_NOT_SYNC;w.push({duration:O,size:C.data.length,flags:M,compositionTimeOffset:L-D})}var x=u.TrackFragmentFlags.DEFAULT_SAMPLE_FLAGS_PRESENT;_=new u.TrackFragmentHeaderBox(x,m,0,0,0,0,u.SampleFlags.SAMPLE_DEPENDS_ON_NO_OTHERS);var T=u.TrackRunFlags.DATA_OFFSET_PRESENT|u.TrackRunFlags.SAMPLE_DURATION_PRESENT|u.TrackRunFlags.SAMPLE_SIZE_PRESENT|u.TrackRunFlags.SAMPLE_FLAGS_PRESENT|u.TrackRunFlags.SAMPLE_COMPOSITION_TIME_OFFSET;y=new u.TrackRunBox(T,w,0,0),l.cachedDuration=I,l.samplesProcessed=A;break;default:throw new Error("Un codec")}var R=new u.TrackFragmentBox(_,E,y);o.push(R)}}this.cachedPackets.splice(0,t.length);for(var N=new u.MovieFragmentHeaderBox(++this.chunkIndex),F=new u.MovieFragmentBox(N,o),U=F.layout(0),j=new u.MediaDataBox(i),B=j.layout(U),H=U+8,a=0;a<o.length;a++)o[a].run.dataOffset=H+s[a];var z=new Uint8Array(U+B);F.write(z),j.write(z),this.ondata(z),this.filePos+=z.length}},t}();t.exports=w,w.MP3_SOUND_CODEC_ID=c,w.AAC_SOUND_CODEC_ID=h,w.TYPE_AUDIO_PACKET=_,w.TYPE_VIDEO_PACKET=y,w.Profiles={MP3_AUDIO_ONLY:{audioTrackId:0,videoTrackId:-1,tracks:[{codecId:w.MP3_SOUND_CODEC_ID,channels:2,samplerate:44100,samplesize:16,timescale:44100}]}}},function(t,e){function n(t){for(var e=new Uint8Array(4*t.length),n=0,i=0,r=t.length;r>i;i++){var o=t.charCodeAt(i);if(127>=o)e[n++]=o;else{if(o>=55296&&56319>=o){var s=t.charCodeAt(i+1);s>=56320&&57343>=s&&(o=((1023&o)<<10)+(1023&s)+65536,++i)}0!==(4292870144&o)?(e[n++]=248|o>>>24&3,e[n++]=128|o>>>18&63,e[n++]=128|o>>>12&63,e[n++]=128|o>>>6&63,e[n++]=128|63&o):0!==(4294901760&o)?(e[n++]=240|o>>>18&7,e[n++]=128|o>>>12&63,e[n++]=128|o>>>6&63,e[n++]=128|63&o):0!==(4294965248&o)?(e[n++]=224|o>>>12&15,e[n++]=128|o>>>6&63,e[n++]=128|63&o):(e[n++]=192|o>>>6&31,e[n++]=128|63&o)}}return e.subarray(0,n)}function i(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return Array.prototype.concat.apply(t,e)}function r(t,e,n){t[e]=n>>24&255,t[e+1]=n>>16&255,t[e+2]=n>>8&255,t[e+3]=255&n}function o(t){return t.charCodeAt(0)<<24|t.charCodeAt(1)<<16|t.charCodeAt(2)<<8|t.charCodeAt(3)}function s(t){return(t-f)/1e3|0}function a(t){return 65536*t|0}function u(t){return 1073741824*t|0}function l(t){return 256*t|0}function c(t){return(31&t.charCodeAt(0))<<10|(31&t.charCodeAt(1))<<5|31&t.charCodeAt(2)}var h,d=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)};t.exports=h={};var f=-20828448e5,p=[1,0,0,0,1,0,0,0,1],g=[0,0,0],m=function(){function t(t,e){this.boxtype=t,"uuid"===t&&(this.userType=e)}return t.prototype.layout=function(t){this.offset=t;var e=8;return this.userType&&(e+=16),this.size=e,e},t.prototype.write=function(t){return r(t,this.offset,this.size),r(t,this.offset+4,o(this.boxtype)),this.userType?(t.set(this.userType,this.offset+8),24):8},t.prototype.toUint8Array=function(){var t=this.layout(0),e=new Uint8Array(t);return this.write(e),e},t}();h.Box=m;var v=function(t){function e(e,n,i){void 0===n&&(n=0),void 0===i&&(i=0),t.call(this,e),this.version=n,this.flags=i}return d(e,t),e.prototype.layout=function(e){return this.size=t.prototype.layout.call(this,e)+4,this.size},e.prototype.write=function(e){var n=t.prototype.write.call(this,e);return r(e,this.offset+n,this.version<<24|this.flags),n+4},e}(m);h.FullBox=v;var _=function(t){function e(e,n,i){t.call(this,"ftype"),this.majorBrand=e,this.minorVersion=n,this.compatibleBrands=i}return d(e,t),e.prototype.layout=function(e){return this.size=t.prototype.layout.call(this,e)+4*(2+this.compatibleBrands.length),this.size},e.prototype.write=function(e){var n=this,i=t.prototype.write.call(this,e);return r(e,this.offset+i,o(this.majorBrand)),r(e,this.offset+i+4,this.minorVersion),i+=8,this.compatibleBrands.forEach(function(t){r(e,n.offset+i,o(t)),i+=4},this),i},e}(m);h.FileTypeBox=_;var y=function(t){function e(e,n){t.call(this,e),this.children=n}return d(e,t),e.prototype.layout=function(e){var n=t.prototype.layout.call(this,e);return this.children.forEach(function(t){t&&(n+=t.layout(e+n))}),this.size=n},e.prototype.write=function(e){var n=t.prototype.write.call(this,e);return this.children.forEach(function(t){t&&(n+=t.write(e))}),n},e}(m);h.BoxContainerBox=y;var b=function(t){function e(e,n,r,o){t.call(this,"moov",i([e],n,[r,o])),this.header=e,this.tracks=n,this.extendsBox=r,this.userData=o}return d(e,t),e}(y);h.MovieBox=b;var w=function(t){function e(e,n,i,r,o,s,a,u){void 0===r&&(r=1),void 0===o&&(o=1),void 0===s&&(s=p),void 0===a&&(a=f),void 0===u&&(u=f),t.call(this,"mvhd",0,0),this.timescale=e,this.duration=n,this.nextTrackId=i,this.rate=r,this.volume=o,this.matrix=s,this.creationTime=a,this.modificationTime=u}return d(e,t),e.prototype.layout=function(e){return this.size=t.prototype.layout.call(this,e)+16+4+2+2+8+36+24+4,this.size},e.prototype.write=function(e){var n=t.prototype.write.call(this,e);return r(e,this.offset+n,s(this.creationTime)),r(e,this.offset+n+4,s(this.modificationTime)),r(e,this.offset+n+8,this.timescale),r(e,this.offset+n+12,this.duration),n+=16,r(e,this.offset+n,a(this.rate)),r(e,this.offset+n+4,l(this.volume)<<16),r(e,this.offset+n+8,0),r(e,this.offset+n+12,0),n+=16,r(e,this.offset+n,a(this.matrix[0])),r(e,this.offset+n+4,a(this.matrix[1])),r(e,this.offset+n+8,a(this.matrix[2])),r(e,this.offset+n+12,a(this.matrix[3])),r(e,this.offset+n+16,a(this.matrix[4])),r(e,this.offset+n+20,a(this.matrix[5])),r(e,this.offset+n+24,u(this.matrix[6])),r(e,this.offset+n+28,u(this.matrix[7])),r(e,this.offset+n+32,u(this.matrix[8])),n+=36,r(e,this.offset+n,0),r(e,this.offset+n+4,0),r(e,this.offset+n+8,0),r(e,this.offset+n+12,0),r(e,this.offset+n+16,0),r(e,this.offset+n+20,0),n+=24,r(e,this.offset+n,this.nextTrackId),n+=4},e}(v);h.MovieHeaderBox=w,function(t){t[t.TRACK_ENABLED=1]="TRACK_ENABLED",t[t.TRACK_IN_MOVIE=2]="TRACK_IN_MOVIE",t[t.TRACK_IN_PREVIEW=4]="TRACK_IN_PREVIEW"}(h.TrackHeaderFlags||(h.TrackHeaderFlags={}));var E=(h.TrackHeaderFlags,function(t){function e(e,n,i,r,o,s,a,u,l,c,h){void 0===a&&(a=0),void 0===u&&(u=0),void 0===l&&(l=p),void 0===c&&(c=f),void 0===h&&(h=f),t.call(this,"tkhd",0,e),this.trackId=n,this.duration=i,this.width=r,this.height=o,this.volume=s,this.alternateGroup=a,this.layer=u,this.matrix=l,this.creationTime=c,this.modificationTime=h}return d(e,t),e.prototype.layout=function(e){return this.size=t.prototype.layout.call(this,e)+20+8+6+2+36+8,this.size},e.prototype.write=function(e){var n=t.prototype.write.call(this,e);return r(e,this.offset+n,s(this.creationTime)),r(e,this.offset+n+4,s(this.modificationTime)),r(e,this.offset+n+8,this.trackId),r(e,this.offset+n+12,0),r(e,this.offset+n+16,this.duration),n+=20,r(e,this.offset+n,0),r(e,this.offset+n+4,0),r(e,this.offset+n+8,this.layer<<16|this.alternateGroup),r(e,this.offset+n+12,l(this.volume)<<16),n+=16,r(e,this.offset+n,a(this.matrix[0])),r(e,this.offset+n+4,a(this.matrix[1])),r(e,this.offset+n+8,a(this.matrix[2])),r(e,this.offset+n+12,a(this.matrix[3])),r(e,this.offset+n+16,a(this.matrix[4])),r(e,this.offset+n+20,a(this.matrix[5])),r(e,this.offset+n+24,u(this.matrix[6])),r(e,this.offset+n+28,u(this.matrix[7])),r(e,this.offset+n+32,u(this.matrix[8])),n+=36,r(e,this.offset+n,a(this.width)),r(e,this.offset+n+4,a(this.height)),n+=8},e}(v));h.TrackHeaderBox=E;var S=function(t){function e(e,n,i,r,o){void 0===i&&(i="unk"),void 0===r&&(r=f),void 0===o&&(o=f),t.call(this,"mdhd",0,0),this.timescale=e,this.duration=n,this.language=i,this.creationTime=r,this.modificationTime=o}return d(e,t),e.prototype.layout=function(e){return this.size=t.prototype.layout.call(this,e)+16+4,this.size},e.prototype.write=function(e){var n=t.prototype.write.call(this,e);return r(e,this.offset+n,s(this.creationTime)),r(e,this.offset+n+4,s(this.modificationTime)),r(e,this.offset+n+8,this.timescale),r(e,this.offset+n+12,this.duration),r(e,this.offset+n+16,c(this.language)<<16),n+20},e}(v);h.MediaHeaderBox=S;var k=function(t){function e(e,i){t.call(this,"hdlr",0,0),this.handlerType=e,this.name=i,this._encodedName=n(this.name)}return d(e,t),e.prototype.layout=function(e){return this.size=t.prototype.layout.call(this,e)+8+12+(this._encodedName.length+1),this.size},e.prototype.write=function(e){var n=t.prototype.write.call(this,e);return r(e,this.offset+n,0),r(e,this.offset+n+4,o(this.handlerType)),r(e,this.offset+n+8,0),r(e,this.offset+n+12,0),r(e,this.offset+n+16,0),n+=20,e.set(this._encodedName,this.offset+n),e[this.offset+n+this._encodedName.length]=0,n+=this._encodedName.length+1},e}(v);h.HandlerBox=k;var x=function(t){function e(e){void 0===e&&(e=0),t.call(this,"smhd",0,0),this.balance=e}return d(e,t),e.prototype.layout=function(e){return this.size=t.prototype.layout.call(this,e)+4,this.size},e.prototype.write=function(e){var n=t.prototype.write.call(this,e);return r(e,this.offset+n,l(this.balance)<<16),n+4},e}(v);h.SoundMediaHeaderBox=x;var T=function(t){function e(e,n){void 0===e&&(e=0),void 0===n&&(n=g),t.call(this,"vmhd",0,0),this.graphicsMode=e,this.opColor=n}return d(e,t),e.prototype.layout=function(e){return this.size=t.prototype.layout.call(this,e)+8,this.size},e.prototype.write=function(e){var n=t.prototype.write.call(this,e);return r(e,this.offset+n,this.graphicsMode<<16|this.opColor[0]),r(e,this.offset+n+4,this.opColor[1]<<16|this.opColor[2]),n+8},e}(v);h.VideoMediaHeaderBox=T,h.SELF_CONTAINED_DATA_REFERENCE_FLAG=1;var A=function(t){function e(e,i){void 0===i&&(i=null),t.call(this,"url ",0,e),this.location=i,e&h.SELF_CONTAINED_DATA_REFERENCE_FLAG||(this._encodedLocation=n(i))}return d(e,t),e.prototype.layout=function(e){var n=t.prototype.layout.call(this,e);return this._encodedLocation&&(n+=this._encodedLocation.length+1),this.size=n},e.prototype.write=function(e){var n=t.prototype.write.call(this,e);return this._encodedLocation&&(e.set(this._encodedLocation,this.offset+n),e[this.offset+n+this._encodedLocation.length]=0,n+=this._encodedLocation.length),n},e}(v);h.DataEntryUrlBox=A;var P=function(t){function e(e){t.call(this,"dref",0,0),this.entries=e}return d(e,t),e.prototype.layout=function(e){var n=t.prototype.layout.call(this,e)+4;return this.entries.forEach(function(t){n+=t.layout(e+n)}),this.size=n},e.prototype.write=function(e){var n=t.prototype.write.call(this,e);return r(e,this.offset+n,this.entries.length),this.entries.forEach(function(t){n+=t.write(e)}),n},e}(v);h.DataReferenceBox=P;var I=function(t){function e(e){t.call(this,"dinf",[e]),this.dataReference=e}return d(e,t),e}(y);h.DataInformationBox=I;var C=function(t){function e(e){t.call(this,"stsd",0,0),this.entries=e}return d(e,t),e.prototype.layout=function(e){var n=t.prototype.layout.call(this,e);return n+=4,this.entries.forEach(function(t){n+=t.layout(e+n)}),this.size=n},e.prototype.write=function(e){var n=t.prototype.write.call(this,e);return r(e,this.offset+n,this.entries.length),n+=4,this.entries.forEach(function(t){n+=t.write(e)}),n},e}(v);h.SampleDescriptionBox=C;var D=function(t){function e(e,n,i,r,o){t.call(this,"stbl",[e,n,i,r,o]),this.sampleDescriptions=e,this.timeToSample=n,this.sampleToChunk=i,this.sampleSizes=r,this.chunkOffset=o}return d(e,t),e}(y);h.SampleTableBox=D;var O=function(t){function e(e,n,i){t.call(this,"minf",[e,n,i]),this.header=e,this.info=n,this.sampleTable=i}return d(e,t),e}(y);h.MediaInformationBox=O;var L=function(t){function e(e,n,i){t.call(this,"mdia",[e,n,i]),this.header=e,this.handler=n,this.info=i}return d(e,t),e}(y);h.MediaBox=L;var M=function(t){function e(e,n){t.call(this,"trak",[e,n]),this.header=e,this.media=n}return d(e,t),e}(y);h.TrackBox=M;var R=function(t){function e(e,n,i,r,o){t.call(this,"trex",0,0),this.trackId=e,this.defaultSampleDescriptionIndex=n,this.defaultSampleDuration=i,this.defaultSampleSize=r,this.defaultSampleFlags=o}return d(e,t),e.prototype.layout=function(e){return this.size=t.prototype.layout.call(this,e)+20,this.size},e.prototype.write=function(e){var n=t.prototype.write.call(this,e);return r(e,this.offset+n,this.trackId),r(e,this.offset+n+4,this.defaultSampleDescriptionIndex),r(e,this.offset+n+8,this.defaultSampleDuration),r(e,this.offset+n+12,this.defaultSampleSize),r(e,this.offset+n+16,this.defaultSampleFlags),n+20},e}(v);h.TrackExtendsBox=R;var N=function(t){function e(e,n,r){t.call(this,"mvex",i([e],n,[r])),this.header=e,this.tracDefaults=n,this.levels=r}return d(e,t),e}(y);h.MovieExtendsBox=N;var F=function(t){function e(e,n){t.call(this,"meta",0,0),this.handler=e,this.otherBoxes=n}return d(e,t),e.prototype.layout=function(e){var n=t.prototype.layout.call(this,e);return n+=this.handler.layout(e+n),this.otherBoxes.forEach(function(t){n+=t.layout(e+n)}),this.size=n},e.prototype.write=function(e){var n=t.prototype.write.call(this,e);return n+=this.handler.write(e),this.otherBoxes.forEach(function(t){n+=t.write(e)}),n},e}(v);h.MetaBox=F;var U=function(t){function e(e){t.call(this,"mfhd",0,0),this.sequenceNumber=e}return d(e,t),e.prototype.layout=function(e){return this.size=t.prototype.layout.call(this,e)+4,this.size},e.prototype.write=function(e){var n=t.prototype.write.call(this,e);return r(e,this.offset+n,this.sequenceNumber),n+4},e}(v);h.MovieFragmentHeaderBox=U,function(t){t[t.BASE_DATA_OFFSET_PRESENT=1]="BASE_DATA_OFFSET_PRESENT",t[t.SAMPLE_DESCRIPTION_INDEX_PRESENT=2]="SAMPLE_DESCRIPTION_INDEX_PRESENT",t[t.DEFAULT_SAMPLE_DURATION_PRESENT=8]="DEFAULT_SAMPLE_DURATION_PRESENT",t[t.DEFAULT_SAMPLE_SIZE_PRESENT=16]="DEFAULT_SAMPLE_SIZE_PRESENT",t[t.DEFAULT_SAMPLE_FLAGS_PRESENT=32]="DEFAULT_SAMPLE_FLAGS_PRESENT"}(h.TrackFragmentFlags||(h.TrackFragmentFlags={}));var j=h.TrackFragmentFlags,B=function(t){function e(e,n,i,r,o,s,a){t.call(this,"tfhd",0,e),this.trackId=n,this.baseDataOffset=i,this.sampleDescriptionIndex=r,this.defaultSampleDuration=o,this.defaultSampleSize=s,this.defaultSampleFlags=a}return d(e,t),e.prototype.layout=function(e){var n=t.prototype.layout.call(this,e)+4,i=this.flags;return i&j.BASE_DATA_OFFSET_PRESENT&&(n+=8),i&j.SAMPLE_DESCRIPTION_INDEX_PRESENT&&(n+=4),i&j.DEFAULT_SAMPLE_DURATION_PRESENT&&(n+=4),i&j.DEFAULT_SAMPLE_SIZE_PRESENT&&(n+=4),i&j.DEFAULT_SAMPLE_FLAGS_PRESENT&&(n+=4),this.size=n},e.prototype.write=function(e){var n=t.prototype.write.call(this,e),i=this.flags;return r(e,this.offset+n,this.trackId),n+=4,i&j.BASE_DATA_OFFSET_PRESENT&&(r(e,this.offset+n,0),r(e,this.offset+n+4,this.baseDataOffset),n+=8),i&j.SAMPLE_DESCRIPTION_INDEX_PRESENT&&(r(e,this.offset+n,this.sampleDescriptionIndex),n+=4),i&j.DEFAULT_SAMPLE_DURATION_PRESENT&&(r(e,this.offset+n,this.defaultSampleDuration),n+=4),i&j.DEFAULT_SAMPLE_SIZE_PRESENT&&(r(e,this.offset+n,this.defaultSampleSize),n+=4),i&j.DEFAULT_SAMPLE_FLAGS_PRESENT&&(r(e,this.offset+n,this.defaultSampleFlags),n+=4),n},e}(v);h.TrackFragmentHeaderBox=B;var H=function(t){function e(e){t.call(this,"tfdt",0,0),this.baseMediaDecodeTime=e}return d(e,t),e.prototype.layout=function(e){return this.size=t.prototype.layout.call(this,e)+4,this.size},e.prototype.write=function(e){var n=t.prototype.write.call(this,e);return r(e,this.offset+n,this.baseMediaDecodeTime),n+4},e}(v);h.TrackFragmentBaseMediaDecodeTimeBox=H;var z=function(t){function e(e,n,i){t.call(this,"traf",[e,n,i]),this.header=e,this.decodeTime=n,this.run=i}return d(e,t),e}(y);h.TrackFragmentBox=z,function(t){t[t.IS_LEADING_MASK=201326592]="IS_LEADING_MASK",t[t.SAMPLE_DEPENDS_ON_MASK=50331648]="SAMPLE_DEPENDS_ON_MASK",t[t.SAMPLE_DEPENDS_ON_OTHER=16777216]="SAMPLE_DEPENDS_ON_OTHER",t[t.SAMPLE_DEPENDS_ON_NO_OTHERS=33554432]="SAMPLE_DEPENDS_ON_NO_OTHERS",t[t.SAMPLE_IS_DEPENDED_ON_MASK=12582912]="SAMPLE_IS_DEPENDED_ON_MASK",t[t.SAMPLE_HAS_REDUNDANCY_MASK=3145728]="SAMPLE_HAS_REDUNDANCY_MASK",t[t.SAMPLE_PADDING_VALUE_MASK=917504]="SAMPLE_PADDING_VALUE_MASK",t[t.SAMPLE_IS_NOT_SYNC=65536]="SAMPLE_IS_NOT_SYNC",t[t.SAMPLE_DEGRADATION_PRIORITY_MASK=65535]="SAMPLE_DEGRADATION_PRIORITY_MASK"}(h.SampleFlags||(h.SampleFlags={}));h.SampleFlags;!function(t){t[t.DATA_OFFSET_PRESENT=1]="DATA_OFFSET_PRESENT",t[t.FIRST_SAMPLE_FLAGS_PRESENT=4]="FIRST_SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_DURATION_PRESENT=256]="SAMPLE_DURATION_PRESENT",
t[t.SAMPLE_SIZE_PRESENT=512]="SAMPLE_SIZE_PRESENT",t[t.SAMPLE_FLAGS_PRESENT=1024]="SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_COMPOSITION_TIME_OFFSET=2048]="SAMPLE_COMPOSITION_TIME_OFFSET"}(h.TrackRunFlags||(h.TrackRunFlags={}));var q=h.TrackRunFlags,$=function(t){function e(e,n,i,r){t.call(this,"trun",1,e),this.samples=n,this.dataOffset=i,this.firstSampleFlags=r}return d(e,t),e.prototype.layout=function(e){var n=t.prototype.layout.call(this,e)+4,i=this.samples.length,r=this.flags;return r&q.DATA_OFFSET_PRESENT&&(n+=4),r&q.FIRST_SAMPLE_FLAGS_PRESENT&&(n+=4),r&q.SAMPLE_DURATION_PRESENT&&(n+=4*i),r&q.SAMPLE_SIZE_PRESENT&&(n+=4*i),r&q.SAMPLE_FLAGS_PRESENT&&(n+=4*i),r&q.SAMPLE_COMPOSITION_TIME_OFFSET&&(n+=4*i),this.size=n},e.prototype.write=function(e){var n=t.prototype.write.call(this,e),i=this.samples.length,o=this.flags;r(e,this.offset+n,i),n+=4,o&q.DATA_OFFSET_PRESENT&&(r(e,this.offset+n,this.dataOffset),n+=4),o&q.FIRST_SAMPLE_FLAGS_PRESENT&&(r(e,this.offset+n,this.firstSampleFlags),n+=4);for(var s=0;i>s;s++){var a=this.samples[s];o&q.SAMPLE_DURATION_PRESENT&&(r(e,this.offset+n,a.duration),n+=4),o&q.SAMPLE_SIZE_PRESENT&&(r(e,this.offset+n,a.size),n+=4),o&q.SAMPLE_FLAGS_PRESENT&&(r(e,this.offset+n,a.flags),n+=4),o&q.SAMPLE_COMPOSITION_TIME_OFFSET&&(r(e,this.offset+n,a.compositionTimeOffset),n+=4)}return n},e}(v);h.TrackRunBox=$;var V=function(t){function e(e,n){t.call(this,"moof",i([e],n)),this.header=e,this.trafs=n}return d(e,t),e}(y);h.MovieFragmentBox=V;var W=function(t){function e(e){t.call(this,"mdat"),this.chunks=e}return d(e,t),e.prototype.layout=function(e){var n=t.prototype.layout.call(this,e);return this.chunks.forEach(function(t){n+=t.length}),this.size=n},e.prototype.write=function(e){var n=this,i=t.prototype.write.call(this,e);return this.chunks.forEach(function(t){e.set(t,n.offset+i),i+=t.length},this),i},e}(m);h.MediaDataBox=W;var G=function(t){function e(e,n){t.call(this,e),this.dataReferenceIndex=n}return d(e,t),e.prototype.layout=function(e){return this.size=t.prototype.layout.call(this,e)+8,this.size},e.prototype.write=function(e){var n=t.prototype.write.call(this,e);return r(e,this.offset+n,0),r(e,this.offset+n+4,this.dataReferenceIndex),n+8},e}(m);h.SampleEntry=G;var K=function(t){function e(e,n,i,r,o,s){void 0===i&&(i=2),void 0===r&&(r=16),void 0===o&&(o=44100),void 0===s&&(s=null),t.call(this,e,n),this.channelCount=i,this.sampleSize=r,this.sampleRate=o,this.otherBoxes=s}return d(e,t),e.prototype.layout=function(e){var n=t.prototype.layout.call(this,e)+20;return this.otherBoxes&&this.otherBoxes.forEach(function(t){n+=t.layout(e+n)}),this.size=n},e.prototype.write=function(e){var n=t.prototype.write.call(this,e);return r(e,this.offset+n,0),r(e,this.offset+n+4,0),r(e,this.offset+n+8,this.channelCount<<16|this.sampleSize),r(e,this.offset+n+12,0),r(e,this.offset+n+16,this.sampleRate<<16),n+=20,this.otherBoxes&&this.otherBoxes.forEach(function(t){n+=t.write(e)}),n},e}(G);h.AudioSampleEntry=K,h.COLOR_NO_ALPHA_VIDEO_SAMPLE_DEPTH=24;var Y=function(t){function e(e,n,i,r,o,s,a,u,l,c){if(void 0===o&&(o=""),void 0===s&&(s=72),void 0===a&&(a=72),void 0===u&&(u=1),void 0===l&&(l=h.COLOR_NO_ALPHA_VIDEO_SAMPLE_DEPTH),void 0===c&&(c=null),t.call(this,e,n),this.width=i,this.height=r,this.compressorName=o,this.horizResolution=s,this.vertResolution=a,this.frameCount=u,this.depth=l,this.otherBoxes=c,o.length>31)throw new Error("invalid compressor name")}return d(e,t),e.prototype.layout=function(e){var n=t.prototype.layout.call(this,e)+16+12+4+2+32+2+2;return this.otherBoxes&&this.otherBoxes.forEach(function(t){n+=t.layout(e+n)}),this.size=n},e.prototype.write=function(e){var n=t.prototype.write.call(this,e);r(e,this.offset+n,0),r(e,this.offset+n+4,0),r(e,this.offset+n+8,0),r(e,this.offset+n+12,0),n+=16,r(e,this.offset+n,this.width<<16|this.height),r(e,this.offset+n+4,a(this.horizResolution)),r(e,this.offset+n+8,a(this.vertResolution)),n+=12,r(e,this.offset+n,0),r(e,this.offset+n+4,this.frameCount<<16),n+=6,e[this.offset+n]=this.compressorName.length;for(var i=0;31>i;i++)e[this.offset+n+i+1]=i<this.compressorName.length?127&this.compressorName.charCodeAt(i):0;return n+=32,r(e,this.offset+n,this.depth<<16|65535),n+=4,this.otherBoxes&&this.otherBoxes.forEach(function(t){n+=t.write(e)}),n},e}(G);h.VideoSampleEntry=Y;var X=function(t){function e(e,n){t.call(this,e),this.data=n}return d(e,t),e.prototype.layout=function(e){return this.size=t.prototype.layout.call(this,e)+this.data.length,this.size},e.prototype.write=function(e){var n=t.prototype.write.call(this,e);return e.set(this.data,this.offset+n),n+this.data.length},e}(m);h.RawTag=X},function(t,e,n){(function(e){var i,r=n(74),o=n(69),s=(o.BaseTransform,n(108));n(109);t.exports=i=function(){o.BaseParser.prototype.constructor.apply(this,arguments),this.parser=new s,this.parser.onFrame=this._onMp3Frame.bind(this),this.parser.onNoise=this._onNoise.bind(this),this.parser.onClose=this._onClose.bind(this),this._sampleRate=0,this._bitRate=0,this._timestamp=0},i.prototype=o.createBaseParser({constructor:i,_onMp3Frame:function(t,n,i){r("Found frame length "+t.length+" bitRate="+n+", sampleRate="+i);var s=new e(t),a=1152;s.meta={mimeType:"audio/mpeg",codecId:2,channels:2,bitRate:n,sampleRate:i,sampleSize:16},s.duration=a,s.timestamp=this._timestamp,this.enqueue(new o.Transfer(s,"buffer")),this._bitRate=n,this._timestamp+=a},_onNoise:function(){r("mp3 has noise")},_onClose:function(){r("parser closed")},_parse:function(t){return r("parse called"),t.data.empty?(r("empty transfer"),void this.enqueue(t)):void this.parser.push(new Uint8Array(t.data))}})}).call(e,n(70).Buffer)},function(t,e,n){var i=n(74),r=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],o=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],s=function(){function t(){this.buffer=null,this.bufferSize=0}return t.prototype.push=function(t){var e;if(this.bufferSize>0){var n=t.length+this.bufferSize;if(!this.buffer||this.buffer.length<n){var r=new Uint8Array(n);this.bufferSize>0&&r.set(this.buffer.subarray(0,this.bufferSize)),this.buffer=r}this.buffer.set(t,this.bufferSize),this.bufferSize=n,t=this.buffer,e=n}else e=t.length;i("push "+e);for(var o,s=0;e>s&&(o=this._parse(t,s,e))>0;)s+=o;var a=e-s;a>0&&(!this.buffer||this.buffer.length<a?this.buffer=new Uint8Array(t.subarray(s,e)):this.buffer.set(t.subarray(s,e))),this.bufferSize=a},t.prototype._parse=function(t,e,n){if(i("_parse"),e+2>n)return-1;if(255===t[e]||224===(224&t[e+1])){if(e+24>n)return-1;var s=t[e+1]>>3&3,a=t[e+1]>>1&3,u=t[e+2]>>4&15,l=t[e+2]>>2&3,c=!!(2&t[e+2]);if(1!==s&&0!==u&&15!==u&&3!==l){var h=3===s?3-a:3===a?3:4,d=1e3*r[14*h+u-1],f=3===s?0:2===s?1:2,p=o[3*f+l],g=c?1:0,m=3===a?(3===s?12:6)*d/p+g<<2:(3===s?144:72)*d/p+g|0;return e+m>n?-1:(this.onFrame&&(i("onFrame"),this.onFrame(t.subarray(e,e+m),d,p)),m)}}for(var v=e+2;n>v;){if(255===t[v-1]&&224===(224&t[v]))return this.onNoise&&this.onNoise(t.subarray(e,v-1)),v-e-1;v++}return-1},t.prototype.close=function(){this.bufferSize>0&&this.onNoise&&this.onNoise(this.buffer.subarray(0,this.bufferSize)),this.buffer=null,this.bufferSize=0,this.onClose&&this.onClose()},t}();t.exports=s},function(t,e){var n=1e9;t.exports={TIMESCALE_SECONDS:n}},function(t,e,n){var i,r=n(111),o=n(69),s=o.BaseSink,a=n(112);t.exports=i=function(t){if(s.prototype.constructor.call(this),!r.haveMediaSourceSupportMimeType(t))throw new Error("Local MediaSource doesn't support provided MIME type: "+t);var e;e=arguments.length>1?Array.prototype.slice.call(arguments):t instanceof Array?t:[t],this.mimeTypes=e,this.mediaSource=new MediaSource,this.mseWriter=new a(this.mediaSource),this.dataSources=[],this.selectedDataSourceIndex=0,this.mimeTypes.forEach(function(t){var e={mimeType:t};this.mseWriter.listen(e),this.dataSources.push(e)}.bind(this))},i.prototype=o.createBaseSink({constructor:i,_onData:function(){var t=this.dataSources[this.selectedDataSourceIndex];if(!t||!t.onData)throw new Error("DataSource is not existing or has no onData function defined");var e=this.dequeue();e&&t.onData(e.data)},getMediaSourceUrl:function(){return URL.createObjectURL(this.mediaSource)}})},function(t,e){var n;t.exports=n={haveGlobalWindow:function(){return"undefined"!=typeof window},haveMediaSourceExtensions:function(){return n.haveGlobalWindow()&&window.MediaSource},haveMediaSourceSupportMimeType:function(t){return n.haveMediaSourceExtensions()&&window.MediaSource.isTypeSupported(t)}}},function(t,e){var n=function(){function t(t,e){this.mediaSource=t,this.dataSource=e,this.dataSource.onData=this.pushData.bind(this),this.updateEnabled=!1,this.buffer=[],this.sourceBuffer=null,this.sourceBufferUpdatedBound=null}return t.prototype.allowWriting=function(){this.updateEnabled=!0,this.update()},t.prototype.pushData=function(t){this.buffer.push(t),this.update()},t.prototype.update=function(){if(this.updateEnabled&&0!==this.buffer.length){this.sourceBuffer||(this.sourceBuffer=this.mediaSource.addSourceBuffer(this.dataSource.mimeType),this.sourceBufferUpdatedBound=this._sourceBufferUpdated.bind(this),this.sourceBuffer.addEventListener("update",this.sourceBufferUpdatedBound)),this.updateEnabled=!1;var t=this.buffer.shift();if(null===t)return void this.sourceBuffer.removeEventListener("update",this.sourceBufferUpdatedBound);t.timestamp&&(this.sourceBuffer.timestampOffset=t.timestamp/1e9),this.sourceBuffer.appendBuffer(t)}},t.prototype._sourceBufferUpdated=function(t){this.updateEnabled=!0,this.update()},t.prototype.finish=function(){this.buffer.push(null),this.update()},t}(),i=function(){function t(t){this.bufferWriters=[],this.mediaSource=t,this.mediaSourceOpened=!1,this.mediaSource.addEventListener("sourceopen",function(t){this.mediaSourceOpened=!0,this.bufferWriters.forEach(function(t){t.allowWriting()})}.bind(this)),this.mediaSource.addEventListener("sourceend",function(t){this.mediaSourceOpened=!1}.bind(this))}return t.prototype.listen=function(t){var e=new n(this.mediaSource,t);this.bufferWriters.push(e),this.mediaSourceOpened&&e.allowWriting()},t}();t.exports=i},function(t,e,n){var i,r,o=n(69);r=function(t){o.BasePushSrc.prototype.constructor.call(this);var e=this.req=new XMLHttpRequest;e.open("GET",t,!0),e.responseType="arraybuffer",e.onload=function(t){this.enqueue(new o.Transfer(new Uint8Array(e.response),"binary")),this.enqueue(new o.Transfer(null,"binary"))}.bind(this),e.send()},r.prototype=o.createBasePushSrc({constructor:r}),t.exports=i={Src:r}},function(t,e,n){var i,r,o,s=n(69),a=n(115);n(76);r=function(t,e){s.prototype.constructor.call(this);var n=a.createReadStream(t,e);this.on("end",function(){n.close()}),this.addOutput(n)},r.prototype=s.create({constructor:r}),o=function(t,e){s.prototype.constructor.call(this);var n=a.createWriteStream(t,e);this.on("finish",function(){n.close()}),this.addInput(n)},o.prototype=s.create({constructor:o}),t.exports=i={Src:r,Sink:o}},function(t,e,n){var i=n(111);t.exports=i.haveGlobalWindow()?new(n(116)):n(!function(){var t=new Error('Cannot find module "fs"');throw t.code="MODULE_NOT_FOUND",t}())},function(t,e,n){!function(e){t.exports=e()}(function(){function t(){return!1}function e(t){return!(!(t&&t.data instanceof Object)||n(t))}function n(t){return!!(t&&t.data instanceof ArrayBuffer)}function i(t,n){var i,r=t.length,o=n;for(i=0;r>i;++i){if(!e(o))throw new Error("ENOENT");o=o.data[t[i]]}return o}String.prototype.trim||!function(){var t=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;String.prototype.trim=function(){return this.replace(t,"")}}();var r={utf8:"utf-8",utf16le:"utf-16le",utf16be:"utf-16be"},o=function(t){var e=Date.now();this.root={mtime:e,ctime:e,atime:e,data:{}},this.fnDone=function(){var e=arguments;"function"==typeof t&&setTimeout(function(){t.apply(null,e)},0)}};return o.prototype.arrayBufferToString=function(t,e){return"undefined"==typeof TextDecoder?String.fromCharCode.apply(null,new Uint16Array(t)):(e=r[e]||"utf8",new TextDecoder(e).decode(new DataView(t)))},o.prototype.stringToArrayBuffer=function(t,e){var n;if(e=r[e]||"utf8","undefined"==typeof TextEncoder){n=new ArrayBuffer(2*t.length);for(var i=new Uint16Array(n),o=0,s=t.length;s>o;++o)i[o]=t.charCodeAt(o)}else n=new TextEncoder(e).encode(t).buffer;return n},o.prototype.getNode=function(t){return i(this.parsePath(t),this.root)},o.prototype.joinPath=function(){var t=[],e=arguments||[];return t=this.parsePath(Array.prototype.slice.call(e).join("/")),("/"===e[0][0]?"/":"")+t.join("/")},o.prototype.parsePath=function(t){var e=[];return t=t||"/",t.split(/\/+/).forEach(function(t){t=t.trim(),t.length&&"."!==t&&(".."===t?e.pop():e.push(t))}),e},o.prototype.normalizePath=function(t){return"/"+this.parsePath(t).join("/")},o.prototype.dirname=function(t){var e=this.parsePath(t);return e=e.slice(0,e.length-1),"/"+e.join("/")},o.prototype.basename=function(t){var e=this.parsePath(t);return e.length?e.pop():""},o.prototype.fileSizeSI=function(t,e,n,i,r){return(e=Math,n=e.log,i=1e3,r=n(t)/n(i)|0,t/e.pow(i,r)).toFixed(r?2:0)+" "+(r?"kMGTPEZY"[--r]+"B":"Bytes")},o.prototype.fileSizeIEC=function(t,e,n,i,r){return(e=Math,n=e.log,i=1024,r=n(t)/n(i)|0,t/e.pow(i,r)).toFixed(r?2:0)+" "+(r?"KMGTPEZY"[--r]+"iB":"Bytes")},o.prototype.statSync=function(n){var r=this.parsePath(n),o=i(r,this.root),s=e(o);if(!o||!o.data)throw new Error("ENOENT");return this.fnDone("stat",n),{size:s?Object.keys(o.data).length:o.data.byteLength,ctime:new Date(o.ctime),mtime:new Date(o.mtime),atime:new Date(o.atime),isFile:function(){return!s},isDirectory:function(){return s},isBlockDevice:t,isCharacterDevice:t,isSymbolicLink:t,isFIFO:t,isSocket:t}},o.prototype.existsSync=function(t){var n,i=this.parsePath(t),r=i.length,o=this.root;for(n=0;r>n;++n){if(!e(o))return this.fnDone("exists",t),!1;o=o.data[i[n]]}return this.fnDone("exists",t),!!o},o.prototype.mkdirSync=function(t){var n=this.parsePath(t),r=i(n.slice(0,n.length-1),this.root),o=Date.now();if(!n.length||!e(r))throw new Error("ENODIR");return r.data[n[n.length-1]]={data:{},ctime:o,mtime:o,atime:o},r.mtime=o,this.fnDone("mkdir",t),this},o.prototype.mkdirpSync=function(t){var r,o,s,a=this.parsePath(t),u=a.length;if(!a.length)throw new Error("ENODIR");for(o=0;u>o;++o){if(r=a.slice(0,o+1),s=i(r,this.root),n(s))throw new Error("ENODIR");e(s)||this.mkdirSync(r.join("/"))}return this.fnDone("mkdirp",t),this},o.prototype.readdirSync=function(t){var n=this.parsePath(t),r=i(n,this.root);if(!e(r))throw new Error("ENODIR");return r.atime=Date.now(),this.fnDone("readdir",t),Object.keys(r.data)},o.prototype.rmdirSync=function(t){var n=this.parsePath(t),r=i(n,this.root),o=n.pop(),s=i(n,this.root);if(!e(r))throw new Error("ENODIR");if(Object.keys(r.data).length)throw new Error("ENOTEMPTY");return delete s.data[o],s.mtime=Date.now(),this.fnDone("rmdir",t),this},o.prototype.unlinkSync=function(t){var e=this.dirname(t),n=this.basename(t),r=i(this.parsePath(e),this.root);return delete r.data[n],r.mtime=Date.now(),this.fnDone("unlink",t),this},o.prototype.rmrfSync=function(t){var n=this.parsePath(t),r=n.pop(),o=i(n,this.root);if(!e(o))throw new Error("ENODIR");return r?delete o.data[r]:o.data={},o.mtime=Date.now(),this.fnDone("rmrf",t),this},o.prototype.writeFileSync=function(t,n,r){var o,s,a=this.parsePath(t),u=a.pop(),l=this.existsSync(t),c=i(a,this.root);if(!e(c))throw new Error("ENODIR");if(!u)throw new Error("EINVALIDPATH");return"string"==typeof r&&(r={encoding:r}),r=r||{encoding:null},o="string"==typeof n?this.stringToArrayBuffer(n,r.encoding):n,s=Date.now(),l?(c.data[u].data=o,c.data[u].atime=s,c.data[u].mtime=s):(c.data[u]={data:o,ctime:s,mtime:s,atime:s},c.mtime=s),c.atime=s,this.fnDone("writeFile",t),this},o.prototype.readFileSync=function(t,e){var r=this.parsePath(t),o=i(r,this.root);if("string"==typeof e&&(e={encoding:e}),e=e||{encoding:null},!n(o))throw new Error("ENOENT");return o.atime=Date.now(),this.fnDone("readFile",t),e.encoding?this.arrayBufferToString(o.data,e.encoding):o.data},o.prototype.renameSync=function(t,n){var r=this.parsePath(t),o=i(r,this.root),s=i(r.slice(0,r.length-1),this.root),a=r[r.length-1],u=this.parsePath(n),l=i(u,this.root),c=i(u.slice(0,u.length-1),this.root),h=u[u.length-1],d=Date.now();if(!r.length||!u.length)throw new Error("ENOENT");if(!e(s||!e(c)))throw new Error("ENODIR");if(l)throw new Error("EEXISTS");return c.data[h]=l=o,l.ctime=d,c.mtime=d,delete s.data[a],s.mtime=d,this.fnDone("rename",{oldPath:t,newPath:n}),this},["stat","exists","readdir","mkdirp","mkdir","rmdir","rmrf","unlink"].forEach(function(t){o.prototype[t]=function(e,n){var i;try{i=this[t+"Sync"](e)}catch(r){return n(r)}return n(null,i)}}),["writeFile","readFile"].forEach(function(t){o.prototype[t]=function(e,n,i){var r;i||(i=n,n=void 0);try{r=this[t+"Sync"](e,n)}catch(o){return i(o)}return i(null,r)}}),["rename"].forEach(function(t){o.prototype[t]=function(e,n,i){var r;try{r=this[t+"Sync"](e,n)}catch(o){return i(o)}return i(null,r)}}),o})},function(t,e){var n={HTTP:"http",RTMP:"rtmp",HLS:"hls"};t.exports=n},function(t,e){t.exports={AAC:"audio/aac",M3U8:"application/x-mpegURL",HLS:"application/vnd.apple.mpegurl",MP4A:"audio/mp4",MP3:"audio/mpeg",OGG:"audio/ogg",WAV:"audio/wav",WEBMA:"audio/webm",getTypeByExtension:function(t){var e={mp3:this.MP3,aac:this.AAC,mp4:this.MP4A,mp4a:this.MP4A,ogg:this.OGG,oga:this.OGG,opus:this.OGG,webm:this.WEBM,wav:this.WAV,m3u8:this.M3U8};return e[t]||null}}},function(t,e,n,i,r){function o(t,e){return null==e?t:s(e,a(e),t)}var s=n(i),a=n(r);t.exports=o},function(t,e,n,i,r,o){function s(t){return function(e){return null==e?void 0:e[t]}}function a(t){return null!=t&&l(w(t))}function u(t,e){return t="number"==typeof t||m.test(t)?+t:-1,e=null==e?b:e,t>-1&&t%1==0&&e>t}function l(t){return"number"==typeof t&&t>-1&&t%1==0&&b>=t}function c(t){for(var e=d(t),n=e.length,i=n&&t.length,r=!!i&&l(i)&&(g(t)||p(t)),o=-1,s=[];++o<n;){var a=e[o];(r&&u(a,i)||_.call(t,a))&&s.push(a)}return s}function h(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function d(t){if(null==t)return[];h(t)||(t=Object(t));var e=t.length;e=e&&l(e)&&(g(t)||p(t))&&e||0;for(var n=t.constructor,i=-1,r="function"==typeof n&&n.prototype===t,o=Array(e),s=e>0;++i<e;)o[i]=i+"";for(var a in t)s&&u(a,e)||"constructor"==a&&(r||!_.call(t,a))||o.push(a);return o}var f=n(i),p=n(r),g=n(o),m=/^\d+$/,v=Object.prototype,_=v.hasOwnProperty,y=f(Object,"keys"),b=9007199254740991,w=s("length"),E=y?function(t){var e=null==t?void 0:t.constructor;return"function"==typeof e&&e.prototype===t||"function"!=typeof t&&a(t)?c(t):h(t)?y(t):[]}:c;t.exports=E},function(t,e,n,i){function r(t,e){return p(t,e,h)}function o(t){return function(e){return null==e?void 0:e[t]}}function s(t,e){return function(n,i){var r=n?g(n):0;if(!u(r))return t(n,i);for(var o=e?r:-1,s=l(n);(e?o--:++o<r)&&i(s[o],o,s)!==!1;);return n}}function a(t){return function(e,n,i){for(var r=l(e),o=i(e),s=o.length,a=t?s:-1;t?a--:++a<s;){var u=o[a];if(n(r[u],u,r)===!1)break}return e}}function u(t){return"number"==typeof t&&t>-1&&t%1==0&&d>=t}function l(t){return c(t)?t:Object(t)}function c(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}var h=n(i),d=9007199254740991,f=s(r),p=a(),g=o("length");t.exports=f}]))},function(t,e,n){t.exports=n.p+"assets/swf/flashAudio-79a391.swf"},function(t,e){!function(){function e(){clearTimeout(M),x=T=A=P=I=C=D=O=R=M=void 0,N=[],L=function(){throw new Error("EventGateway must be initialized")}}function n(){return Math.floor(1e6*Math.random())}function i(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function r(t,e){var n,r=i(t);for(n in e)e.hasOwnProperty(n)&&(r[n]=e[n]);return r}function o(t){return t="object"==typeof t?t:{},t.context=t.context||{},t.context.scope=t.context.scope||[],t}function s(t){return t.replace(z,"v$&")}function a(t,e,n){var i=t[n];return"object"==typeof i?e[n]=Object.keys(E(i)).reduce(a.bind(null,i),{}):e[n]=""+i,e}function u(t,e){var n=E(e);return"0.0.0"===t?Object.keys(n).reduce(a.bind(null,n),{}):n}function l(t,e,n,i){var r=D+(e?"/v1/events":"/v1/event"),o=JSON.stringify(t);if(i&&q)window.navigator.sendBeacon(r,o);else{var s=new window.XMLHttpRequest;s.onload=p.bind(null,s),s.onerror=g.bind(null,s,n&&l.bind(null,t,e,!1,!1)),s.open("post",r,!0),s.send(JSON.stringify(t))}}function c(t){R?(N.push(t),M||(M=setTimeout(h,R))):l(t,!1,!0,!1)}function h(t){clearTimeout(M),M=null,N.length&&(l(N.slice(),!0,!0,!!t),N.length=0)}function d(t,e,n){var i=Date.now(),r=window.location.href;S(n).then(function(n){var o,a;if(n=n||{},n.anonymous_id=x,n.client_id=I,n.ts=i,n.url=n.url||r,C&&(n.app_version=C),P)for(o in P)n["exp_"+o]=P[o];A&&(n.origin=A),O&&!n.user&&(n.user=O),(a=document.referrer).length>0&&(n.referrer=a),c({event:t,version:s(e),payload:u(e,n)})})}function f(t){t.onload=t.onerror=null}function p(t){f(t)}function g(t,e){f(t),e&&!/^4/.test(t.status)&&setTimeout(e,B)}function m(t,e){for(var n=0,i=e.length;i>n;n++)if(void 0===t[e[n]])return!0;return!1}function v(t){return t?_("users",t):x}function _(t,e){return["soundcloud",t,e].join(":")}function y(t,e){e&&(t.query_urn=e.queryUrn,t.query_position=e.position)}function b(){}function w(t){var e,n,i={};if(t)for(e=1;e<arguments.length;++e)n=arguments[e],n in t&&(i[n]=t[n]);return i}function E(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!=t[e]&&(n[e]=t[e]);return n}function S(t){return t&&"function"==typeof t.then?t:{then:function(e){return S(e(t))}}}var k,x,T,A,P,I,C,D,O,L,M,R,N,F="sc_anonymous_id",U=3e4,j=1e3,B=3e4,H="https://eventgateway.soundcloud.com",z=/^[^v]/,q=!!window.navigator.sendBeacon;e(),k={_anonymousId:null,initialize:function(t){if(!T){if(!t.id)throw new Error("EventGateway: You need to pass an id");A=t.origin,t.user&&(O=_("users",t.user)),x=this._anonymousId=k.getAnonymousId(),this.checkpointIntervals={},I=t.id,C=t.appVersion||null,D=t.trackingUrl||H,R=t.batchTimeout||!1,T=!0,L=b}},deinitialize:function(){e()},setUser:function(t){O=_("users",t)},setExperiments:function(t){P=t},getAnonymousId:function(){var t=k.anonymousIdStore.get();return t&&"undefined"!==t||(t=[n(),n(),n(),n()].join("-"),k.anonymousIdStore.set(t)),t},logEvent:d,pageview:function(t,e,n,i){L(),d("pageview","0.0.0",S(i).then(function(i){i=o(i);var s=v(t),a={user:s,level:e,chapter:n.join("::"),page_name:i.page_name,page_urn:i.page_urn,query_urn:i.query_urn,locale:i.locale};return r(a,i.params)}))},impression:function(t,e){L(),d("impression","1.16.0",S(e).then(function(t){t=o(t);var e=w(t,"impression_name","impression_category","impression_object","page_name","page_urn","ad_urn","monetized_object","monetization_type","promoted_by","external_media");return e.page_context=t.context.scope.join(":"),e}))},click:function(t,e,n,i){L(),d("click","0.0.0",S(i).then(function(i){i=o(i);var s={ad_urn:i.ad_urn,campaign:i.context.campaign,chapter:n.join("::"),context:i.context.scope.join(":"),external_media:i.external_media,level:e,monetization_type:i.monetization_type,monetized_object:i.monetized_object,promoted_by:i.promoted_by,urn:i.urn,user:v(t),click_name:i.click_name,click_object:i.click_object,click_target:i.click_target,page_name:i.page_name,page_urn:i.page_urn};return y(s,i.context.attribution),r(s,i.params)}))},audio:function(t){L(),d("audio","1.16.0",S(t).then(function(t){var e,n=t.id,r="soundcloud:tracks:"+n,o=this.checkpointIntervals,s="number"==typeof t.checkpointInterval&&t.checkpointInterval>=j?t.checkpointInterval:null,a=w(t,"page_name","page_urn","source","in_playlist","playlist_position","reposted_by","track_length","protocol","action","trigger","ad_urn","monetization_type","promoted_by","policy","monetization_model");if(y(a,t.attribution),a.track=r,a.track_owner=_("users",t.trackOwnerId),a.playhead_position=t.playheadPosition,a.monetized_object=t.monetized_urn,clearInterval(o[n]),"play"===t.action){var u=Date.now()+t.track_length;e=i(a),e.action="checkpoint",o[n]=setInterval(function(){Date.now()<u?d("audio","1.16.0",e):clearInterval(o[n])},s||U)}else delete o[n];return a}.bind(this)))},audioPerformance:function(t){L(),d("audio_performance","0.0.0",S(t).then(function(t){if(m(t,["type","latency","protocol","playertype","host"]))throw new Error("EventGateway — AudioPerformance : One or multiple mandatory arguments are missing");return{type:t.type,latency:t.latency,protocol:t.protocol,player_type:t.playertype,host:t.host}}))},audioError:function(t){L(),d("audio_error","0.0.0",S(t).then(function(t){if(m(t,["error_code","protocol","player_type","host","url"]))throw new Error("EventGateway — AudioError : One or multiple mandatory arguments are missing");return{error_code:t.error_code,protocol:t.protocol,player_type:t.player_type,host:t.host,url:t.url}}))},appLoad:function(t,e){L(),d("appload","0.0.0",S(e).then(function(e){return{latency:e.latency,user:v(t),level:e.level}}))},statsView:function(t,e){d("stats_view","0.0.0",S(e).then(function(e){var n=v(t);return r({user:n},e)}))},anonymousIdStore:{get:function(){var t=document.cookie.split(F+"=");return t.length>1&&t[1].split(";")[0]},set:function(t){var e,n="."+window.location.hostname.replace(/.*\.(.+\..+)/,"$1"),i=new Date;i.setTime(i.getTime()+31536e7),e="; expires="+i.toGMTString(),document.cookie=F+"="+t+e+"; path=/; domain="+n}},flush:h},"undefined"!=typeof t&&t.exports?t.exports=k:(window.SC=window.SC||{},window.SC.EventGateway=k)}()},function(t,e,n){var i=n(55);t.exports={401:function(t){var e=-1!==t.responseText.indexOf("geo_blocked");e||i.logout()}}},function(t,e){t.exports=function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){function i(t){return this._hooksPause.every(function(e){return e(t)})}function r(t){var e=t.resource_id||t.id||t.cid;if(!e)throw new Error("Your model should have a unique `id`, `cid` or `resource_id` property");return e}function o(t){U=t,t&&(F.AudioManagerStates=t.States)}function s(){var t=$();return p.call(this,!0).done(function(e){t.resolve(e.url)}).fail(function(){t.reject()}),t.promise()}function a(t){var e,n=this.options;return e={id:this.getId(),src:t.url,duration:Q.result(n.duration),title:this.options.title,mimeType:t.mimeType,forceSingle:n.useSinglePlayer},U.createAudioPlayer(e,{streamUrlProvider:s.bind(this)})}function u(t,e){var n=e?"on":"off";t[n]("state-change",C,this)[n]("position-change",c,this)[n]("metadata",l,this)}function l(){this.trigger(V.METADATA)}function c(){this._prevPosition!==this.currentTime()&&(this.trigger(V.TIME),this._prevPosition=this.currentTime())}function h(){this._initAudioDefer&&(this._initAudioDefer.reject(),this._initAudioDefer=null,this.streamInfo=null)}function d(){h.call(this),this.controller&&(this._storedPosition=this.currentTime(),this.controller.kill(),this.controller=null,this.trigger(V.RESET))}function f(){this._registerPlays=!0,this.pause(),this.trigger(V.FINISH)}function p(t){var e=$(),n=this.streamInfo&&!t;return n?e.resolve(this.streamInfo):g.call(this).done(function(t){var n=X.choosePreferredStream(t,this.options);n?e.resolve(n):(this.trigger(V.NO_PROTOCOL),j.warn("(%s) Could not match a protocol of given media descriptor to one of the supported protocols (%s), aborting attempt to play.",this.getId(),this.options.protocols),e.reject())}.bind(this)).fail(function(t){j.warn("(%s) Stream request failed with status: %d",this.getId(),t.status),v.call(this,t),_.call(this,t),m.call(this,t),y.call(this,t),e.reject()}.bind(this)),e.promise()}function g(){if(this.options.streamUrls&&!this._usedPrefetchUrls){var t,e=$();return this._usedPrefetchUrls=!0,t=Q.result(this.options.streamUrls),e.resolve(t),e.promise()}return this.ajax({type:"GET",url:Q.result(this.options.streamUrlsEndpoint),dataType:"json",async:this.options.asyncFetch,timeout:this.options.asyncFetch?ot:rt})}function m(t){t.status>=400&&t.status<500&&this.trigger(V.REQUEST_FAILURE)}function v(t){var e=t.status>=400&&t.status<500&&-1!==(t.responseText||"").indexOf("geo_blocked");e&&this.trigger(V.GEO_BLOCKED)}function _(t){0===t.status&&this.trigger(V.NO_CONNECTION)}function y(t){t.status>=500&&this.trigger(V.API_FAILURE)}function b(){return this.controller&&this.controller.getCapabilities&&this.controller.getCapabilities()?this.controller.getCapabilities().needsUrlRefresh:!0}function w(t){if(!b.call(this))return!0;var e=this._initAudioDefer&&this._initAudioDefer.state(),n=X.streamValidForPlayingFrom(this.streamInfo,t);return this.controller&&this.controller.hasStreamUrlProvider&&this.controller.hasStreamUrlProvider()?!0:e&&("pending"===e||"resolved"===e&&n)}function E(t){t&&!this._bufferingTimeout?this._bufferingTimeout=window.setTimeout(function(){this._isBuffering=!0,this.trigger(V.BUFFERRING_START)}.bind(this),st):t||(this._bufferingTimeout&&(window.clearTimeout(this._bufferingTimeout),this._bufferingTimeout=null),this._isBuffering&&(this._isBuffering=!1,this.trigger(V.BUFFERRING_END)))}function S(){this.off(V.TIME,this.seekTimeEventHandler),this.trigger(V.SEEKED),this.seekTimeEventHandler=null}function k(){this._errorRecoveryFlagsResetTimeout=window.setTimeout(function(){this._errorRecoveryTime=null,this._errorRecoveryCounts=0}.bind(this),ct)}function x(){this._errorRecoveryFlagsResetTimeout&&window.clearTimeout(this._errorRecoveryFlagsResetTimeout)}function T(){var t=this.isPlaying(),e=Date.now();return x.call(this),this._errorRecoveryTime&&this._errorRecoveryTime+ut>e&&this._errorRecoveryCounts>lt?void this.trigger(V.AUDIO_ERROR,this):(this._errorRecoveryTime=Date.now(),this._errorRecoveryCounts++,d.call(this),void(t&&this.play({seek:this.currentTime(),userInitiated:!1})))}function A(t){this.logAudioError({error_code:t,protocol:this.streamInfo?this.streamInfo.protocol:void 0,player_type:this.controller?this.controller.getType():void 0,host:this.streamInfo?J.getUrlHost(this.streamInfo.url):void 0,url:this.streamInfo?this.streamInfo.url:void 0})}function P(){var t,e=U.Errors;if(!this.controller)return j.error("(%s) Controller is null, aborting error handler.",this.getId(),this),A.call(this,null),void T.call(this);switch(t=this.controller&&this.controller.getErrorID(),j.error("(%s) %s",this.getId(),this.controller.getErrorMessage?this.controller.getErrorMessage():"Controller does not provide getErrorMessage()"),L(t,"MSE","GENERIC","HTML5_AUDIO_DECODE","HTML5_AUDIO_SRC_NOT_SUPPORTED","FLASH_PROXY","FLASH_RTMP_CONNECT_FAILED","FLASH_RTMP_CANNOT_PLAY_STREAM")&&A.call(this,t),t){case e.FLASH_PROXY_CANT_LOAD_FLASH:this.trigger(V.FLASH_NOT_LOADED);break;case e.FLASH_PROXY_FLASH_BLOCKED:this.trigger(V.FLASH_BLOCK);break;case e.FLASH_RTMP_CONNECT_FAILED:Q.without(this.options.protocols,K.RTMP);case e.FLASH_RTMP_CANNOT_PLAY_STREAM:case e.FLASH_RTMP_CONNECT_CLOSED:case e.HTML5_AUDIO_NETWORK:case e.HTML5_AUDIO_ABORTED:case e.HTML5_AUDIO_DECODE:case e.HTML5_AUDIO_SRC_NOT_SUPPORTED:case e.GENERIC_AUDIO_ENDED_EARLY:case e.MSE_BAD_OBJECT_STATE:case e.MSE_NOT_SUPPORTED:case e.MSE_MP3_NOT_SUPPORTED:case e.MSE_HLS_NOT_VALID_PLAYLIST:case e.MSE_HLS_PLAYLIST_NOT_FOUND:case e.MSE_HLS_SEGMENT_NOT_FOUND:T.call(this);break;case e.GENERIC_AUDIO_OVERRUN:f.call(this);break;default:j.error("(%s) Unhandled audio error code: %s",this.getId(),t,this)}}function I(t,e){switch(this.options.debug&&D.call(this,t,e),t){case V.PAUSE:this._isPlaying=!1,this._isPlayActionQueued=!1;break;case V.PLAY:var n=e;this.toggleMute(tt.muted),this.setVolume(tt.volume),this._isPlaying=!1,this._isPlayActionQueued=!0,this._userInitiatedPlay=void 0!==n.userInitiated?!!n.userInitiated:!0,M.call(this);break;case V.PLAY_START:this._isPlaying=!0,this._isPlayActionQueued=!1,this._registerPlays&&this.registerPlay();break;case V.BUFFERRING_START:case V.SEEK:this._isPlaying&&(this._isPlaying=!1,this._isPlayActionQueued=!0);break;case V.BUFFERRING_END:case V.SEEKED:this._isPlayActionQueued&&(this._isPlaying=!0,this._isPlayActionQueued=!1);break;case V.NO_CONNECTION:this.pause(),this._hasNoConnection=!0,this._noConnectionSince=Date.now();
break;case V.API_FAILURE:this.pause();break;case V.REQUEST_FAILURE:this._isPlaying=!1,this._isPlayActionQueued=!1;break;case V.GEO_BLOCKED:this._isGeoBlocked=!0;break;case V.NO_STREAMS:E.call(this,!1),h.call(this),N.call(this);break;case V.STREAMS:this._isGeoBlocked=!1,this._noConnectionSince=null,this._hasNoConnection=!1;break;case V.ONLINE:R.call(this);break;case V.OFFLINE:}}function C(t){var e=U.States,n=U.Errors;switch(t){case e.IDLE:O.call(this),this.controller&&this.controller.getErrorID()===n.FLASH_PROXY_FLASH_BLOCKED&&this.trigger(V.FLASH_UNBLOCK);break;case e.PAUSED:O.call(this),E.call(this,!1),this.seekTimeEventHandler&&this.isPaused()&&S.call(this),this.isPlaying()&&this.trigger(V.PAUSE,{position:this.currentTime()});break;case e.PLAYING:O.call(this),E.call(this,!1),k.call(this),this.trigger(V.PLAY_RESUME);break;case e.LOADING:case e.SEEKING:O.call(this),E.call(this,!0);break;case e.ENDED:O.call(this),f.call(this);break;case e.ERROR:E.call(this,!1),P.call(this)}this.trigger(V.STATE_CHANGE,t)}function D(t,e){var n=this.options.title;n=n&&n.length?" ["+n.replace(/\s/g,"").substr(0,6)+"]":"",t===V.STATE_CHANGE?j("(%s)%s Event: %s (%s)",this.getId(),n,t,e):t!==V.TIME||this._loggedTime?t!==V.TIME&&j("(%s)%s Event: %s",this.getId(),n,t):j("(%s)%s Event: %s %dms",this.getId(),n,t,this.currentTime()),this._loggedTime=t===V.TIME}function O(){this._initAudioDefer&&this._initAudioDefer.resolve()}function L(t){return void 0===U.Errors[t]?!1:Array.prototype.slice.call(arguments,1).some(function(e){return 0===t.indexOf(e)})}function M(){function t(){var t=window.navigator.onLine;j("Navigator `onLine` status is now: "+t),window.setTimeout(function(){window.navigator.onLine===t&&this.trigger(t?V.ONLINE:V.OFFLINE)}.bind(this),500)}this._onlineEventsRegistered||(this._onlineEventsRegistered=!0,window.addEventListener("online",t.bind(this)),window.addEventListener("offline",t.bind(this)))}function R(){if(this.hasNoConnection()&&this._isPlayRetryQueued){var t=Date.now()-this._noConnectionSince;this._isPlayRetryQueued=!0,t<this.options.retryAfterNoConnectionEventTimeout&&this.play({userInitiated:!1})}}function N(){this.hasNoConnection()&&!this._userInitiatedPlay&&(this._isPlayRetryQueued=!0)}var F,U,j,B=n(1),H=n(6),z=n(8),q=n(9),$=n(2).Deferred,V=n(7),W=n(14),G=n(10),K=n(15),Y=n(16),X=n(18),J=n(12),Q=n(13),Z=n(19),tt={muted:!1,volume:1},et=[],nt={},it={soundId:nt,duration:nt,title:null,registerEndpoint:null,streamUrlsEndpoint:nt,resourceId:!1,debug:!1,asyncFetch:!0,useSinglePlayer:!0,protocols:[K.PREVIEW,K.HLS,K.RTMP,K.HTTP],extensions:[W.MP3],maxBitrate:1/0,mediaSourceEnabled:!1,mseFirefox:!1,mseSafari:!1,eventLogger:null,logErrors:!0,logPerformance:!0,ajax:null,retryAfterNoConnectionEventTimeout:6e4,fadeOutDurationOnPause:0,fadeOutDurationOnConcurrentStreaming:0,fadeOutDurationOnFinish:0,fadeOutAlgo:Z.VolumeAutomator.Algos.EaseInOut,previewOnly:!1},rt=6e3,ot=6e3,st=400,at=6e4,ut=6e3,lt=3,ct=3e4;F=t.exports=function(t,e){if(1===arguments.length?e=t:F.setAudioManager(t),!U)throw new Error("SCAudio: AudioManager instance must be set with `SCAudio.setAudioManager()` or passed via the constructor");this.options=Q.extend({},it,e);var n=Object.keys(this.options).filter(function(t){return this.options[t]===nt},this);if(n.length)throw new Error("SCAudio: pass into constructor the following options: "+n.join(", "));Y.prioritizeAndFilter(this.options),this.controller=null,this.streamInfo=null,this._userInitiatedPlay=this._registerPlays=!0,this._registerCounts=this._errorRecoveryCounts=0,this._isPlayActionQueued=this._onlineEventsRegistered=this._usedPrefetchUrls=this._isPlaying=this._isBuffering=this._hasNoConnection=!1,this._initAudioDefer=this._expirationTimeout=this._bufferingTimeout=this._errorRecoveryTime=this._errorRecoveryFlagsResetTimeout=this._storedPosition=this._prevPosition=this._noConnectionSince=null,this.options.debug&&(this._loggedTime=!1),this._modelListeners={},this._hooksPause=[],this.audioPerfMonitor=new z(this,this.logAudioPerformance.bind(this)),this.audioLogger=new H(this),this.volumeAutomator=new Z.VolumeAutomator(this),j=j||q({enabled:this.options.debug,buffer:!0,label:"scaudio"})},Q.extend(F.prototype,G,{constructor:F,initAudio:function(){return this._initAudioDefer||(this._initAudioDefer=$(),p.call(this).done(function(t){var e=!0;this.streamInfo&&(e=!1),this.streamInfo=t,e&&this.trigger(V.STREAMS),this.controller=a.call(this,t),u.call(this,this.controller,!0),C.call(this,this.controller.getState())}.bind(this)).fail(function(){this.trigger(V.NO_STREAMS)}.bind(this)),this._initAudioDefer.done(function(){this.trigger(V.CREATED)}.bind(this))),this._initAudioDefer.promise()},updateOptions:function(t){Q.extend(this.options,t)},registerPlay:function(){var t=this.options.soundId,e=this.options.registerEndpoint,n=!1;return e&&-1===et.indexOf(t)&&(et.push(t),window.setTimeout(function(){var e=et.indexOf(t);e>-1&&et.splice(e,1)},at),this.ajax({type:"POST",url:Q.result(e),dataType:"json"}),this._registerCounts++,this._registerPlays=!1,this.trigger(V.REGISTERED),n=!0),n},toggle:function(){this[this.isPaused()?"play":"pause"]()},play:function(t){var e;if(t&&null!=t.seek)e=t.seek;else{if(this.isPlaying())return;e=this.currentTime()}t=Q.extend({},t,{position:e}),this.trigger(V.PLAY,t),w.call(this,e)||(d.call(this),this._isPlayActionQueued=!0),this.initAudio().done(function(){this._isPlayActionQueued&&(this._storedPosition=null,this.trigger(V.PLAY_START,t),this.controller&&this.controller.play(e))}.bind(this)),E.call(this,!0)},pause:function(t){this.isPaused()||(t=Q.extend({},t,{position:this.currentTime()}),i.call(this,t)&&(this.trigger(V.PAUSE,t),this.callPauseOnController()))},callPauseOnController:function(){this.controller&&this.controller.pause()},registerHook:function(t,e){switch(t){case"pause":this._hooksPause.push(e);break;default:throw new Error("can`t register hook for "+t)}},getListenTime:function(){return this.audioLogger?this.audioLogger.getListenTime():0},dispose:function(){this.audioLogger=null,this.audioPerfMonitor=null,Q.without(et,this.options.soundId),window.clearTimeout(this._bufferingTimeout),h.call(this),this.controller&&(this.controller.kill(),this.controller=null),delete this.controller,this.trigger(V.DESTROYED),this.off()},seek:function(t){return this.controller?t>=Q.result(this.options.duration)?void f.call(this):(this.seekTimeEventHandler&&this.off(V.TIME,this.seekTimeEventHandler),this.seekTimeEventHandler=Q.after(2,function(){S.call(this)}.bind(this)),this.on(V.TIME,this.seekTimeEventHandler),this.trigger(V.SEEK,{from:this.currentTime(),to:t}),this.isPlaying()&&!w.call(this,t)?(d.call(this),void this.play({seek:t})):void this.controller.seek(t)):void 0},seekRelative:function(t){this.controller&&this.seek(this.currentTime()+t)},currentTime:function(){return this._storedPosition?this._storedPosition:this.controller?this.controller.getCurrentPosition():0},loadProgress:function(){var t=0;return this.controller&&(t=this.controller.getLoadedPosition()/this.controller.getDuration(),t=t>=.99?1:t),t},duration:function(){return this.controller&&this.controller.getDuration()||0},buffered:function(){return this.controller&&this.controller.getLoadedPosition()||0},isPaused:function(){return!this.isPlaying()},isBuffering:function(){return this._isBuffering},isPlaying:function(){return this._isPlayActionQueued||this._isPlaying},isLoading:function(){return!(!this.controller||this.controller.getState()!==U.States.LOADING)},hasNoConnection:function(){return!!this._hasNoConnection},hasStreamInfo:function(){return!!this.streamInfo},isGeoBlocked:function(){return!!this._isGeoBlocked},toggleMute:function(t){F.toggleMute(t)},isMuted:function(){return F.isMuted()},setVolume:function(t){F.setVolume(t)},getVolume:function(){return F.getVolume()},logAudioPerformance:function(t){this.getEventLogger()&&this.options.logPerformance&&this.getEventLogger().audioPerformance(t)},logAudioError:function(t){this.getEventLogger()&&this.options.logErrors&&this.getEventLogger().audioError(t)},getAudioManagerStates:function(){return U.States},getId:function(){return this.options.resourceId||this.options.soundId},getEventLogger:function(){return this.options.eventLogger},registerModelEventListener:function(t,e){var n=r(t);if(this._modelListeners[n])throw new Error("Data model is already registered (forgot to unregister it or registering twice?)");this._modelListeners[n]=e=e.bind(this,t),this.on("all",e)},unregisterModelEventListener:function(t){var e=r(t);this._modelListeners[e]&&(this.off("all",this._modelListeners[e]),delete this._modelListeners[e])},ajax:function(t){return this.options.ajax?this.options.ajax(t):B(t)},trigger:function(t,e){I.call(this,t,e),G.trigger.call(this,t,e)}}),Q.extend(F,{getSettings:function(){return tt},setSettings:function(t){Q.extend(tt,t)},setAudioManager:o,setAudioManagerOnce:Q.once(o),toggleMute:function(t){tt.muted=void 0===t?!tt.muted:!!t,U&&U.setVolume(tt.muted?0:1)},isMuted:function(){return tt.muted},setVolume:function(t){tt.volume=void 0===t?1:t,U&&U.setVolume(tt.volume)},getVolume:function(){return tt.volume},Extensions:W,Protocols:K,Events:V,BUFFER_DELAY:st,PLAY_REGISTRATION_TIMEOUT:at})},function(t,e,n){var i=n(2).Deferred,r=4;t.exports=function(t){var e,n,o,s,a,u,l,c;t&&(o=t.data||null,n=t.url||"",e=t.type||"GET",s=t.dataType||"text",a=t.async,u=t.timeout,l=t.beforeSend||null);var h=i();a=a!==!1;var d=new XMLHttpRequest;return d.open(e,n,a),a&&(d.responseType="text"),l&&l(d),d.onreadystatechange=function(){if(d.readyState===r)if(clearTimeout(c),0!==d.status&&d.status<400){var t=d.responseText;if("json"===s)try{t=JSON.parse(t)}catch(e){return void h.reject(d)}h.resolve(t)}else h.reject(d)},null!=u&&(c=setTimeout(function(){d.readyState!==r&&(d.abort(),h.reject(d))},u)),d.send(o),h.promise()}},function(t,e,n){t.exports=n(3)},function(t,e,n){var i=t.exports=n(4),r=Array.prototype.slice;i.extend({Deferred:function(t){var e=[["resolve","done",i.Callbacks("once memory"),"resolved"],["reject","fail",i.Callbacks("once memory"),"rejected"],["notify","progress",i.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var t=arguments;return i.Deferred(function(n){i.each(e,function(e,r){var s=r[0],a=t[e];o[r[1]](i.isFunction(a)?function(){var t=a.apply(this,arguments);t&&i.isFunction(t.promise)?t.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[s+"With"](this===o?n:this,[t])}:n[s])}),t=null}).promise()},promise:function(t){return null!=t?i.extend(t,r):r}},o={};return r.pipe=r.then,i.each(e,function(t,i){var s=i[2],a=i[3];r[i[1]]=s.add,a&&s.add(function(){n=a},e[1^t][2].disable,e[2][2].lock),o[i[0]]=s.fire,o[i[0]+"With"]=s.fireWith}),r.promise(o),t&&t.call(o,o),o},when:function(t){var e,n,o,s=0,a=r.call(arguments),u=a.length,l=1!==u||t&&i.isFunction(t.promise)?u:0,c=1===l?t:i.Deferred(),h=function(t,n,i){return function(o){n[t]=this,i[t]=arguments.length>1?r.call(arguments):o,i===e?c.notifyWith(n,i):--l||c.resolveWith(n,i)}};if(u>1)for(e=new Array(u),n=new Array(u),o=new Array(u);u>s;s++)a[s]&&i.isFunction(a[s].promise)?a[s].promise().done(h(s,o,a)).fail(c.reject).progress(h(s,n,e)):--l;return l||c.resolveWith(o,a),c.promise()}})},function(t,e,n){function i(t){var e=s[t]={};return r.each(t.split(o),function(t,n){e[n]=!0}),e}var r=t.exports=n(5),o=/\s+/,s={};r.Callbacks=function(t){t="string"==typeof t?s[t]||i(t):r.extend({},t);var e,n,o,a,u,l,c=[],h=!t.once&&[],d=function(i){for(e=t.memory&&i,n=!0,l=a||0,a=0,u=c.length,o=!0;c&&u>l;l++)if(c[l].apply(i[0],i[1])===!1&&t.stopOnFalse){e=!1;break}o=!1,c&&(h?h.length&&d(h.shift()):e?c=[]:f.disable())},f={add:function(){if(c){var n=c.length;!function i(e){r.each(e,function(e,n){var o=r.type(n);"function"===o?t.unique&&f.has(n)||c.push(n):n&&n.length&&"string"!==o&&i(n)})}(arguments),o?u=c.length:e&&(a=n,d(e))}return this},remove:function(){return c&&r.each(arguments,function(t,e){for(var n;(n=r.inArray(e,c,n))>-1;)c.splice(n,1),o&&(u>=n&&u--,l>=n&&l--)}),this},has:function(t){return r.inArray(t,c)>-1},empty:function(){return c=[],this},disable:function(){return c=h=e=void 0,this},disabled:function(){return!c},lock:function(){return h=void 0,e||f.disable(),this},locked:function(){return!h},fireWith:function(t,e){return e=e||[],e=[t,e.slice?e.slice():e],!c||n&&!h||(o?h.push(e):d(e)),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!n}};return f}},function(t,e){function n(t){return null==t?String(t):c[l.call(t)]||"object"}function i(t){return"function"===u.type(t)}function r(t){return"array"===u.type(t)}function o(t,e,n){var r,o=0,s=t.length,a=void 0===s||i(t);if(n)if(a){for(r in t)if(e.apply(t[r],n)===!1)break}else for(;s>o&&e.apply(t[o++],n)!==!1;);else if(a){for(r in t)if(e.call(t[r],r,t[r])===!1)break}else for(;s>o&&e.call(t[o],o,t[o++])!==!1;);return t}function s(t){return t&&"object"===u.type(t)?!0:!1}function a(){var t,e,n,i,r,o,s=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[1]||{},a=2),"object"==typeof s||u.isFunction(s)||(s={}),l===a&&(s=this,--a);l>a;a++)if(null!=(t=arguments[a]))for(e in t)n=s[e],i=t[e],s!==i&&(c&&i&&(u.isPlainObject(i)||(r=u.isArray(i)))?(r?(r=!1,o=n&&u.isArray(n)?n:[]):o=n&&u.isPlainObject(n)?n:{},s[e]=u.extend(c,o,i)):void 0!==i&&(s[e]=i));return s}var u=t.exports={type:n,isArray:r,isFunction:i,isPlainObject:s,each:o,extend:a,noop:function(){}},l=Object.prototype.toString,c={};"Boolean Number String Function Array Date RegExp Object".split(" ").forEach(function(t){c["[object "+t+"]"]=t.toLowerCase()})},function(t,e,n){function i(t){this.listenTime+=t.from-this.currentTime,this.currentTime=t.to}function r(t){this.listenTime+=t.position-this.currentTime,this.currentTime=t.position}function o(t){this.currentTime=t.position}var s,a=n(7);s=t.exports=function(t){this.scAudio=t,this.listenTime=0,this.currentTime=0,this.scAudio.on(a.SEEK,i,this).on(a.PLAY_START,o,this).on(a.PAUSE,r,this)},s.prototype={constructor:s,getListenTime:function(){return this.listenTime+this.scAudio.currentTime()-this.currentTime}}},function(t,e){var n={CREATED:"created",STATE_CHANGE:"state-change",DESTROYED:"destroyed",PLAY:"play",PLAY_START:"play-start",PLAY_RESUME:"play-resume",METADATA:"metadata",PAUSE:"pause",FINISH:"finish",RESET:"reset",SEEK:"seek",SEEKED:"seeked",GEO_BLOCKED:"geo_blocked",BUFFERRING_START:"buffering_start",BUFFERRING_END:"buffering_end",BUFFERING_START:"buffering_start",BUFFERING_END:"buffering_end",FLASH_NOT_LOADED:"flash_not_loaded",FLASH_BLOCK:"flash_blocked",FLASH_UNBLOCK:"flash_unblocked",AUDIO_ERROR:"audio_error",TIME:"time",NO_STREAMS:"no_streams",STREAMS:"streams",NO_PROTOCOL:"no_protocol",NO_CONNECTION:"no_connection",API_FAILURE:"api_failure",REQUEST_FAILURE:"request_failure",REGISTERED:"registered",ONLINE:"online",OFFLINE:"offline"};t.exports=n},function(t,e,n){function i(){return this.scAudio.controller?this.controller?void v.warn("(%s) Setup was called while it was already initialized (returned with a no-op)",this.scAudio.getId()):(v("(%s) Initialized",this.scAudio.getId()),this.controller=this.scAudio.controller,this.protocol=this.scAudio.streamInfo.protocol,void(this.host=w.getUrlHost(this.scAudio.streamInfo.url))):void v.warn("Can´t initialize when controller is null")}function r(){this.controller&&(v("(%s) Reset",this.scAudio.getId()),this.controller=this.protocol=this.host=null,this.timeToPlayMeasured=!1)}function o(t){var e=this.scAudio.getAudioManagerStates();t===e.LOADING?this.timeToPlayMeasured&&d.call(this):E.isNull(this.bufferingStartTime)||f.call(this)}function s(){this.metadataLoadStartTime=Date.now()}function a(){return E.isNull(this.metadataLoadStartTime)?void v.warn("(%s) onMetadataEnd was called without onMetadataStart being called before.",this.scAudio.getId()):(this.log({type:"metadata",latency:Date.now()-this.metadataLoadStartTime}),void(this.metadataLoadStartTime=null))}function u(){this.playClickTime=Date.now()}function l(){if(!this.timeToPlayMeasured){if(E.isNull(this.playClickTime))return void v.warn("(%s) onPlayResume was called without onPlayStart being called before.",this.scAudio.getId());this.log({type:"play",latency:Date.now()-this.playClickTime}),this.playClickTime=null,this.timeToPlayMeasured=!0}}function c(){this.scAudio.isPaused()||(this.seekStartTime=Date.now())}function h(){if(!this.scAudio.isPaused()){if(E.isNull(this.seekStartTime))return void v.warn("(%s) onSeekEnd was called without onSeekStart being called before.",this.scAudio.getId());this.log({type:"seek",latency:Date.now()-this.seekStartTime}),this.seekStartTime=null}}function d(){this.bufferingStartTime||(this.bufferingStartTime=Date.now())}function f(){return E.isNull(this.bufferingStartTime)?void v.warn("(%s) onBufferingEnd was called without onBufferingStart being called before.",this.scAudio.getId()):(p.call(this),void(this.bufferingStartTime=null))}function p(){E.isNull(this.bufferingStartTime)||(E.isNull(this.bufferingTimeAccumulated)&&(this.bufferingTimeAccumulated=0),this.bufferingTimeAccumulated+=Date.now()-this.bufferingStartTime)}function g(){p.call(this),E.isNull(this.bufferingTimeAccumulated)||(this.log({type:"buffer",latency:this.bufferingTimeAccumulated}),this.bufferingStartTime=this.bufferingTimeAccumulated=null)}var m,v,_=n(9),y=n(7),b=n(10),w=n(12),E=n(13);m=t.exports=function(t,e){this.scAudio=t,this.logFn=e,this.controller=null,this.reset(),v=v||_({enabled:t.options.debug,buffer:!0,label:"audioperf"}),t.on(y.CREATED,i,this).on(y.RESET,r,this).on(y.DESTROYED,r,this).on(y.SEEK,c,this).on(y.SEEKED,h,this).on(y.PLAY,u,this).on(y.PLAY_START,s,this).on(y.PLAY_RESUME,l,this).on(y.PAUSE,g,this).on(y.FINISH,g,this).on(y.STATE_CHANGE,o,this).on(y.METADATA,a,this)},E.extend(m.prototype,b,{constructor:m,log:function(t){return this.controller?(E.extend(t,{protocol:this.protocol,host:this.host,playertype:this.controller.getType()}),v("(%s) event type: %s, latency: %d, protocol: %s, host: %s playertype: %s",this.scAudio.getId(),t.type,t.latency,t.protocol,t.host,t.playertype),void this.logFn(t)):void v.warn("(%s) Monitor log was called while controller is null (returned with a no-op)",this.scAudio.getId())},reset:function(){this.bufferingStartTime=this.bufferingTimeAccumulated=this.playClickTime=this.seekStartTime=this.metadataLoadStartTime=null,this.timeToPlayMeasured=!1}})},function(t,e){"use strict";function n(){function t(t,n){if(f){for(var i=arguments.length,r=Array(i>2?i-2:0),o=2;i>o;o++)r[o-2]=arguments[o];"string"==typeof n?n=" "+n:(r.unshift(n),n="");var s=[e()+" | "+T+(S?"%c":"")+n].concat(A,r);m?x.push({level:t,logArgs:s})>E&&x.shift():d[t].apply(d,s)}}function e(){var t=new Date,e=null===k?0:t-k,n=S?"%c":"";return k=+t,n+i(t)+(n+" ("+n)+r("+"+e+"ms"," ",8)+(n+")")}function n(t){return t.enable=function(){f=!0},t.disable=function(){f=!1},t.bufferOn=function(){m=!0},t.bufferOff=function(){m=!1,x.length=0},t.flush=l()?function(){x.forEach(function(t){var e=t.level,n=t.logArgs;d[e].apply(d,n)}),x.length=0}:function(){},t}var o=c.apply(void 0,arguments),s=o.enabled,f=void 0===s?!0:s,g=o.buffer,m=void 0===g?!1:g,v=o.label,_=void 0===v?"":v,y=o.plainOutput,b=void 0===y?!1:y,w=o.bufferSize,E=void 0===w?1e3:w;if(!l())return n(h.reduce(function(t,e){return t[e]=t},function(){}));d.CL||(d.CL={_cssCounter:0});var S=!b&&u(),k=null,x=[],T=a(_,S),A=S?["color: green","color: grey","color: blue","color: grey",p(_),""]:[],P=d.CL[_]=n(h.reduce(function(e,n){return e[n]=t.bind(null,n),e},t.bind(null,"log")));return P}function i(t){return o(t.getHours())+":"+o(t.getMinutes())+":"+o(t.getSeconds())+"."+r(t.getMilliseconds(),"0",3)}function r(t,e,n){return s(e,n-(""+t).length)+t}function o(t){return r(t,"0",2)}function s(t,e){return e>0?new Array(e+1).join(t):""}function a(t,e){return(e?"%c":"")+(t?t:"")}function u(){if("undefined"==typeof navigator)return!1;var t=navigator.userAgent;return/chrome|firefox|opr/i.test(t)&&!/msie|edge/i.test(t)}function l(){return d&&h.every(function(t){return"function"==typeof d[t]})}function c(){var t=arguments.length<=0||void 0===arguments[0]?!0:arguments[0],e=arguments.length<=1||void 0===arguments[1]?"":arguments[1];return"object"==typeof t&&t||{enabled:t,label:e}}t.exports=n;var h=["log","info","warn","error"],d="undefined"!=typeof console?console:null,f=["color:#fff","border-radius:3px","padding:2px 4px","font-family:sans-serif","text-transform:uppercase","font-size:9px"].join(";")+";",p=function(){var t=["#51613C","#447848","#486E5F","#787444","#6E664E"];return function(e){return e?"background:"+t[d.CL._cssCounter++%t.length]+";"+f:""}}()},function(t,e,n){t.exports=n(11)},function(t,e,n){!function(){function n(){return{keys:Object.keys||function(t){if("object"!=typeof t&&"function"!=typeof t||null===t)throw new TypeError("keys() called on a non-object");var e,n=[];for(e in t)t.hasOwnProperty(e)&&(n[n.length]=e);return n},uniqueId:function(t){var e=++a+"";return t?t+e:e},has:function(t,e){return o.call(t,e)},each:function(t,e,n){if(null!=t)if(r&&t.forEach===r)t.forEach(e,n);else if(t.length===+t.length)for(var i=0,o=t.length;o>i;i++)e.call(n,t[i],i,t);else for(var s in t)this.has(t,s)&&e.call(n,t[s],s,t)},once:function(t){var e,n=!1;return function(){return n?e:(n=!0,e=t.apply(this,arguments),t=null,e)}}}}var i,r=Array.prototype.forEach,o=Object.prototype.hasOwnProperty,s=Array.prototype.slice,a=0,u=n();i={on:function(t,e,n){if(!c(this,"on",t,[e,n])||!e)return this;this._events||(this._events={});var i=this._events[t]||(this._events[t]=[]);return i.push({callback:e,context:n,ctx:n||this}),this},once:function(t,e,n){if(!c(this,"once",t,[e,n])||!e)return this;var i=this,r=u.once(function(){i.off(t,r),e.apply(this,arguments)});return r._callback=e,this.on(t,r,n)},off:function(t,e,n){var i,r,o,s,a,l,h,d;if(!this._events||!c(this,"off",t,[e,n]))return this;if(!t&&!e&&!n)return this._events={},this;for(s=t?[t]:u.keys(this._events),a=0,l=s.length;l>a;a++)if(t=s[a],o=this._events[t]){if(this._events[t]=i=[],e||n)for(h=0,d=o.length;d>h;h++)r=o[h],(e&&e!==r.callback&&e!==r.callback._callback||n&&n!==r.context)&&i.push(r);i.length||delete this._events[t]}return this},trigger:function(t){if(!this._events)return this;var e=s.call(arguments,1);if(!c(this,"trigger",t,e))return this;var n=this._events[t],i=this._events.all;return n&&h(n,e),i&&h(i,arguments),this},stopListening:function(t,e,n){var i=this._listeners;if(!i)return this;var r=!e&&!n;"object"==typeof e&&(n=this),t&&((i={})[t._listenerId]=t);for(var o in i)i[o].off(e,n,this),r&&delete this._listeners[o];return this}};var l=/\s+/,c=function(t,e,n,i){if(!n)return!0;if("object"==typeof n){for(var r in n)t[e].apply(t,[r,n[r]].concat(i));return!1}if(l.test(n)){for(var o=n.split(l),s=0,a=o.length;a>s;s++)t[e].apply(t,[o[s]].concat(i));return!1}return!0},h=function(t,e){var n,i=-1,r=t.length,o=e[0],s=e[1],a=e[2];switch(e.length){case 0:for(;++i<r;)(n=t[i]).callback.call(n.ctx);return;case 1:for(;++i<r;)(n=t[i]).callback.call(n.ctx,o);return;case 2:for(;++i<r;)(n=t[i]).callback.call(n.ctx,o,s);return;case 3:for(;++i<r;)(n=t[i]).callback.call(n.ctx,o,s,a);return;default:for(;++i<r;)(n=t[i]).callback.apply(n.ctx,e)}},d={listenTo:"on",listenToOnce:"once"};u.each(d,function(t,e){i[e]=function(e,n,i){var r=this._listeners||(this._listeners={}),o=e._listenerId||(e._listenerId=u.uniqueId("l"));return r[o]=e,"object"==typeof n&&(i=this),e[t](n,i,this),this}}),i.bind=i.on,i.unbind=i.off,i.mixin=function(t){var e=["on","once","off","trigger","stopListening","listenTo","listenToOnce","bind","unbind"];return u.each(e,function(e){t[e]=this[e]},this),t},"undefined"!=typeof t&&t.exports&&(e=t.exports=i),e.BackboneEvents=i}(this)},function(t,e){var n={getUrlParams:function(t){var e={},n=t.indexOf("?");return n>-1&&t.substr(n+1).split("&").forEach(function(t){var n=t.split("=");e[n[0]]=n[1]}),e},getUrlHost:function(t){var e,n=t.split("//");return e=n[0]===t?n[0].split("/")[0]:n[1]?n[1].split("/")[0]:""}};t.exports=n},function(t,e){function n(){function t(t){r.push(t),a.postMessage(o,"*")}function e(t){t.data===o&&(t.stopPropagation(),r.length>0&&r.shift()())}var n=window,i=n.document;if(!n.postMessage)return function(t){n.setTimeout(t,0)};var r=[],o="zero-timeout-message-"+Math.random(),s=i.createElement("iframe");s.style.display="none",s.src="",i.documentElement.appendChild(s);var a=s.contentWindow,u=a.document;return u.open(),u.write(""),u.close(),a.addEventListener("message",e,!0),t}var i={extend:function(t){var e=Array.prototype.slice.call(arguments,1);return e.forEach(function(e){if(e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])}),t},each:function(t,e,n){Object.keys(t).forEach(function(i){e.call(n||null,t[i],i)})},without:function(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)},result:function(t){var e=t;return i.isFunction(e)&&(e=t()),e},isFunction:function(t){return"function"==typeof t},after:function(t,e){return function(){return--t<1?e.apply(this,arguments):void 0}},isNull:function(t){return null===t},once:function(t){var e,n=!1;return function(){return n?e:(n=!0,void(e=t.apply(this,arguments)))}},setImmediate:function(){var t;return function(e){t||(t=n()),t(e)}}()};t.exports=i},function(t,e){var n={AAC:"aac",MP3:"mp3",OGG:"ogg",OPUS:"opus",WAV:"wav"};t.exports=n},function(t,e){var n={HTTP:"http",RTMP:"rtmp",HLS:"hls",PREVIEW:"preview"};t.exports=n},function(t,e,n){function i(t){return l.supportsMediaSourceExtensions()&&t.mediaSourceEnabled&&(l.isChrome()&&l.getChromeVersion()>=35||l.isFirefox()&&t.mseFirefox||l.isSafari()&&t.mseSafari)}function r(t){return function(e){var n=!1;switch(e){case u.PREVIEW:n=t.previewOnly&&l.supportsHTML5Audio();break;case u.RTMP:n=l.supportsFlash();break;case u.HTTP:n=l.supportsHTML5Audio()||l.supportsFlash();break;case u.HLS:n=i(t)}return n}}function o(t){return l.isSafari()||l.isFirefox()?[u.PREVIEW,u.HLS,u.HTTP,u.RTMP]:t}function s(t){t.protocols=o(t.protocols).filter(r(t))}var a,u=n(15),l=n(17);a={prioritizeAndFilter:s},t.exports=a},function(t,e){function n(t){return t.test(window.navigator.userAgent.toLowerCase())}function i(t,e){try{return window.navigator.userAgent.toLowerCase().match(t)[e]}catch(n){return null}}function r(){try{return parseInt(i(/chrom(e|ium)\/([0-9]+)\./,2),10)}catch(t){return NaN}}function o(){return!h()&&!l()&&n(/safari/)}function s(){return o()&&n(/version\/7\.1/)}function a(){return o()&&n(/version\/8/)&&!n(/version\/80/)}function u(){return o()&&n(/version\/9\./)}function l(){return!h()&&n(/chrom(e|ium)/)}function c(){return n(/firefox/)}function h(){return n(/edge/)}function d(){return h()&&n(/windows\snt/)}function f(){return h()&&n(/windows\sphone/)}function p(){return!!window.MediaSource&&(window.MediaSource.isTypeSupported("audio/mpeg")||window.MediaSource.isTypeSupported("audio/mp4"))}function g(){try{return window.hasOwnProperty("Audio")&&!!(new window.Audio).canPlayType("audio/mpeg")}catch(t){return!1}}function m(){try{var t=o()&&n(/version\/5\.0/),e=window.hasOwnProperty("Audio")&&(!!(new window.Audio).canPlayType('audio/x-mpegURL; codecs="mp3"')||!!(new window.Audio).canPlayType('vnd.apple.mpegURL; codecs="mp3"'));return!t&&e}catch(i){return!1}}function v(){return y(_())>=w}function _(){var t,e,n,i;if("undefined"!=typeof window.ActiveXObject)try{i=new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash"),i&&(t=i.GetVariable("$version"))}catch(r){t=null}else window.navigator&&window.navigator.plugins&&window.navigator.plugins.length>0&&(n="application/x-shockwave-flash",e=window.navigator.mimeTypes,e&&e[n]&&e[n].enabledPlugin&&e[n].enabledPlugin.description&&(t=e[n].enabledPlugin.description));return t}function y(t){if(!t)return 0;var e=t.match(/\d\S+/)[0].replace(/,/g,".").split(".");return parseFloat([e[0],e[1]].join("."))||0}var b,w=9;b={flashPlugin:_,isSafari:o,isSafari71:s,isSafari8:a,isSafari9:u,isChrome:l,getChromeVersion:r,isFirefox:c,isEdge:h,isEdgeDesktop:d,isEdgeMobile:f,supportsNativeHLSAudio:m,supportsHTML5Audio:g,supportsFlash:v,supportsMediaSourceExtensions:p},t.exports=b},function(t,e,n){function i(t){var e=d.getUrlHost(t);return p.every(function(t){return 0!==e.indexOf(t)})}function r(t,e){return!(t===c.HLS&&!i(e))}function o(t,e){if(!t)return!1;var n=t.issuedAt+s(t.protocol,t.duration);return a(t.protocol)?Date.now()+t.duration-(e||0)<n:Date.now()<n}function s(t,e){var n=a(t);return g+(n?h.result(e):0)}function a(t){return t===c.HTTP||t===c.HLS}function u(t,e){function n(t){return-1*t}function i(t,e){return Math.abs(e-v)-Math.abs(t-v)}var o,s,a,u,l,c,d,f,p,g,m={},v=e.maxBitrate,_=e.protocols,y=e.extensions;for(h.each(t,function(t,e){var n=e.split("_"),i=n[0],r=n[1],o=n[2];m[i]=m[i]||{},m[i][r]=m[i][r]||{},m[i][r][o]=t}),l=0,c=_.length;c>l;++l)for(u=_[l],f=0,p=y.length;p>f;++f)if(d=y[f],m[u]&&m[u][d]){if(o=Object.keys(m[u][d]).map(Number).sort(n),s=v===1/0,a=v===-(1/0),v=s||a?o[s?"pop":"shift"]():o.sort(i).pop(),g=m[u][d][v],!r(u,g))continue;return{url:g,bitrate:v,protocol:u,extension:d,issuedAt:Date.now(),duration:h.result(e.duration)}}return null}var l,c=n(15),h=n(13),d=n(12),f=.9,p=[],g=Math.floor(12e4*f);l={choosePreferredStream:u,streamValidForPlayingFrom:o},t.exports=l},function(t,e,n){var i,r,o=n(7),s=n(13),a=s.extend,u=s.setImmediate,l={Linear:0,EaseOut:1,EaseInOut:2};t.exports=i={},i.VolumeAutomator=r=function(t){if(this.scAudio=t,this.fadeOutAlgo=this.options().fadeOutAlgo,this.fadeOutActive=!1,this.initialVolume=void 0,r.isSupported()){var e=this.options();["fadeOutDurationOnPause","fadeOutDurationOnFinish","fadeOutDurationOnConcurrentStreaming"].forEach(function(t){"number"!=typeof e[t]&&(e[t]=0)}),this.scAudio.registerHook("pause",this.hookPause.bind(this)),this.scAudio.on(o.TIME,this.onTime,this),this.scAudio.on(o.PLAY_RESUME,this.onPlay,this)}},i.VolumeAutomator.isSupported=function(){var t=new window.Audio,e=t.volume,n=0===e?1:e/2;return t.volume=n,t.volume===n},i.VolumeAutomator.Algos=l,a(r.prototype,{options:function(){return this.scAudio.options},doFadeOut:function(t,e,n){this.fadeOutActive=!0;var i=Date.now()-(n||0),r=function(){if(this.fadeOutActive){var n,o=(Date.now()-i)/e,s=this.initialVolume;if(o>=1)t&&this.scAudio.callPauseOnController(),this.cancelFadeout();else{switch(this.fadeOutAlgo){case l.Linear:n=s*(1-o);break;case l.EaseOut:n=s*(1/(10*(o+.1))-.05);break;case l.EaseInOut:default:n=s*(Math.cos(o*Math.PI)/2+.5)}this.scAudio.setVolume(n),u(r)}}}.bind(this);this.initialVolume=this.scAudio.getVolume(),r()},cancelFadeout:function(){this.fadeOutActive&&(this.fadeOutActive=!1,this.scAudio.setVolume(this.initialVolume),this.initialVolume=void 0)},isFadeOutEnabled:function(){return this.options().fadeOutDurationOnConcurrentStreaming||this.options().fadeOutDurationOnPause||this.options().fadeOutDurationOnFinish},hookPause:function(t){return this.options().fadeOutDurationOnConcurrentStreaming&&"concurrent_streaming"===t.pause_reason?(this.doFadeOut(!0,this.options().fadeOutDurationOnConcurrentStreaming),!1):this.options().fadeOutDurationOnPause?(this.doFadeOut(!0,this.options().fadeOutDurationOnPause),!1):!0},onPlay:function(){this.isFadeOutEnabled()&&this.cancelFadeout()},onTime:function(){if(this.options().fadeOutDurationOnFinish){var t=this.scAudio.currentTime(),e=this.scAudio.duration(),n=this.options().fadeOutDurationOnFinish;!this.fadeOutActive&&t+n>=e&&this.doFadeOut(!1,n,t+n-e)}}})}])},function(t,e,n){(function(e){function i(t,e){this.set(t,this.get(t)+(e?1:-1))}var r=n(30),o=n(68),s=n(57),a={FREE:"free",PRO:"creator-pro",PRO_UNLIMITED:"creator-pro-unlimited"};t.exports=s.extend(o,{resource_type:"user",urnPrefix:"soundcloud:users",baseUrl:function(){return this.getEndpointUrl("user",{urn:this.getUrn()})},likesChanged:function(t){i.call(this,"likes_count",t)},getPlan:function(){var t=this.get("creator_subscriptions");return t&&t[0]?t[0].product.id:void 0}},{Plans:a,resolve:function(t){if("you"===t){var n=e.Deferred(),i=r.get("me");return n.resolve(i),n}return s._resolve(this,t,function(e){return e.get("permalink")===t})}})}).call(e,n(1))},function(t,e){
(function(e){!function(){function n(t){return void 0===t}function i(t){return parseInt(t,16)}function r(t){return parseInt(t,10)}function o(t){return 1===t.length?"0"+t:""+t}function s(t){return"string"==typeof t&&-1!==t.indexOf(".")&&1===parseFloat(t)}function a(t){return"string"==typeof t&&-1!==t.indexOf("%")}function u(t){return A(1,P(0,t))}function l(t,e){s(t)&&(t="100%");var n=a(t);return t=A(e,P(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),k.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function c(t){return[o(T(t.r).toString(16)),o(T(t.g).toString(16)),o(T(t.b).toString(16))].join("")}function h(t){function e(t,e,n){return 0>n&&(n+=1),n>1&&(n-=1),1/6>n?t+6*(e-t)*n:.5>n?e:2/3>n?t+(e-t)*(2/3-n)*6:t}var n,i,r,o=l(t.h,360),s=l(t.s,100),a=l(t.l,100);if(0===s)n=i=r=a;else{var u=.5>a?a*(1+s):a+s-a*s,c=2*a-u;n=e(c,u,o+1/3),i=e(c,u,o),r=e(c,u,o-1/3)}return{r:255*n,g:255*i,b:255*r}}function d(t){var e,n,i=l(t.r,255),r=l(t.g,255),o=l(t.b,255),s=P(i,r,o),a=A(i,r,o),u=(s+a)/2;if(s===a)e=n=0;else{var c=s-a;switch(n=u>.5?c/(2-s-a):c/(s+a),s){case i:e=(r-o)/c+(o>r?6:0);break;case r:e=(o-i)/c+2;break;case o:e=(i-r)/c+4}e/=6}return{h:T(360*e),s:T(100*n),l:T(100*u)}}function f(t){t=t.replace(E,"").replace(S,"").toLowerCase();var e;return(e=I.rgb.exec(t))?{r:r(e[1]),g:r(e[2]),b:r(e[3])}:(e=I.hsl.exec(t))?{h:r(e[1]),s:r(e[2]),l:r(e[3])}:(e=I.hex6.exec(t))?{r:i(e[1]),g:i(e[2]),b:i(e[3])}:(e=I.hex3.exec(t))?{r:i(e[1]+""+e[1]),g:i(e[2]+""+e[2]),b:i(e[3]+""+e[3])}:!1}function p(t){var e=null;return"string"==typeof t&&(t=f(t)),"object"==typeof t&&(t.hasOwnProperty("r")&&t.hasOwnProperty("g")&&t.hasOwnProperty("b")?e=t:t.hasOwnProperty("h")&&t.hasOwnProperty("s")&&t.hasOwnProperty("l")&&(e=h(t))),e}function g(t){var e=this.toHsl();return e.h+=r(t),C(e)}function m(t){var e=this.toHsl();return e.l-=r(t),P(0,e.l),C(e)}function v(t){var e=this.toHsl();return e.l+=r(t),A(100,e.l),C(e)}function _(t,e){t=t||6,e=e||30;var n=this.toHsl(),i=360/e,r=[C(n)];for(n.h=(n.h-(i*t>>1)+720)%360;--t;)n.h=(n.h+i)%360,r.push(C(n));return r}function y(t){var e=this.toRgb(),n=C(t).toRgb(),i=(299*e.r+587*e.g+114*e.b)/1e3,r=(299*n.r+587*n.g+114*n.b)/1e3,o=P(e.r,n.r)-A(e.r,n.r)+P(e.g,n.g)-A(e.g,n.g)+P(e.b,n.b)-A(e.b,n.b);return{brightness:x(i-r),color:o}}function b(t){var e=this.diff(t);return e.brightness>125&&e.color>500}function w(t,e){var n=this.diff(t||"#000"),i=this.diff(e||"#fff");return C(n.brightness>i.brightness&&n.color>i.color?t:e)}var E=/^[\s,#]+/,S=/\s+$/,k=Math,x=k.abs,T=k.round,A=k.min,P=k.max,I=function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",n="(?:"+e+")|(?:"+t+")",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{rgb:new RegExp("rgb"+i),hsl:new RegExp("hsl"+i),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}(),C=function(t){var e=p(t);return{hue:function(t){return g.call(this,t)},darken:function(t){return m.call(this,t)},lighten:function(t){return v.call(this,t)},analogous:function(t,e){return _.call(this,t,e)},readable:function(t){return b.call(this,t)},diff:function(t){return y.call(this,t)},contrast:function(t,e){return w.call(this,t,e)},hex:function(){return e?"#"+c(e):null},toRgb:function(){return e},isValid:function(){return e?!0:!1},rgb:function(){return e?"rgb("+[T(e.r),T(e.g),T(e.b)].join(", ")+")":null},rgba:function(t){return e?"rgba("+[T(e.r),T(e.g),T(e.b),n(t)?1:u(t)].join(", ")+")":null},toHsl:function(){return d(e)},hsl:function(){var t=d(e);return e?"hsl("+t.h+", "+t.s+"%, "+t.l+"%)":null}}};"undefined"!=typeof t&&t.exports?t.exports=C:(e=function(){return this}(),e.SC=e.SC||{},e.SC.color=C)}()}).call(e,function(){return this}())},function(t,e,n){function i(t){if(o()){var e=t?"on":"off";d[e]("change:current",r,this)}}function r(){this.rerender()}function o(){return c.get("widgetParams").visual}function s(){var t=d.getCurrentSound();return t?t.get("publisher_metadata").c_line_for_display:""}function a(){var t=d.getCurrentSound();return t?t.get("publisher_metadata").p_line_for_display:""}function u(){return[a(),s()].filter(Boolean).join(" ")}function l(t){t.preventDefault()}var c=n(30),h=n(79),d=n(45),f=n(87);t.exports=f.extend({css:n(111),template:n(112),className:"cookiePolicy sc-background-light",events:{"click .cookiePolicy__pline":l},setup:function(){i.call(this,!0)},dispose:function(){i.call(this,!1)},renderDecorate:function(){this.toggleState("extended",o()&&!!a())},getTemplateData:function(){return{cookie_policy_visible:h.t("Cookie policy"),cookie_policy_a11y:h.t("SoundCloud cookie policy"),publisher_info:u()}}})},function(t,e,n){function i(t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var e=new RegExp("[\\?&]"+t+"=([^&#]*)"),n=e.exec(location.search);return null===n?"":decodeURIComponent(n[1].replace(/\+/g," "))}function r(){return u.get(s.getLocaleCookieName())}function o(){var t=c.publicLanguageCodes,e=this.getBrowserPrimaryLocale(),n=t.indexOf(e);return n>-1?t[n]:c.defaultLocale}var s,a,u=n(80),l=n(81),c=n(84),h="locale",d=c.locales;t.exports={initialize:function(t){a=d[t]?t:c.defaultLocale,s=s||new l,s.setLocale(a),s.extend(d[a])},initializeFromUserSettings:function(){s=s||new l;var t=i(h),e=r(),n=t||e,a=o.call(this);this.initialize(n||a)},getBrowserPrimaryLocale:function(){var t,e=window.navigator,n=e.languages,i=e.userLanguage||n&&n[0]||e.language||"";return i=i.replace(/-/g,"_"),t=i.split("_"),t.length>1?t[0].toLowerCase()+"_"+t[1].toUpperCase():i},getLocale:function(){return a},t:function(t,e,n){n=n||{};var i=s.t(t,e,n.context,n.comment);return i},tp:function(t,e,n,i,r){r=r||{};var o=s.tp(t,e,n,i,r.context,r.comment);return o}}},function(t,e){var n,i,r,o=window.location.hostname.replace(/.*\.(.+\..+)/,"$1"),s="."+o,a=864e5;n=t.exports={get:function(t){return r||(r={},window.document.cookie.split(/\s*;\s*/).forEach(function(t){var e=t.split("=");r[e[0]]=e[1]})),r[t]},set:function(t,e,n){window.document.cookie=[t+"="+e,n?"expires="+new Date(Date.now()+n*a).toGMTString():"","path=/","domain="+s].filter(Boolean).join(";"),i()},unset:function(t){n.set(t,"",-1),i()}},i=function(){r=null}},function(t,e,n){function i(t){this.phrases={},this.locale=t,r.call(this)}function r(){this.number=new _(this.locale),this.dateTime=new v(this.locale,this.number)}function o(t,e){return e?t.replace(S,function(t,n,i,r){var o=e[n||i||r];return i?w(o):o}):t}function s(t,e){return b[t](e)}function a(t){return Array.isArray(t)?t[0]:t.toString()}function u(){return 0}function l(t){return 1!==t?1:0}function c(t){return t>1?1:0}function h(t){return t%10===1&&t%100!==11?0:t%10>=2&&4>=t%10&&(10>t%100||t%100>=20)?1:2}function d(t){return 1===t?0:t>=2&&4>=t?1:2}function f(t){return 1===t?0:t%10>=2&&4>=t%10&&(10>t%100||t%100>=20)?1:2}function p(t){return t%10!==1||t%100===11?1:0}function g(t){for(var e,n,i=1,r=arguments.length;r>i;i++){e=arguments[i];for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}return t}function m(t){for(var e=1,n=arguments.length;n>e;e++){var i=arguments[e];for(var r in i)void 0===t[r]&&(t[r]=i[r])}return t}var v=n(82),_=n(83),y="sclocale";t.exports=i;var b,w,E="[a-zA-Z0-9_]+",S=new RegExp("\\[\\[\\[("+E+")\\]\\]\\]|\\[\\[("+E+")\\]\\]|(%d)","g");i.prototype.getLocaleCookieName=function(){return y},i.prototype.setLocale=function(t){this.locale=t,r.call(this)},i.prototype.extend=function(t){g(this.phrases,t)},i.prototype.t=function(t,e,n,i){var r=(n?n+"::":"")+t,s=this.phrases[r]||this.phrases[t]||t;return o.call(this,a(s),e)},i.prototype.tp=function(t,e,n,i,r,u){var l=(r?r+"::":"")+t,c=this.phrases[l]||this.phrases[t],h=this.number.format(n);return c=c?c[s(this.locale,n)]:s("en",n)?e:t,o.call(this,a(c),m({"%d":h},i))},b={id:u,ja:u,ko:u,ms:u,th:u,tr:u,zh:u,da:l,de:l,en:l,es:l,fi:l,el:l,he:l,hu:l,it:l,nl:l,no:l,pt:l,pt_BR:c,sv:l,fr:c,tl:c,hr:h,ru:h,cs:d,pl:f,is:p},w=function(){function t(t){return e[t]||"&amp;"}var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},n=/[&<>"'`]/g,i=/[&<>"'`]/;return function(e){return e||0===e?(e=""+e,i.test(e)?e.replace(n,t):e):""}}()},function(t,e){function n(t,e){this.serverOffset=0,this.numberHelper=e}function i(t,e){switch(e){case"day":t.setUTCHours(0,0,0,0);break;case"hour":t.setUTCMinutes(0,0,0)}}function r(t){return("0"+t).substr(-2)}t.exports=n;var o=1e3,s=6e4,a=60*s,u=24*a,l={millisecond:1,sec:1e3,min:60,hour:60,day:24,month:30,year:12},c=["January","February","March","April","May","June","July","August","September","October","November","December"],h=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],d=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],f={minute:s,hour:a,day:u};n.prototype.toRelativeTime=function(t,e,n){if(!(t instanceof Date))throw new Error("toRelativeTime method expects first argument to be Date");n=n||Date.now();var i,r=n-t,o=r>0,s=null;if(e=e&&parseInt(e,10)||1e3,r=Math.abs(r),e>=r)return o?"Just now":"Right now";for(i in l)if(l.hasOwnProperty(i)){if(r<l[i])break;s=i,r/=l[i]}return r=Math.floor(r),1!==r&&(s+="s"),[o?"":"In",r,s].filter(Boolean).join(" ")},n.prototype.format=function(t,e){var n,i,o,s,a;if(!(t instanceof Date))throw new Error("format method expects first argument to be Date");if("relative"===e)return this.toRelativeTime(t);switch(n=t.getDate(),i=t.getDay(),o=t.getMonth(),s=t.getFullYear(),a=r(t.getMinutes()),e){case"iso":return s+"-"+r(o+1)+"-"+r(n);case"readable":return n+" "+c[o]+" "+s;case"readable_time":return[n,c[o],s,[t.getHours(),a].join(":")].join(" ");case"readable_abbreviated":return h[o]+" "+n+", "+s;case"readable_with_weekday":return d[i]+", "+[n,c[o],s].join(" ");default:return n+"/"+(o+1)+"/"+s}},n.prototype.fromString=function(t){var e=Date.parse(t);return e?new Date(e):new Date(t)},n.prototype.setServerTime=function(t){var e,i;return e="number"==typeof t?new Date(t):n.prototype.fromString(t),i=e-Date.now(),Math.abs(i)>7*u?!1:(this.serverOffset=i,!0)},n.prototype.nowAtServer=function(){return Date.now()+this.serverOffset},n.prototype.timecode=function(t,e){if(isNaN(t))return t;var n=[],i=Math.floor(t/a),r=Math.floor(t/s%60),u=Math.floor(t/o%60);return e&&e.inWords?(i>0&&n.push(i,1===i?"hour":"hours"),r>0&&n.push(r,1===r?"minute":"minutes"),(u>0||0===r&&0===i)&&n.push(u,1===u?"second":"seconds"),n.join(" ")):(i>0&&n.push(i),e&&e.minimal&&0===i&&0===r?n.push(""):n.push(10>r&&i>0?"0"+r:r),n.push(10>u?"0"+u:u),n.join(":"))},n.prototype.stringToTime=function(t){var e,n=/^\d+(\.\d+)?$/g,i=/^(?:npt:)?(?:(?:(\d+):)?(\d\d?):)?(\d\d?)(\.\d+)?$/,r=/^(?:(\d\d?)[hH])?(?:(\d\d?)[mM])?(\d\d?)[sS]$/;return n.test(t)?1e3*parseFloat(t):(e=i.exec(t)||r.exec(t),e?1e3*(3600*(parseInt(e[1],10)||0)+60*(parseInt(e[2],10)||0)+parseInt(e[3],10)+(parseFloat(e[4])||0)):0)},n.prototype.convert=function(t,e,n){n=n||"s";var i="smh",r=i.indexOf(e),o=i.indexOf(n);if(-1===r||-1===o)throw new Error('Units must be expressed as either "h", "m" or "s"');return Math.round(Math.pow(60,o-r)*t)},n.prototype.floorTo30Minutes=function(t){return t=new Date(t),t.setMinutes(t.getMinutes()-t.getMinutes()%30),t},n.prototype.parseTime=function(t){var e,n,i,r=t.match(/^\s*(\d{1,2})\s*(?::\s*(\d{1,2}))?\s*(?:(a|p)m?)?\s*$/i);if(r&&(e=r[1]&&parseInt(r[1],10),n=r[2]&&parseInt(r[2],10),i=r[3]&&r[3].toLowerCase(),!(e>23||n>59))){if(i)if("p"===i){if(12>e)e+=12;else if(e>13)return}else if("a"===i)if(12===e)e=0;else if(e>12)return;return n||(n=0),[e,n]}},n.prototype.formatTime=function(t){return this.numberHelper.zeroPad(t.getHours(),2)+":"+this.numberHelper.zeroPad(t.getMinutes(),2)},n.prototype.getTimezoneOffset=function(){var t,e=new Date(2009,0,1,6,0,0),n=new Date(2009,6,1,6,0,0);return t=e.getUTCHours()>n.getUTCHours()?e.getTimezoneOffset():n.getTimezoneOffset()},n.prototype.time=f,n.prototype.getBounds=function(t){if(null==t.offset)return{};var e,n,r=new Date;return i(r,t.resolution),e=+new Date(+r+t.offset*f[t.resolution]),n=+new Date(e+(t.duration-1)*f[t.resolution]),{from:e,to:n}}},function(t,e){function n(){this.serverOffset=0}t.exports=n,n.prototype.format=function(t){return"number"!=typeof t&&(t=parseInt(t,10)),t!==t?"":t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},n.prototype.round=function(t,e){var n=Math.pow(10,e||0);return Math.round(t*n)/n},n.prototype.zeroPad=function(t,e){if(null==t)return t;t+="";var n=e-t.length;return n>0&&(t=new Array(n+1).join("0")+t),t}},function(t,e,n){var i=n(17),r={en:"English (US)",fr:"Français",pt_BR:"Português (Brasil)"},o=i.extend({},r),s={en:{},fr:n(85),pt_BR:n(86)},a=i.keys(r),u=i.keys(o);t.exports={defaultLocale:"en",locales:s,publicLanguages:r,publicLanguageCodes:a,experimentalAndPublicLanguages:o,experimentalAndPublicLanguageCodes:u}},function(t,e){t.exports={"Oops, we couldn’t find that profile.":"Oups, ce profil est introuvable","Oops, we couldn’t find that group.":"Oups, ce groupe est introuvable.","Oops, we couldn’t find that track.":"Oups, ce titre est introuvable.","Oops, we couldn’t find that playlist.":"Oups, cette playlist est introuvable.",'You need Adobe Flash Player to play sounds. <a href="http://get.adobe.com/flashplayer" target="_blank">Install Flash</a> and reload the page.':'Adobe Flash Player est nécessaire pour écouter des titres. <a href="http://get.adobe.com/flashplayer" target="_blank">Installez Flash</a> et réactualisez la page.',"This playlist is empty.":"Cette playlist est vide.","The owner of this track has not made it available for streaming in your location.":"Le propriétaire de ce titre ne l'a pas rendu disponible à la diffusion là où vous vous trouvez.",'You have not provided a valid SoundCloud URL. <a href="https://soundcloud.com/pages/embed">Learn more</a> about using SoundCloud players.':"L'URL SoundCloud fournie n'est pas valide. <a href=\"https://soundcloud.com/pages/embed\">En savoir plus</a> sur l'utilisation des lecteurs SoundCloud.","Play on SoundCloud":"Écouter sur SoundCloud",Retry:"Réessayer",'This playlist can’t be played outside of SoundCloud <br><a href="[[url]]">Play on SoundCloud</a>':'Impossible d\'écouter cette playlist hors de SoundCloud <br><a href="[[url]]">Écouter sur SoundCloud</a>',"This playlist can’t be played outside of SoundCloud":"Impossible d'écouter cette playlist hors de SoundCloud",'This track can’t be played outside of SoundCloud <br><a href="[[url]]">Play on SoundCloud</a>':'Impossible d\'écouter ce titre hors de SoundCloud <br><a href="[[url]]">Écouter sur SoundCloud</a>',"This track can’t be played outside of SoundCloud":"Impossible d'écouter ce titre hors de SoundCloud",Advertisement:"Publicité","Why Ads?":"Pourquoi des publicités ?",'Skip in <span class="skipAd__remaining">[[secondsremaining]]</span>':'Passer dans <span class="skipAd__remaining">[[secondsremaining]]</span>','Your track will start in <span class="skipAd__remaining">[[secondsremaining]]</span>':'Votre titre démarrera dans <span class="skipAd__remaining">[[secondsremaining]]</span>','Track starts in <span class="skipAd__remaining">[[secondsremaining]]</span>':'La lecture de votre titre commencera dans <span class="skipAd__remaining">[[secondsremaining]]</span>',"Cookie policy":"Politique d'utilisation des cookies","SoundCloud cookie policy":"Politique d'utilisation des cookies sur SoundCloud",Download:"Télécharger",Join:"Adhérer",Joined:"Adhéré","Hide share options":"Masquer les options",Share:"Partager","Leave a comment at [[timecode]]":"Laisser un commentaire à [[timecode]]","Click to reply to [[username]]":"Cliquez pour répondre à [[username]]","Sorry, something went wrong.":"Nous sommes désolés, un problème est survenu.","Buy all":"Acheter tout","Liked tracks of [[[username]]]":"Titres aimés par [[[username]]]","Spotlight tracks of [[[username]]]":"Titres épingles de [[[username]]]","Latest tracks by [[[username]]]":"Derniers titres de [[[username]]]",'Tracks from the <a class="sc-link-dark multiSoundDetails__link" href="[[link]]">[[title]]</a> group':'Titres du groupe <a class="sc-link-dark multiSoundDetails__link" href="[[link]]">[[title]]</a> ',"Visit [[username]]’s profile":"Consulter le profil de [[username]]","Go to this playlist’s page":"Accéder à la page de cette playlist",'<a class="sc-link-dark" href="[[permalink_url]]/followers">1 follower</a> including <a class="sc-link-dark" href="[[known_follower_permalink_url]]" title="Visit [[known_follower_name]]’s profile">[[known_follower_name]]</a>':['<a class="sc-link-dark" href="[[permalink_url]]/followers">1 abonné</a> dont<a class="sc-link-dark" href="[[known_follower_permalink_url]]" title="Consulter le profil de [[known_follower_name]]’s profile">[[known_follower_name]]</a>','<a class="sc-link-dark" href="[[permalink_url]]/followers">[[number]] abonnés</a> dont<a class="sc-link-dark" href="[[known_follower_permalink_url]]" title="Consulter le profil de [[known_follower_name]]">[[known_follower_name]]</a>'],'<a class="sc-link-dark" href="[[permalink_url]]/followers">1 follower</a>':['<a class="sc-link-dark" href="[[permalink_url]]/followers">1 abonné</a>','<a class="sc-link-dark" href="[[permalink_url]]/followers">[[number]] abonnés</a>'],'<a class="sc-link-dark" href="[[permalink_url]]/members">1 member</a> including <a class="sc-link-dark" href="[[known_member_permalink_url]]" title="Visit [[known_member_name]]’s profile">[[known_member_name]]</a>':['<a class="sc-link-dark" href="[[permalink_url]]/members">1 abonné</a> dont<a class="sc-link-dark" href="[[known_member_permalink_url]]" title="Consulter le profil de [[known_member_name]]">[[known_member_name]]</a>','<a class="sc-link-dark" href="[[permalink_url]]/members">[[number]] abonnés</a> dont<a class="sc-link-dark" href="[[known_member_permalink_url]]" title="Consulter le profil de [[known_member_name]]">[[known_member_name]]</a>'],'<a class="sc-link-dark" href="[[permalink_url]]/members">1 member</a>':['<a class="sc-link-dark" href="[[permalink_url]]/members">[[nombre]] membre</a>','<a class="sc-link-dark" href="[[permalink_url]]/members">[[number]] membres</a>'],"[[title]] on SoundCloud":"[[title]] sur SoundCloud","Share to [[socialnetwork]]":"Partager avec [[socialnetwork]]","[[title]] by [[username]]":"[[title]] par [[username]]","Liked tracks of [[username]]":"Titres aimés par [[username]]","Latest tracks by [[username]]":"Titres les plus récents par [[username]]","Tracks from [[group]]":"Titres de [[group]]",Embed:"Embarquer",Link:"Lien","Open on SoundCloud":"Ouvrir sur SoundCloud","Player controls":"Contrôles du lecteur","Hear more tracks like this":"Écouter plus de titres comme celui-ci",Play:"Écouter",Pause:"Mettre en pause",'Play more tracks by <a class="sc-link-white" href="[[link]]">[[text]]</a>':'Écouter plus de titres de <a class="sc-link-white" href="[[link]]">[[text]]</a>','Play another track by <a class="sc-link-white" href="[[link]]">[[text]]</a>':'Écouter un autre titre de <a class="sc-link-white" href="[[link]]">[[text]]</a>','Play more tracks like <a class="sc-link-white" href="[[link]]">[[text]]</a>':'Écouter plus de titres comme <a class="sc-link-white" href="[[link]]">[[text]]</a>','Play another track like <a class="sc-link-white" href="[[link]]">[[text]]</a>':'Écouter un autre titre comme <a class="sc-link-white" href="[[link]]">[[text]]</a>',Preview:"Aperçu","Play another track":"Écouter un autre titre",track:["titre","titres"],"1 play":["1 écoute","[[number]] écoutes"],"View track":"Voir le titre","Try it free for 30 days":"Essai gratuit pendant 30 jours","Hear full track":"Écouter le titre en entier","Explore more music & audio like [[[title]]] on SoundCloud.":"Explorez plus de musique comme [[[title]]] sur SoundCloud.","Get in on Google Play":"Téléchargez l'application sur Google Play","Download on the App Store":"Télécharger dans l’App Store","Upgrade to SoundCloud Go":"Passez à SoundCloud Go","Get our expanded catalog, with offline listening and no ads.":"Bénéficiez de notre catalogue étendu avec l'écoute hors ligne et sans publicités","Hear more on<br/>SoundCloud":"Découvrez plus<br/>sur SoundCloud","Back to track in [[[seconds]]]":"Retour au titre dans [[[seconds]]]","Liked tracks":"Titres aimés","Featured tracks":"Titres en vogue","Latest tracks":"Titres récents","1 track":["%d titre","%d titres"],"1 follower":["%d abonné","%d abonnés"],"We're still processing this track or playlist.":"Ce titre ou cette playlist est encore en cours de traitement.","button::Buy all":"Acheter tout","button::Buy":"Acheter","button::Follow back":"Suivre aussi","button::Following":"Abonné(e)","button::Follow":"Suivre","button::Like":"J'aime","button::Liked":"Vous aimez","sound::This track is not available in your country.":"Ce titre n'est pas disponible dans votre pays.","sound::Play related tracks":"Écouter des titres similaires","sound::Not available in your country":"Non disponible dans votre pays"}},function(t,e){t.exports={"Oops, we couldn’t find that profile.":"Ops, não foi possível encontrar esse perfil.","Oops, we couldn’t find that group.":"Ops, não foi possível encontrar esse grupo.","Oops, we couldn’t find that track.":"Ops, não foi possível encontrar esta faixa.","Oops, we couldn’t find that playlist.":"Ops, não foi possível encontrar essa playlist.",'You need Adobe Flash Player to play sounds. <a href="http://get.adobe.com/flashplayer" target="_blank">Install Flash</a> and reload the page.':'Você precisa do Adobe Flash Player para reproduzir sons. <a href="http://get.adobe.com/flashplayer" target="_blank">Instale o Flash</a> e recarregue a página.',"This playlist is empty.":"Esta playlist está vazia.","The owner of this track has not made it available for streaming in your location.":"O dono desta faixa não a disponibilizou para streaming em sua localização.",'You have not provided a valid SoundCloud URL. <a href="https://soundcloud.com/pages/embed">Learn more</a> about using SoundCloud players.':'Você não forneceu um URL válido da SoundCloud. <a href="https://soundcloud.com/pages/embed">Saiba mais</a> sobre como usar os players da SoundCloud.',"Play on SoundCloud":"Reproduzir na SoundCloud",Retry:"Tentar novamente",'This playlist can’t be played outside of SoundCloud <br><a href="[[url]]">Play on SoundCloud</a>':'Esta playlist não pode ser reproduzida fora da SoundCloud <br><a href="[[url]]">Reproduza na SoundCloud</a>',"This playlist can’t be played outside of SoundCloud":"Esta playlist não pode ser reproduzida fora da SoundCloud",'This track can’t be played outside of SoundCloud <br><a href="[[url]]">Play on SoundCloud</a>':'Esta faixa não pode ser reproduzida fora da SoundCloud <br><a href="[[url]]">Reproduzir na SoundCloud</a>',"This track can’t be played outside of SoundCloud":"Esta faixa não pode ser reproduzida fora da SoundCloud",Advertisement:"Anúncio","Why Ads?":"Por que anúncios?",'Skip in <span class="skipAd__remaining">[[secondsremaining]]</span>':'Pular em <span class="skipAd__remaining">[[secondsremaining]]</span>','Your track will start in <span class="skipAd__remaining">[[secondsremaining]]</span>':'Sua faixa vai começar em <span class="skipAd__remaining">[[secondsremaining]]</span>','Track starts in <span class="skipAd__remaining">[[secondsremaining]]</span>':'A faixa começa em <span class="skipAd__remaining">[[secondsremaining]]</span>',"Cookie policy":"Política de Cookies","SoundCloud cookie policy":"Política de Cookies da SoundCloud",Download:"Baixar",Join:"Participar",Joined:"Cadastrado","Hide share options":"Ocultar opções de compartilhamento",Share:"Compartilhar","Leave a comment at [[timecode]]":"Deixar um comentário às [[timecode]]","Click to reply to [[username]]":"Clicar para responder a [[username]]","Sorry, something went wrong.":"Ocorreu um erro.","Buy all":"Comprar tudo","Liked tracks of [[[username]]]":"Curtiu as faixas de [[[username]]]","Spotlight tracks of [[[username]]]":"Faixas em destaque de [[[username]]]","Latest tracks by [[[username]]]":"Faixas mais recentes de [[[username]]]",'Tracks from the <a class="sc-link-dark multiSoundDetails__link" href="[[link]]">[[title]]</a> group':'Faixas do grupo <a class="sc-link-dark multiSoundDetails__link" href="[[link]]">[[title]]</a>',"Visit [[username]]’s profile":"Visite o perfil de [[username]]","Go to this playlist’s page":"Ir para a página desta playlist",'<a class="sc-link-dark" href="[[permalink_url]]/followers">1 follower</a> including <a class="sc-link-dark" href="[[known_follower_permalink_url]]" title="Visit [[known_follower_name]]’s profile">[[known_follower_name]]</a>':['<a class="sc-link-dark" href="[[permalink_url]]/followers">1 seguidor</a> incluindo <a class="sc-link-dark" href="[[known_follower_permalink_url]]" title="Visite o perfil de [[known_follower_name]]">[[known_follower_name]]</a>','<a class="sc-link-dark" href="[[permalink_url]]/followers">[[number]] seguidores</a> incluindo <a class="sc-link-dark" href="[[known_follower_permalink_url]]" title="Visite o perfil de [[known_follower_name]]">[[known_follower_name]]</a>'],'<a class="sc-link-dark" href="[[permalink_url]]/followers">1 follower</a>':['<a class="sc-link-dark" href="[[permalink_url]]/followers">1 seguidor</a>','<a class="sc-link-dark" href="[[permalink_url]]/followers">[[number]] seguidores</a>'],'<a class="sc-link-dark" href="[[permalink_url]]/members">1 member</a> including <a class="sc-link-dark" href="[[known_member_permalink_url]]" title="Visit [[known_member_name]]’s profile">[[known_member_name]]</a>':['<a class="sc-link-dark" href=”[[permalink_url]]/members">1 membro</a> incluindo <a class="sc-link-dark" href="[[known_member_permalink_url]]" title="Visite o perfil de [[known_member_name]]">[[known_member_name]]</a>','<a class="sc-link-dark" href="[[permalink_url]]/members">[[number]] seguidores</a> incluindo <a class="sc-link-dark" href="[[known_member_permalink_url]]" title="Visite o perfil de [[known_member_name]]">[[known_member_name]]</a>'],'<a class="sc-link-dark" href="[[permalink_url]]/members">1 member</a>':['<a class="sc-link-dark" href="[[permalink_url]]/members">1 membro</a>','<a class="sc-link-dark" href="[[permalink_url]]/members">[[number]] membros</a>'],"[[title]] on SoundCloud":"[[Título]] na SoundCloud","Pin it":"Fixar","Share to [[socialnetwork]]":"Compartilhar no [[socialnetwork]]","[[title]] by [[username]]":"[[title]] de [[username]]","Liked tracks of [[username]]":"Faixas curtidas de [[username]]","Latest tracks by [[username]]":"Últimas faixas de [[username]]","Tracks from [[group]]":"Faixas de [[group]]",Embed:"Embutir","Open on SoundCloud":"Abrir na SoundCloud","Player controls":"Controles do reprodutor","Hear more tracks like this":"Ouça mais faixas como esta",Play:"Reproduzir",Pause:"Pausar",'Play more tracks by <a class="sc-link-white" href="[[link]]">[[text]]</a>':'Reproduzir mais faixas de <a class="sc-link-white" href="[[link]]">[[text]]</a>','Play another track by <a class="sc-link-white" href="[[link]]">[[text]]</a>':'Reproduzir outra faixa de <a class="sc-link-white" href="[[link]]">[[text]]</a>','Play more tracks like <a class="sc-link-white" href="[[link]]">[[text]]</a>':'Reproduzir mais faixas como <a class="sc-link-white" href="[[link]]">[[text]]</a>','Play another track like <a class="sc-link-white" href="[[link]]">[[text]]</a>':'Reproduzir outra faixa como <a class="sc-link-white" href="[[link]]">[[text]]</a>',Preview:"Pré-vizualização","Play another track":"Reproduzir outra faixa",track:["faixa","faixas"],"1 play":["1 reprodução","[[number]] reproduções"],"View track":"Exibir faixa","Try it free for 30 days":"Experimente grátis por 30 dias","Hear full track":"Ouvir faixa completa","Explore more music & audio like [[[title]]] on SoundCloud.":"Explore mais músicas e áudios como [[[title]]] na SoundCloud.","Get in on Google Play":"Adquira na Google Play","Download on the App Store":"Baixar na AppStore","Upgrade to SoundCloud Go":"Fazer upgrade para o SoundCloud Go","Get our expanded catalog, with offline listening and no ads.":"Obtenha nosso catálogo expandido, com escuta offline e sem anúncios.","Hear more on<br/>SoundCloud":"Ouça mais na<br/>SoundCloud","Back to track in [[[seconds]]]":"Voltar para faixa em [[[seconds]]]","Liked tracks":"Faixas curtidas","Featured tracks":"Faixas em destaque","Latest tracks":"Faixas recentes","1 track":["1 faixa","%d faixas"],"1 follower":["1 seguidor","%d seguidores"],"We're still processing this track or playlist.":"Ainda estamos processando essa faixa ou playlist.","button::Buy all":"Comprar tudo","button::Buy":"Comprar","button::Follow back":"Voltar atrás","button::Following":"Seguindo","button::Follow":"Seguir","button::Like":"Curtir","button::Liked":"Curtiu","sound::This track is not available in your country.":"Esta faixa não está disponível no seu país.","sound::Play related tracks":"Reproduzir faixas relacionadas","sound::Not available in your country":"Não disponível no seu país"}},function(t,e,n){(function(e){function i(t,e){return u.defaults(e,t.prototype.defaults),t===g?e:i(t.__super__.constructor,e)}function r(t,e){var n,i;e=e||this.model,n=t?e.on:e.off,i=this.getObservedAttributes(e),i.forEach(function(t){n.call(e,"change:"+t,this.onModelChange,this)}.bind(this))}function o(t,e){var n;e=e||this.collection,n=t?"on":"off",e[n]("add",this.onAdd,this)[n]("remove",this.onRemove,this)[n]("reset",this.onCollectionReset,this)}function s(t){var e=n(7);if(t.css){var i=t.css.length>1?t.css:[t.css];i.map(function(e){return t.colorCustomizable&&e.map(function(t){return t[1]=a(t[1]),t}),e}).forEach(function(t){e(t)})}}function a(t){var e=p.getColorParams();return u.each(e,function(t,n){e[n]=" "+t+" "}),f.replaceCSSVariables(t,e)}var u=n(19),l=n(32),c=n(30),h=n(88),d=n(89),f=n(24),p=n(110),g=t.exports=l.View.extend(h,{ModelClass:null,requiredAttributes:null,observedAttributes:null,css:null,template:e.noop,LoadingView:null,loadingViewArgs:null,loadingTemplate:function(){return""},element2selector:{},_element2selector_cache:null,defaults:null,disposed:!1,subviews:null,_subviews_keys:null,_lastEventId:null,constructorArguments:null,_whenInsertedDefer:null,_deferreds:null,initialize:function(t){t=this.options=i(this.constructor,t||{}),this.constructorArguments=u.clone(t),t.resource_id&&this.ModelClass?this.model=this.getModel(t.resource_id,t.resource_type):"function"==typeof this.collection&&(this.collection=new this.collection),this._deferreds=[],this.subviews=[],this._subviews_keys=[],this.resetElementCache(),this._setup.call(this,t),this.model&&this.setupModelListeners(),this.collection&&this.setupCollectionListeners(),s(this)},_setup:function(){this.setup.apply(this,arguments)},setup:e.noop,_dispose:function(){if(!this.disposed){for(this._teardown(),this.dispose(),this.disposed=!0;this._deferreds.length;)"number"==typeof this._deferreds[0]?clearTimeout(this._deferreds.shift()):this._deferreds[0].reject("viewDisposed");this.off(),this.model&&(this.teardownModelListeners(),this.model.release()),this.collection&&(this.teardownCollectionListeners(),this.collection.release()),this.$el.remove(),this._whenInsertedDefer&&(this._whenInsertedDefer.reject(),this._whenInsertedDefer=null),this._whenRenderedDefer&&(this._whenRenderedDefer.reject(),this._whenRenderedDefer=null),delete this.el,delete this.$el,delete this.model,delete this.collection,this.constructorArguments=null}},dispose:e.noop,_teardown:function(){this.resetElementCache(),this.disposeSubviews(),this.teardown()},teardown:e.noop,disposeSubviews:function(){for(;this.subviews.length;)this.subviews.pop()._dispose();this.subviews=[],this._subviews_keys=[]},getModel:function(t,e){var n,i,r,o,s;return o={id:t,resource_type:e},r=this.ModelClass.getClass?this.ModelClass.getClass(o):this.ModelClass,n=r.hashFn(o),i=r.instances.get(n),i?i.hold():(s={id:t},e&&(s.resource_type=e),i=new r(s)),i},setupModelListeners:function(t){r.call(this,!0,t)},teardownModelListeners:function(t){r.call(this,!1,t)},setupCollectionListeners:function(t){o.call(this,!0,t)},teardownCollectionListeners:function(t){o.call(this,!1,t)},getRequiredAttributes:function(t){var e=this.requiredAttributes;return t||(t=this.model),e&&!Array.isArray(e)&&(e=e[t.resource_type]),e||[]},getObservedAttributes:function(t){
var e,n=this.observedAttributes;return t||(t=this.model),e=this.getRequiredAttributes(t),n&&!Array.isArray(n)&&(n=n[t.resource_type]),n?n.concat(e):e},addDeferred:function(t){return"number"==typeof t?this._deferreds.push(t):"pending"===t.state()&&(t.always(function(){var e=this._deferreds.indexOf(t);e>-1&&this._deferreds.splice(e,1)}.bind(this)),this._deferreds.push(t)),t},addSubview:function(t,e){return this.subviews.push(t),this._subviews_keys.push(e),e&&(this.subviews[e]=t),t},removeSubview:function(t){for(var e=this.subviews.length;e--;)if(this.subviews[e]===t)return this._subviews_keys[e]&&delete this.subviews[this._subviews_keys[e]],this.subviews.splice(e,1),void this._subviews_keys.splice(e,1)},getElement:function(t){var e,n,i;return this._element2selector_cache[t]===e&&(i=this.className.split(" ").shift(),n=this.element2selector[t]||"."+i+"__"+t,this._element2selector_cache[t]=this.$(n)),this._element2selector_cache[t]},resetElementCache:function(){this._element2selector_cache={}},render:function(){var t=this.hasData(),n=this.getTemplate(t),i=this.model||this.collection,r=t||!i?this._getTemplateData(t):i.toJSON();return n&&(d.render(n.bind(this),r,this.el),d.subviews(this)),t?(this.renderDecorate(),this._whenRenderedDefer||(this._whenRenderedDefer=e.Deferred()),this._whenRenderedDefer.resolve()):i&&(!n&&this.LoadingView&&this.addSubview(new this.LoadingView(u.result(this,"loadingViewArgs")),"loading").render().$el.appendTo(this.el),this.fetchData(i)),this},renderDecorate:e.noop,rerender:function(){this.disposed||(this._teardown(),this.render())},getTemplate:function(t){return t||!this.LoadingView&&!this.loadingTemplate?this.template:this.LoadingView?null:this.loadingTemplate},_getTemplateData:function(t){var e={};return this.model?e=this.getModelData():this.collection&&(e=this.getCollectionData()),e._options=u.clone(this.options),e._params=u.clone(c.get("widgetParams")),t&&(e=this.getTemplateData(e)||e),e},getTemplateData:e.noop,getCollectionData:function(){return this.collection.toJSON()},getModelData:function(){return this.model.toJSON()},fetchData:function(t){return t.fetch({attrs:this.getObservedAttributes(t)})},hasData:function(t){return t=t||this.model||this.collection,t?t.hasDataForView(this):!0},scrollIntoView:function(t){var n,i,r,o,s,a,l,c,h=this.$el.offset();return t=u.defaults({},t,{position:"auto"}),h?(l=e(".g-main-scroll-area").first(),l.length||(l=e("#content")),o=e(document).scrollTop(),c=l.offset().top,i=o+c,r=o+e(window).height(),s=Math.floor(h.top),a=Math.floor(s+this.$el.height()),n=s>i&&r>a,void(n||("top"===t.position||"auto"===t.position&&i>s?window.scrollTo(0,s-c):this.el.scrollIntoView(!1)))):!1},removeLoader:function(){var t=this.subviews.loading;t&&(t._dispose(),this.removeSubview(t))},isEquivalentTo:function(t,e){var n=e||{};return this.constructor===t&&u.isEqual(i(t,n),this.constructorArguments)},whenInserted:function(t){var n,i,r=this._whenInsertedDefer;return r||(t=t||document.body,i=function(e){0!==e.closest(t).length?this.disposed||r.resolve():n=setTimeout(i,100)}.bind(null,this.$el),this._whenInsertedDefer=r=e.Deferred(),r.fail(function(){clearTimeout(n)}),i()),r},whenRendered:function(){var t=this._whenRenderedDefer;return t||(t=this._whenRenderedDefer=e.Deferred()),t},whenReady:function(){var t=e.Deferred();return e.whenAll([this.whenInserted(),this.whenRendered()]).done(t.resolve.bind(t,this)),t},onModelChange:function(t,e,n,i){this._lastEventId!==i&&(this._lastEventId=i,this.rerender())},onCollectionReset:function(){this.rerender()},onAdd:e.noop,onRemove:e.noop});g.prototype.$$=g.prototype.getElement}).call(e,n(1))},function(t,e,n){var i=n(19),r=n(34);t.exports=new r({states:null,_states:null,toggleState:function(t,e){var n,r;return this.disposed?this:(this.states||(this.states={}),this.states[t]||(this.states[t]=t),this._states=this._states||{},this._states[t]=this._states[t]||!1,e="undefined"!=typeof e?!!e:!this._states[t],this._states[t]===e?this:(this._states[t]=e,n=this.states[t],"string"==typeof n?(r=n,this.$el[e?"addClass":"removeClass"](r)):i.isFunction(n)?n.call(this,e):n&&n[e?"setup":"teardown"].call(this),this.trigger("state:"+t,e),this))},getState:function(t){return!(!this._states||!this._states[t])}})},function(t,e,n){(function(e){var i=n(19),r=n(90);t.exports={render:function(t,n,r){var o,s,a,u=t(n||{});return r?(i.isArray(r)?(o=r[0],s=r[1],a=document.createElement(o),s&&e(a).attr(s)):a=r,a.innerHTML=u,a):u},subviews:function(t){r.replacePlaceholders(t)}}}).call(e,n(1))},function(t,e,n){function i(t,e){var n,i,o,a=t.getAttribute("data-id"),u=s[a];i=u.__class,delete s[a],u.key&&(o=u.key),n=e.addSubview(new i(r.omit(u,"__path","__class","key")),o),n.render(),t.parentNode.replaceChild(n.el,t)}var r=n(17),o=n(91),s={},a=0;t.exports={handlebarHelper:function(t,e){var n,i,u=e.hash;return u.__class=t,i=t,u.args&&(r.isFunction(u.args)&&(u.args=u.args(this)),e.hash=u=r.assign({},u.args,u)),delete u.args,e.fn&&(u.blockContent=new o.SafeString(e.fn(this))),u.className&&(u.className=[i.prototype.className,u.className].filter(Boolean).join(" ")),n=a++,s[n]=u,'<view data-id="'+n+'"></view>'},replacePlaceholders:function(t){t.$("view").each(function(){i(this,t)})}}},function(t,e,n){t.exports=n(92)["default"]},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function o(){var t=new a.HandlebarsEnvironment;return f.extend(t,a),t.SafeString=l["default"],t.Exception=h["default"],t.Utils=f,t.escapeExpression=f.escapeExpression,t.VM=g,t.template=function(e){return g.template(e,t)},t}e.__esModule=!0;var s=n(93),a=r(s),u=n(107),l=i(u),c=n(95),h=i(c),d=n(94),f=r(d),p=n(108),g=r(p),m=n(109),v=i(m),_=o();_.create=o,v["default"](_),_["default"]=_,e["default"]=_,t.exports=e["default"]},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e,n){this.helpers=t||{},this.partials=e||{},this.decorators=n||{},u.registerDefaultHelpers(this),l.registerDefaultDecorators(this)}e.__esModule=!0,e.HandlebarsEnvironment=r;var o=n(94),s=n(95),a=i(s),u=n(96),l=n(104),c=n(106),h=i(c),d="4.0.5";e.VERSION=d;var f=7;e.COMPILER_REVISION=f;var p={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0"};e.REVISION_CHANGES=p;var g="[object Object]";r.prototype={constructor:r,logger:h["default"],log:h["default"].log,registerHelper:function(t,e){if(o.toString.call(t)===g){if(e)throw new a["default"]("Arg not supported with multiple helpers");o.extend(this.helpers,t)}else this.helpers[t]=e},unregisterHelper:function(t){delete this.helpers[t]},registerPartial:function(t,e){if(o.toString.call(t)===g)o.extend(this.partials,t);else{if("undefined"==typeof e)throw new a["default"]('Attempting to register a partial called "'+t+'" as undefined');this.partials[t]=e}},unregisterPartial:function(t){delete this.partials[t]},registerDecorator:function(t,e){if(o.toString.call(t)===g){if(e)throw new a["default"]("Arg not supported with multiple decorators");o.extend(this.decorators,t)}else this.decorators[t]=e},unregisterDecorator:function(t){delete this.decorators[t]}};var m=h["default"].log;e.log=m,e.createFrame=o.createFrame,e.logger=h["default"]},function(t,e){"use strict";function n(t){return c[t]}function i(t){for(var e=1;e<arguments.length;e++)for(var n in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],n)&&(t[n]=arguments[e][n]);return t}function r(t,e){for(var n=0,i=t.length;i>n;n++)if(t[n]===e)return n;return-1}function o(t){if("string"!=typeof t){if(t&&t.toHTML)return t.toHTML();if(null==t)return"";if(!t)return t+"";t=""+t}return d.test(t)?t.replace(h,n):t}function s(t){return t||0===t?g(t)&&0===t.length?!0:!1:!0}function a(t){var e=i({},t);return e._parent=t,e}function u(t,e){return t.path=e,t}function l(t,e){return(t?t+".":"")+e}e.__esModule=!0,e.extend=i,e.indexOf=r,e.escapeExpression=o,e.isEmpty=s,e.createFrame=a,e.blockParams=u,e.appendContextPath=l;var c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},h=/[&<>"'`=]/g,d=/[&<>"'`=]/,f=Object.prototype.toString;e.toString=f;var p=function(t){return"function"==typeof t};p(/x/)&&(e.isFunction=p=function(t){return"function"==typeof t&&"[object Function]"===f.call(t)}),e.isFunction=p;var g=Array.isArray||function(t){return t&&"object"==typeof t?"[object Array]"===f.call(t):!1};e.isArray=g},function(t,e){"use strict";function n(t,e){var r=e&&e.loc,o=void 0,s=void 0;r&&(o=r.start.line,s=r.start.column,t+=" - "+o+":"+s);for(var a=Error.prototype.constructor.call(this,t),u=0;u<i.length;u++)this[i[u]]=a[i[u]];Error.captureStackTrace&&Error.captureStackTrace(this,n),r&&(this.lineNumber=o,this.column=s)}e.__esModule=!0;var i=["description","fileName","lineNumber","message","name","number","stack"];n.prototype=new Error,e["default"]=n,t.exports=e["default"]},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t){s["default"](t),u["default"](t),c["default"](t),d["default"](t),p["default"](t),m["default"](t),_["default"](t)}e.__esModule=!0,e.registerDefaultHelpers=r;var o=n(97),s=i(o),a=n(98),u=i(a),l=n(99),c=i(l),h=n(100),d=i(h),f=n(101),p=i(f),g=n(102),m=i(g),v=n(103),_=i(v)},function(t,e,n){"use strict";e.__esModule=!0;var i=n(94);e["default"]=function(t){t.registerHelper("blockHelperMissing",function(e,n){var r=n.inverse,o=n.fn;if(e===!0)return o(this);if(e===!1||null==e)return r(this);if(i.isArray(e))return e.length>0?(n.ids&&(n.ids=[n.name]),t.helpers.each(e,n)):r(this);if(n.data&&n.ids){var s=i.createFrame(n.data);s.contextPath=i.appendContextPath(n.data.contextPath,n.name),n={data:s}}return o(e,n)})},t.exports=e["default"]},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var r=n(94),o=n(95),s=i(o);e["default"]=function(t){t.registerHelper("each",function(t,e){function n(e,n,o){l&&(l.key=e,l.index=n,l.first=0===n,l.last=!!o,c&&(l.contextPath=c+e)),u+=i(t[e],{data:l,blockParams:r.blockParams([t[e],e],[c+e,null])})}if(!e)throw new s["default"]("Must pass iterator to #each");var i=e.fn,o=e.inverse,a=0,u="",l=void 0,c=void 0;if(e.data&&e.ids&&(c=r.appendContextPath(e.data.contextPath,e.ids[0])+"."),r.isFunction(t)&&(t=t.call(this)),e.data&&(l=r.createFrame(e.data)),t&&"object"==typeof t)if(r.isArray(t))for(var h=t.length;h>a;a++)a in t&&n(a,a,a===t.length-1);else{var d=void 0;for(var f in t)t.hasOwnProperty(f)&&(void 0!==d&&n(d,a-1),d=f,a++);void 0!==d&&n(d,a-1,!0)}return 0===a&&(u=o(this)),u})},t.exports=e["default"]},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var r=n(95),o=i(r);e["default"]=function(t){t.registerHelper("helperMissing",function(){if(1===arguments.length)return void 0;throw new o["default"]('Missing helper: "'+arguments[arguments.length-1].name+'"')})},t.exports=e["default"]},function(t,e,n){"use strict";e.__esModule=!0;var i=n(94);e["default"]=function(t){t.registerHelper("if",function(t,e){return i.isFunction(t)&&(t=t.call(this)),!e.hash.includeZero&&!t||i.isEmpty(t)?e.inverse(this):e.fn(this)}),t.registerHelper("unless",function(e,n){return t.helpers["if"].call(this,e,{fn:n.inverse,inverse:n.fn,hash:n.hash})})},t.exports=e["default"]},function(t,e){"use strict";e.__esModule=!0,e["default"]=function(t){t.registerHelper("log",function(){for(var e=[void 0],n=arguments[arguments.length-1],i=0;i<arguments.length-1;i++)e.push(arguments[i]);var r=1;null!=n.hash.level?r=n.hash.level:n.data&&null!=n.data.level&&(r=n.data.level),e[0]=r,t.log.apply(t,e)})},t.exports=e["default"]},function(t,e){"use strict";e.__esModule=!0,e["default"]=function(t){t.registerHelper("lookup",function(t,e){return t&&t[e]})},t.exports=e["default"]},function(t,e,n){"use strict";e.__esModule=!0;var i=n(94);e["default"]=function(t){t.registerHelper("with",function(t,e){i.isFunction(t)&&(t=t.call(this));var n=e.fn;if(i.isEmpty(t))return e.inverse(this);var r=e.data;return e.data&&e.ids&&(r=i.createFrame(e.data),r.contextPath=i.appendContextPath(e.data.contextPath,e.ids[0])),n(t,{data:r,blockParams:i.blockParams([t],[r&&r.contextPath])})})},t.exports=e["default"]},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t){s["default"](t)}e.__esModule=!0,e.registerDefaultDecorators=r;var o=n(105),s=i(o)},function(t,e,n){"use strict";e.__esModule=!0;var i=n(94);e["default"]=function(t){t.registerDecorator("inline",function(t,e,n,r){var o=t;return e.partials||(e.partials={},o=function(r,o){var s=n.partials;n.partials=i.extend({},s,e.partials);var a=t(r,o);return n.partials=s,a}),e.partials[r.args[0]]=r.fn,o})},t.exports=e["default"]},function(t,e,n){"use strict";e.__esModule=!0;var i=n(94),r={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(t){if("string"==typeof t){var e=i.indexOf(r.methodMap,t.toLowerCase());t=e>=0?e:parseInt(t,10)}return t},log:function(t){if(t=r.lookupLevel(t),"undefined"!=typeof console&&r.lookupLevel(r.level)<=t){var e=r.methodMap[t];console[e]||(e="log");for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;n>o;o++)i[o-1]=arguments[o];console[e].apply(console,i)}}};e["default"]=r,t.exports=e["default"]},function(t,e){"use strict";function n(t){this.string=t}e.__esModule=!0,n.prototype.toString=n.prototype.toHTML=function(){return""+this.string},e["default"]=n,t.exports=e["default"]},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function o(t){var e=t&&t[0]||1,n=v.COMPILER_REVISION;if(e!==n){if(n>e){var i=v.REVISION_CHANGES[n],r=v.REVISION_CHANGES[e];throw new m["default"]("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+i+") or downgrade your runtime to an older version ("+r+").")}throw new m["default"]("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+t[1]+").")}}function s(t,e){function n(n,i,r){r.hash&&(i=p.extend({},i,r.hash),r.ids&&(r.ids[0]=!0)),n=e.VM.resolvePartial.call(this,n,i,r);var o=e.VM.invokePartial.call(this,n,i,r);if(null==o&&e.compile&&(r.partials[r.name]=e.compile(n,t.compilerOptions,e),o=r.partials[r.name](i,r)),null!=o){if(r.indent){for(var s=o.split("\n"),a=0,u=s.length;u>a&&(s[a]||a+1!==u);a++)s[a]=r.indent+s[a];o=s.join("\n")}return o}throw new m["default"]("The partial "+r.name+" could not be compiled when running in runtime-only mode")}function i(e){function n(e){return""+t.main(r,e,r.helpers,r.partials,s,u,a)}var o=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],s=o.data;i._setup(o),!o.partial&&t.useData&&(s=h(e,s));var a=void 0,u=t.useBlockParams?[]:void 0;return t.useDepths&&(a=o.depths?e!==o.depths[0]?[e].concat(o.depths):o.depths:[e]),(n=d(t.main,n,r,o.depths||[],s,u))(e,o)}if(!e)throw new m["default"]("No environment passed to template");if(!t||!t.main)throw new m["default"]("Unknown template object: "+typeof t);t.main.decorator=t.main_d,e.VM.checkRevision(t.compiler);var r={strict:function(t,e){if(!(e in t))throw new m["default"]('"'+e+'" not defined in '+t);return t[e]},lookup:function(t,e){for(var n=t.length,i=0;n>i;i++)if(t[i]&&null!=t[i][e])return t[i][e]},lambda:function(t,e){return"function"==typeof t?t.call(e):t},escapeExpression:p.escapeExpression,invokePartial:n,fn:function(e){var n=t[e];return n.decorator=t[e+"_d"],n},programs:[],program:function(t,e,n,i,r){var o=this.programs[t],s=this.fn(t);return e||r||i||n?o=a(this,t,s,e,n,i,r):o||(o=this.programs[t]=a(this,t,s)),o},data:function(t,e){for(;t&&e--;)t=t._parent;return t},merge:function(t,e){var n=t||e;return t&&e&&t!==e&&(n=p.extend({},e,t)),n},noop:e.VM.noop,compilerInfo:t.compiler};return i.isTop=!0,i._setup=function(n){n.partial?(r.helpers=n.helpers,r.partials=n.partials,r.decorators=n.decorators):(r.helpers=r.merge(n.helpers,e.helpers),t.usePartial&&(r.partials=r.merge(n.partials,e.partials)),(t.usePartial||t.useDecorators)&&(r.decorators=r.merge(n.decorators,e.decorators)))},i._child=function(e,n,i,o){if(t.useBlockParams&&!i)throw new m["default"]("must pass block params");if(t.useDepths&&!o)throw new m["default"]("must pass parent depths");return a(r,e,t[e],n,0,i,o)},i}function a(t,e,n,i,r,o,s){function a(e){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],a=s;return s&&e!==s[0]&&(a=[e].concat(s)),n(t,e,t.helpers,t.partials,r.data||i,o&&[r.blockParams].concat(o),a)}return a=d(n,a,t,s,i,o),a.program=e,a.depth=s?s.length:0,a.blockParams=r||0,a}function u(t,e,n){return t?t.call||n.name||(n.name=t,t=n.partials[t]):t="@partial-block"===n.name?n.data["partial-block"]:n.partials[n.name],t}function l(t,e,n){n.partial=!0,n.ids&&(n.data.contextPath=n.ids[0]||n.data.contextPath);var i=void 0;if(n.fn&&n.fn!==c&&(n.data=v.createFrame(n.data),i=n.data["partial-block"]=n.fn,i.partials&&(n.partials=p.extend({},n.partials,i.partials))),void 0===t&&i&&(t=i),void 0===t)throw new m["default"]("The partial "+n.name+" could not be found");return t instanceof Function?t(e,n):void 0}function c(){return""}function h(t,e){return e&&"root"in e||(e=e?v.createFrame(e):{},e.root=t),e}function d(t,e,n,i,r,o){if(t.decorator){var s={};e=t.decorator(e,s,n,i&&i[0],r,o,i),p.extend(e,s)}return e}e.__esModule=!0,e.checkRevision=o,e.template=s,e.wrapProgram=a,e.resolvePartial=u,e.invokePartial=l,e.noop=c;var f=n(94),p=r(f),g=n(95),m=i(g),v=n(93)},function(t,e){(function(n){"use strict";e.__esModule=!0,e["default"]=function(t){var e="undefined"!=typeof n?n:window,i=e.Handlebars;t.noConflict=function(){return e.Handlebars===t&&(e.Handlebars=i),t}},t.exports=e["default"]}).call(e,function(){return this}())},function(t,e,n){function i(t){var e=t.hue(r(t));return t.diff(e.hex()).brightness<c&&e.darken(5),e}function r(t){var e=t.toHsl();return(e.h<=180?"-":"+")+(e.l>=25&&e.l<=75?"12":"24")}var o,s=n(30),a=n(77),u="#FFFFFF",l="#333333",c=20,h=10,d=15;t.exports={getColorParams:function(){if(!o){var t=a(s.get("widgetParams").color);o={mainColor:t.hex(),mainContrastColor:t.contrast(u,l).hex(),mainColorShade:i(t).hex(),mainColorDarker:t.darken(h).hex(),mainColorLighter:t.lighten(d).hex()}}return o}}},function(t,e,n){e=t.exports=n(4)(),e.push([t.id,".cookiePolicy{position:fixed;bottom:0;left:0;z-index:1000;padding:1px 3px;opacity:1;font-size:10px;border-top-right-radius:2px}.cookiePolicy__link{float:left}.cookiePolicy__link:focus{color:#000;text-decoration:underline;outline:none}.cookiePolicy__pline{display:none;position:absolute;right:3px;left:85px;text-align:right;cursor:default}.cookiePolicy.extended{right:0}.cookiePolicy.extended .cookiePolicy__pline{display:inline-block;margin-left:10px}.cookiePolicy.extended .cookiePolicy__link{margin-right:10px}",""])},function(t,e,n){var i=n(91);t.exports=(i["default"]||i).template({1:function(t,e,n,i,r){var o;return'  <a href="#" class="cookiePolicy__pline sc-truncate sc-link-medium">'+t.escapeExpression((o=null!=(o=n.publisher_info||(null!=e?e.publisher_info:e))?o:n.helperMissing,"function"==typeof o?o.call(null!=e?e:{},{name:"publisher_info",hash:{},data:r}):o))+"</a>\n"},compiler:[7,">= 4.0.0"],main:function(t,e,i,r,o){var s,a=null!=e?e:{};return(null!=(s=i["if"].call(a,null!=e?e.publisher_info:e,{name:"if",hash:{},fn:t.program(1,o,0),inverse:t.noop,data:o}))?s:"")+'<a href="https://soundcloud.com/pages/cookies" class="cookiePolicy__link sc-link-medium">\n  '+t.escapeExpression((n(113)||e&&e.$a11y||i.helperMissing).call(a,{name:"$a11y",hash:{screenreader:null!=e?e.cookie_policy_a11y:e,visible:null!=e?e.cookie_policy_visible:e},data:o}))+"\n</a>\n"},useData:!0})},function(t,e,n){var i=n(114),r=n(91);t.exports=function(t){return new r.SafeString(i.getAccessibleMarkup(t.hash))}},function(t,e,n){var i=n(91);t.exports={getAccessibleMarkup:function(t){return'<span class="sc-visuallyhidden">'+i.Utils.escapeExpression(t.screenreader)+"</span>"+(t.visible?'<span aria-hidden="true">'+i.Utils.escapeExpression(t.visible)+"</span>":"")}}},function(t,e,n){var i=n(79);t.exports={USER_NOT_FOUND:function(){return i.t("Oops, we couldn’t find that profile.")},GROUP_NOT_FOUND:function(){return i.t("Oops, we couldn’t find that group.")},SOUND_NOT_FOUND:function(){return i.t("Oops, we couldn’t find that track.")},PLAYLIST_NOT_FOUND:function(){return i.t("Oops, we couldn’t find that playlist.")},INSTALL_FLASH:function(){return i.t('You need Adobe Flash Player to play sounds. <a href="http://get.adobe.com/flashplayer" target="_blank">Install Flash</a> and reload the page.')},EMPTY_PLAYLIST:function(){return i.t("This playlist is empty.")},SOUND_GEO_BLOCKED:function(){return i.t("The owner of this track has not made it available for streaming in your location.")},INVALID_URL_PARAM:function(){return i.t('You have not provided a valid SoundCloud URL. <a href="https://soundcloud.com/pages/embed">Learn more</a> about using SoundCloud players.')}}},function(t,e,n){var i=n(42),r=n(57),o=t.exports=r.extend({url:null,lastFetchTime:1,fatal:!1,initialize:function(t){t=t||{},this.id||(t.id=this.id=this.cid,o.instances.set(this.id,this)),this.fatal=!!t.fatal,r.prototype.initialize.apply(this,arguments)}},{raise:function(t,e){var n=new o(t);if(n.release(),e=e||{},i.trigger("exception",n),e.hard)throw n}})},function(t,e,n){var i=n(28),r=n(73),o=n(18);t.exports={version:"05-11-2014_12:00",availableLayers:["widget_listening"],anonymousUserId:r.getAnonymousId(),assignmentServiceUrl:i.getEndpointUrl("assignments"),localStorageKey:"WIDGET::local::assignments",localStorageEnabled:o.localStorage}},function(t,e,n){(function(e){!function(){function n(t){i._localStorageEnabled&&localStorage.setItem(i._localStorageKey,t)}var i,r="assignments";i={_initialized:!1,_assignments:null,_localStorageKey:null,_localStorageEnabled:null,_availableLayers:null,_assignmentServiceUrl:null,_version:null,_anonymousId:null,initialize:function(t){return t=t||{},i._availableLayers=t.availableLayers||[],i._localStorageKey=t.localStorageKey||r,i._assignmentServiceUrl=t.assignmentServiceUrl+t.anonymousUserId,i._version=t.version,i._anonymousId=t.anonymousUserId,i._localStorageEnabled=t.hasOwnProperty("localStorageEnabled")?t.localStorageEnabled:!0,i._assignments=i.loadAssignments(),i._initialized=!0,i},reset:function(){i._availableLayers=[],i._localStorageKey=r,i._assignmentServiceUrl="",i._version=null,i._anonymousId=null,i._assignments=null},get:function(t,e){if(!i._initialized)return!1;var n=i.getLayers()||{};return n.hasOwnProperty(t)&&n[t].experimentName===e?n[t].variantName:!1},set:function(t,e,n){var r=i.getLayers();r[t]={experimentName:e,variantName:n}},fetchAssignments:function(){var t=e.Deferred(),n=i.getAssignments(),r=i._availableLayers,o=!!r.length,s={layers:r.join(",")};return i.isUpToDate(n,i._version)?t.resolve(i.formatAssignments()):o?(i.clearAssignments(),e.ajax({url:i._assignmentServiceUrl,type:"GET",dataType:"json",data:s,timeout:5e3}).done(function(e){i.buildAssignments(e),i.storeAssignments(),t.resolve(i.formatAssignments())}).fail(t.reject)):(i.clearAssignments(),t.resolve(i.formatAssignments())),t.promise()},isUpToDate:function(t,e){return t&&t._version===e},loadAssignments:function(){var t;try{t=JSON.parse(localStorage.getItem(i._localStorageKey))}catch(e){t={}}return t},buildAssignments:function(t){i._assignments={_version:i._version,layers:i.formatLayers(t)}},storeAssignments:function(){var t=i.getAssignments()||{};n(JSON.stringify(t))},clearAssignments:function(){i._assignments={},n(JSON.stringify({}))},getAssignments:function(){return i._assignments},getLayers:function(){return i.getAssignments().layers},formatAssignments:function(){var t,e={},n=i.getLayers();return n&&(t=Object.keys(n),t.forEach(function(t){e[t]=n[t].variantId})),e},formatLayers:function(t){var e={};return t.forEach(function(t){e[t.layer_name]={experimentName:t.experiment_name,variantName:t.variant_name,variantId:t.variant_id}}),e},serialize:function(){var t,e,n=i.getLayers(),r=[];for(e in n)t=n[e],t&&t.experimentName&&t.variantName&&r.push("["+e+"] "+t.experimentName+": "+t.variantName);return r.join(", ")},setExperimentsFromQueryParams:function(t){var e,n,r,o,s;for(s in t)e=/^exp\.([^.]+)\.([^.]+)$/.exec(s),o=t[s],e&&(n=e[1],r=e[2]),n&&r&&o&&i.set(n,r,o)}},"undefined"!=typeof t&&t.exports?t.exports=i:(window.SC=window.SC||{},window.SC.Experiments=i)}()}).call(e,n(1))},function(t,e){function n(t){"use strict";var e,i=this;if(this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=10,this.layer=t,!t||!t.nodeType)throw new TypeError("Layer must be a document node");this.onClick=function(){return n.prototype.onClick.apply(i,arguments)},this.onMouse=function(){return n.prototype.onMouse.apply(i,arguments)},this.onTouchStart=function(){return n.prototype.onTouchStart.apply(i,arguments)},this.onTouchMove=function(){return n.prototype.onTouchMove.apply(i,arguments)},this.onTouchEnd=function(){return n.prototype.onTouchEnd.apply(i,arguments)},this.onTouchCancel=function(){return n.prototype.onTouchCancel.apply(i,arguments)},n.notNeeded(t)||(this.deviceIsAndroid&&(t.addEventListener("mouseover",this.onMouse,!0),t.addEventListener("mousedown",this.onMouse,!0),t.addEventListener("mouseup",this.onMouse,!0)),t.addEventListener("click",this.onClick,!0),t.addEventListener("touchstart",this.onTouchStart,!1),t.addEventListener("touchmove",this.onTouchMove,!1),t.addEventListener("touchend",this.onTouchEnd,!1),t.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(t.removeEventListener=function(e,n,i){var r=Node.prototype.removeEventListener;"click"===e?r.call(t,e,n.hijacked||n,i):r.call(t,e,n,i)},t.addEventListener=function(e,n,i){var r=Node.prototype.addEventListener;"click"===e?r.call(t,e,n.hijacked||(n.hijacked=function(t){t.propagationStopped||n(t)}),i):r.call(t,e,n,i)}),"function"==typeof t.onclick&&(e=t.onclick,t.addEventListener("click",function(t){e(t)},!1),t.onclick=null))}n.prototype.deviceIsAndroid=navigator.userAgent.indexOf("Android")>0,n.prototype.deviceIsIOS=/iP(ad|hone|od)/.test(navigator.userAgent),n.prototype.deviceIsIOS4=n.prototype.deviceIsIOS&&/OS 4_\d(_\d)?/.test(navigator.userAgent),n.prototype.deviceIsIOSWithBadTarget=n.prototype.deviceIsIOS&&/OS ([6-9]|\d{2})_\d/.test(navigator.userAgent),n.prototype.needsClick=function(t){"use strict";switch(t.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(t.disabled)return!0;break;case"input":if(this.deviceIsIOS&&"file"===t.type||t.disabled)return!0;break;case"label":case"video":return!0}return/\bneedsclick\b/.test(t.className)},n.prototype.needsFocus=function(t){"use strict";switch(t.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!this.deviceIsAndroid;case"input":switch(t.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!t.disabled&&!t.readOnly;default:return/\bneedsfocus\b/.test(t.className)}},n.prototype.sendClick=function(t,e){"use strict";var n,i;document.activeElement&&document.activeElement!==t&&document.activeElement.blur(),i=e.changedTouches[0],n=document.createEvent("MouseEvents"),n.initMouseEvent(this.determineEventType(t),!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,t.dispatchEvent(n)},n.prototype.determineEventType=function(t){"use strict";return this.deviceIsAndroid&&"select"===t.tagName.toLowerCase()?"mousedown":"click"},n.prototype.focus=function(t){"use strict";var e;this.deviceIsIOS&&t.setSelectionRange&&0!==t.type.indexOf("date")&&"time"!==t.type?(e=t.value.length,t.setSelectionRange(e,e)):t.focus()},n.prototype.updateScrollParent=function(t){"use strict";var e,n;if(e=t.fastClickScrollParent,!e||!e.contains(t)){n=t;do{if(n.scrollHeight>n.offsetHeight){e=n,t.fastClickScrollParent=n;break}n=n.parentElement}while(n)}e&&(e.fastClickLastScrollTop=e.scrollTop)},n.prototype.getTargetElementFromEventTarget=function(t){"use strict";return t.nodeType===Node.TEXT_NODE?t.parentNode:t},n.prototype.onTouchStart=function(t){"use strict";var e,n,i;if(t.targetTouches.length>1)return!0;if(e=this.getTargetElementFromEventTarget(t.target),n=t.targetTouches[0],this.deviceIsIOS){if(i=window.getSelection(),i.rangeCount&&!i.isCollapsed)return!0;if(!this.deviceIsIOS4){if(n.identifier===this.lastTouchIdentifier)return t.preventDefault(),!1;this.lastTouchIdentifier=n.identifier,this.updateScrollParent(e)}}return this.trackingClick=!0,this.trackingClickStart=t.timeStamp,this.targetElement=e,this.touchStartX=n.pageX,this.touchStartY=n.pageY,t.timeStamp-this.lastClickTime<200&&t.preventDefault(),!0},n.prototype.touchHasMoved=function(t){"use strict";var e=t.changedTouches[0],n=this.touchBoundary;return Math.abs(e.pageX-this.touchStartX)>n||Math.abs(e.pageY-this.touchStartY)>n?!0:!1},n.prototype.onTouchMove=function(t){"use strict";return this.trackingClick?((this.targetElement!==this.getTargetElementFromEventTarget(t.target)||this.touchHasMoved(t))&&(this.trackingClick=!1,this.targetElement=null),!0):!0},n.prototype.findControl=function(t){"use strict";return void 0!==t.control?t.control:t.htmlFor?document.getElementById(t.htmlFor):t.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},n.prototype.onTouchEnd=function(t){"use strict";var e,n,i,r,o,s=this.targetElement;if(!this.trackingClick)return!0;if(t.timeStamp-this.lastClickTime<200)return this.cancelNextClick=!0,!0;if(this.cancelNextClick=!1,this.lastClickTime=t.timeStamp,n=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,this.deviceIsIOSWithBadTarget&&(o=t.changedTouches[0],s=document.elementFromPoint(o.pageX-window.pageXOffset,o.pageY-window.pageYOffset)||s,s.fastClickScrollParent=this.targetElement.fastClickScrollParent),i=s.tagName.toLowerCase(),"label"===i){if(e=this.findControl(s)){if(this.focus(s),this.deviceIsAndroid)return!1;s=e}}else if(this.needsFocus(s))return t.timeStamp-n>100||this.deviceIsIOS&&window.top!==window&&"input"===i?(this.targetElement=null,!1):(this.focus(s),this.deviceIsIOS4&&"select"===i||(this.targetElement=null,t.preventDefault()),!1);return this.deviceIsIOS&&!this.deviceIsIOS4&&(r=s.fastClickScrollParent,r&&r.fastClickLastScrollTop!==r.scrollTop)?!0:(this.needsClick(s)||(t.preventDefault(),this.sendClick(s,t)),!1)},n.prototype.onTouchCancel=function(){"use strict";this.trackingClick=!1,this.targetElement=null},n.prototype.onMouse=function(t){"use strict";return this.targetElement?t.forwardedTouchEvent?!0:t.cancelable&&(!this.needsClick(this.targetElement)||this.cancelNextClick)?(t.stopImmediatePropagation?t.stopImmediatePropagation():t.propagationStopped=!0,t.stopPropagation(),t.preventDefault(),!1):!0:!0},n.prototype.onClick=function(t){"use strict";var e;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===t.target.type&&0===t.detail?!0:(e=this.onMouse(t),e||(this.targetElement=null),e)},n.prototype.destroy=function(){"use strict";var t=this.layer;this.deviceIsAndroid&&(t.removeEventListener("mouseover",this.onMouse,!0),t.removeEventListener("mousedown",this.onMouse,!0),t.removeEventListener("mouseup",this.onMouse,!0)),t.removeEventListener("click",this.onClick,!0),t.removeEventListener("touchstart",this.onTouchStart,!1),t.removeEventListener("touchmove",this.onTouchMove,!1),t.removeEventListener("touchend",this.onTouchEnd,!1),t.removeEventListener("touchcancel",this.onTouchCancel,!1)},n.notNeeded=function(t){"use strict";var e,i;if("undefined"==typeof window.ontouchstart)return!0;if(i=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!n.prototype.deviceIsAndroid)return!0;
if(e=document.querySelector("meta[name=viewport]")){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(i>31&&window.innerWidth<=window.screen.width)return!0}}return"none"===t.style.msTouchAction?!0:!1},n.attach=function(t){"use strict";return new n(t)},t.exports=n},function(t,e,n){(function(e){function i(t){return t.metaKey||t.shiftKey||t.ctrlKey||t.altKey}function r(t,e,n){l.call(t,1e3*Math.max(5,a)*("next"===n?1:-1))}var o=n(19),s=n(45),a=0,u=t.exports={shortcuts:{playPause:{keyCode:["32","13"],fn:function(t){t&&s.toggle(t,{userInitiated:!0})}},load:{keyCode:["48","49","50","51","52","53","54","55","56","57"],fn:function(t,e){t&&!i(e)&&t.seek(t.getMediaDuration()/10*(e.keyCode-48))}},seekBackward:{keyCode:["37"],fn:function(t,e){t&&r(t,e,"prev")}},seekForward:{keyCode:["39"],fn:function(t,e){t&&r(t,e,"next")}},prev:{keyCode:["shiftKey+37","75"],fn:function(){s.playPrev({userInitiated:!0})}},next:{keyCode:["shiftKey+39","74"],fn:function(){s.playNext({userInitiated:!0})}}},handleKeyDown:function(t){var n,r,l,h=u.shortcuts,d=t.keyCode,f=13===d&&e(t.target).is(":tabbable")&&!t.isDefaultPrevented();if(!i(t)&&!f){var p=s.getCurrentSound();++a,n=c(d),o.find(o.sortBy(o.keys(n),"length").reverse(),function(e){var r=e.split("+"),o=r.every(function(n,o){if(o===r.length-1){var s=String(d)===r[o];return s&&1===r.length&&/[A-Za-z0-9%']/.test(String.fromCharCode(e))?!i(t):s}return t[n]});return o?(l=h[n[e]],!0):void 0}),l&&(r=l.fn(p,t),r||t.preventDefault())}},handleKeyUp:function(){a=0}},l=o.throttle(function(t){this.seekRelative(t)},200),c=o.memoize(function(t){var e=new RegExp("(^|\\+)"+t+"$"),n={};return o.each(u.shortcuts,function(t,i){o.each(t.keyCode,function(t){e.test(t)&&(n[t]=i)})}),n})}).call(e,n(1))},function(t,e,n){function i(){return u.clamp(this._status+Math.random()*this.options.trickleRate,0,.95)}function r(){this.done()}function o(t){var e=t?"on":"off";a[e]("widget:ready exception",r,this)}var s=n(30),a=n(42),u=n(122),l=n(87);t.exports=l.extend({className:"progress sc-background-orange",css:n(123),template:function(){return""},defaults:{minimum:u.randomRange(.08,.15),trickleRate:.1,trickleSpeed:500},attributes:{role:"bar"},_status:null,setup:function(){o.call(this,!0)},dispose:function(){o.call(this,!1)},renderDecorate:function(){this.whenInserted().done(this.start.bind(this))},start:function(){this._status||this.set(0);var t=function(){this.addDeferred(setTimeout(function(){this._status&&1!==this._status&&(this.set(i.call(this)),t())}.bind(this),this.options.trickleSpeed))}.bind(this);t()},set:function(t){this._status=t=u.clamp(t,this.options.minimum,1);var e=100*(-1+t);window.requestAnimationFrame(function(){this.$el.css({"-webkit-transform":"translate3d("+e+"%, 0, 0)","-ms-transform":"translate3d("+e+"%, 0, 0)",transform:"translate3d("+e+"%, 0, 0)"}),1===t&&this.toggleState("hidden",!s.get("widgetParams").visual)}.bind(this))},done:function(){this.set(1)}})},function(t,e){var n=t.exports={sort:function(t){return t.sort(function(t,e){return t-e})},isInRange:function(t,e){return e=n.sort(e),t>=e[0]&&t<=e[1]},precise:function(t,e){return e=Math.pow(10,e||0),Math.round(t*e)/e},clamp:function(t,e,n){return Math.min(n,Math.max(e,t))},randomRange:function(t,e){return Math.random()*(e-t)+t}}},function(t,e,n){e=t.exports=n(4)(),e.push([t.id,".progress{pointer-events:none;position:fixed;z-index:100;top:0;left:0;width:100%;height:3px;-webkit-transform:translate3d(-100%,0,0);transform:translate3d(-100%,0,0);opacity:1;transition:opacity .6s linear,-webkit-transform .2s ease;transition:transform .2s ease,opacity .6s linear;transition:transform .2s ease,opacity .6s linear,-webkit-transform .2s ease}.progress.hidden{opacity:0}",""])},function(t,e,n){(function(e){var i=n(32),r=n(42),o=n(125),s=n(30);t.exports=i.Router.extend({layoutArgs:null,layoutName:null,reload:function(){return i.history.loadUrl()},setRoutes:function(t){return t.forEach(function(t){this.route(t.route,t.name,t.handler)},this),this},apply:function(t,n){var i,a="layouts/"+t;this.setupDeferred&&this.setupDeferred.reject(),this.setupDeferred=i=e.Deferred(),o.loadLayout(a).done(function(e){if("rejected"!==i.state()){this.layoutArgs=n,this.layoutName=t;var o=s.get("appView"),a=new e(n);o._teardown(),o.addSubview(a),o.$el.append(a.render().el),r.trigger("layout:change",o)}}.bind(this))}})}).call(e,n(1))},function(t,e,n){var i=n(66),r={};t.exports={loadLayout:function(t){var e,o=r[t];return o?o:(e=i.defer(),n(126)("./"+t.replace("layouts/",""))(function(t){e.resolve(t)}),o=r[t]=e.promise())}}},function(t,e,n){function i(t){return n(r(t))}function r(t){return o[t]||function(){throw new Error("Cannot find module '"+t+"'.")}()}var o={"./error":127,"./error.css":132,"./error.js":127,"./error.tmpl":129,"./multi-sounds":133,"./multi-sounds.js":133,"./single-sound":449,"./single-sound.js":449,"./visual-multi-sounds":454,"./visual-multi-sounds.js":454,"./visual-single-sound":456,"./visual-single-sound.js":456};i.keys=function(){return Object.keys(o)},i.resolve=r,t.exports=i,i.id=126},function(t,e,n){var i,r=[];t.exports=function(t){r?r.push(t):t(i)},n.e(1,function(t){i=n(128);var e=r;r=null;for(var o=0,s=e.length;s>o;o++)e[o](i)})},,function(t,e,n){var i=n(91);t.exports=(i["default"]||i).template({1:function(t,e,n,i,r){var o,s;return"  <p>"+(null!=(s=null!=(s=n.message||(null!=e?e.message:e))?s:n.helperMissing,o="function"==typeof s?s.call(null!=e?e:{},{name:"message",hash:{},data:r}):s)?o:"")+"</p>\n"},compiler:[7,">= 4.0.0"],main:function(t,e,i,r,o){var s,a=null!=e?e:{};return(null!=(s=i["if"].call(a,null!=e?e.message:e,{name:"if",hash:{},fn:t.program(1,o,0),inverse:t.noop,data:o}))?s:"")+'<a class="g-sc-logo" href="http://soundcloud.com" title="'+t.escapeExpression((n(130)||e&&e.$t||i.helperMissing).call(a,"Play on SoundCloud",{name:"$t",hash:{},data:o}))+'">SoundCloud.com</a>\n'},useData:!0})},function(t,e,n){function i(t,e){return o.t(t,e.hash,{comment:e.hash._comment,context:e.hash._context})}function r(t){return o.t(s.cleanBlockText(t.fn()),t.hash,{comment:t.hash._comment,context:t.hash._context})}var o=n(79),s=n(131);t.exports=function(){var t=arguments.length;if(2===t)return i.apply(this,arguments);if(1===t)return r.apply(this,arguments);throw new Error("Invalid signature to t helper, expected 1 or 2 arguments, got "+t)}},function(t,e){var n=/\r?\n/g,i=/\s+/g;t.exports={cleanBlockText:function(t){return t.trim().replace(n," ").replace(i," ")}}},function(t,e,n){e=t.exports=n(4)(),e.push([t.id,".error{text-align:center;padding:50px}.error__message{line-height:20px}.error>.g-sc-logo{display:inline-block}",""])},function(t,e,n){var i,r=[];t.exports=function(t){r?r.push(t):t(i)},n.e(2,function(t){i=n(134);var e=r;r=null;for(var o=0,s=e.length;s>o;o++)e[o](i)})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){function i(t,e){var n=o(e)&&h.getCurrentAd(),i=e.playbackOptions,r=e.playlist,a=["user_id","duration","monetization_model","policy"],u=Math.round(e.currentTime());return g.all([!e.attrExists(a)&&e.fetch()].filter(Boolean)).then(function(){var o=l.extend(s(),{in_playlist:r?r.getUrn():null,playlist_position:r?r.getSoundIndex(e):null,id:e.id,trackOwnerId:e.getUserId(),track_length:e.getMediaDuration(),protocol:e.getStreamProtocol(),action:t,playheadPosition:u,trigger:i.userAction?"manual":"auto",policy:e.get("policy"),monetization_model:e.get("monetization_model"),checkpointInterval:i.checkpointInterval});return n&&l.extend(o,{ad_urn:n.get("audio").ad_urn,monetization_type:n.getMonetizationType(),monetized_urn:n.sound.getMonetizableTrack().getUrn(),policy:null,monetization_model:null}),o})}function r(t){var e,n=h.getCurrentAd(),i=h.getCurrentSound();return e="companion_display"===t?n.get("companion_display"):n.get("audio"),l.extend(s(),{impression_name:t,impression_object:i.getUrn(),ad_urn:e.ad_urn,monetization_type:n.getMonetizationType(),monetized_object:i.getMonetizableTrack().getUrn(),promoted_by:null,external_media:e.ad_visual||null})}function o(t){return h.getCurrentSound()===t}function s(){var t=d.get("widgetParams").visual,e=d.get("router").layoutArgs,n=e.resource_id,i=e.resource_type;return{page_name:a(i,t),page_urn:u(i,n)}}function a(t,e){var n="";switch(t){case m.SOUND:n="tracks";break;case m.PLAYLIST:n="playlists";break;case m.USER_SOUNDS:n="users:tracks";break;case m.USER_FAVORITES:n="users:likes";break;case m.USER_SPOTLIGHT:n="users:spotlight";break;case m.GROUP_SOUNDS:n="groups";break;default:n="error"}return(e?"visual:":"classic:")+n}function u(t,e){function n(t){return v.generate(t,e)}var i=null;switch(t){case m.SOUND:i=n("sound");break;case m.PLAYLIST:i=n("playlist");break;case m.USER_SOUNDS:case m.USER_FAVORITES:case m.USER_SPOTLIGHT:i=n("user");break;case m.GROUP_SOUNDS:i=n("group")}return i}var l=n(19),c=n(18),h=n(26),d=n(30),f=n(42),p=n(73),g=n(66),m=n(61),v=n(336),_=n(79),y=n(337),b=n(339);t.exports={initialize:function(){l.invoke([b],"include");var t=d.get.bind(d),e=t("me").id,n=(window.location.search.match(/(?:\?|&)origin=(\w+)/)||[])[1];p.initialize({id:t("client_application_id"),appVersion:t("app_version"),trackingUrl:t("eventlogger_tracking_url"),user:e,origin:n,batchTimeout:c.sendBeacon?5e3:1e3}),e||f.on("connect:hasUserData",l.once(function(){p.setUser(t("me").id)}))},dispose:function(){p.flush(!0)},trackAudioEvent:function(t,e){p.audio(i(t,e))},trackAppLoad:function(t,e,n){p.logEvent("appload","0.0.0",{level:t,latency:n,exp_widget_listening:5555})},trackPageView:function(t){y.include();var e=d.get("me").id||null,n=t.level,i=t.chapter,r={locale:_.getLocale()};p.pageview(e,n,i,r)},trackClick:function(t,e){var n=d.get("me").id||null,i=t.level,r=t.chapter;p.click(n,i,r,e)},trackClickV1:function(t){p.logEvent("click","1.16.0",l.extend(s(),t))},trackImpression:function(t){var e;if(l.isString(t))switch(t){case"companion_display":case"audio_ad_impression":e=r(t)}else l.isObject(t)&&(e=l.extend(s(),t));e&&p.impression(null,e)}}},function(t,e){var n={playlists:"playlist",sounds:"track",tracks:"track",groups:"group",users:"user"},i={playlists:"playlist",sounds:"sound",tracks:"sound",groups:"group",users:"user"},r={playlist:"playlists",sound:"tracks",group:"groups",user:"users"};t.exports={getAsAttributes:function(t){var e=t.split(":"),r=e[2],o=i[e[1]];return/\D/.test(r)||(r=parseInt(r,10)),"user"===o&&"system"===r&&(r=193),{id:r,kind:n[e[1]],resource_type:o}},generate:function(t,e){var n=r[t];return n?"soundcloud:"+n+":"+e:null}}},function(t,e,n){var i,r=n(338);i=t.exports={include:function(){var t=window._comscore=window._comscore||[];t.push({c1:"7",c2:"16601931",c3:"43164"}),r.insertScript("https://sb.scorecardresearch.com/beacon.js")}}},function(t,e,n){var i=t.exports={insertScript:function(t,e){var n,r,o=document.createElement("script"),s=document.getElementsByTagName("head")[0];o.async=!0,o.src=t,e=e||{},n=e.removeAfterLoad?s.removeChild.bind(s,o):e.onload,r=e.onerror,(n||r)&&i.onScriptLoad(o,n,r),s.appendChild(o)},onScriptLoad:function(t,e,n){e&&(t.addEventListener?t.addEventListener("load",e,!1):t.readyState&&(t.onreadystatechange=e)),n&&(t.onerror=n)}}},function(t,e,n){var i,r=n(338);i=t.exports={include:function(){var t=window._gaq=window._gaq||[];t.push(["_setAccount","UA-2519404-20"],["_gat._anonymizeIp"],["_trackPageview"]),r.insertScript("https://ssl.google-analytics.com/ga.js")}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){var i,r=[];t.exports=function(t){r?r.push(t):t(i)},n.e(3,function(t){i=n(450);var e=r;r=null;for(var o=0,s=e.length;s>o;o++)e[o](i)})},,,,,function(t,e,n){var i,r=[];t.exports=function(t){r?r.push(t):t(i)},n.e(4,function(t){i=n(455);var e=r;r=null;for(var o=0,s=e.length;s>o;o++)e[o](i)})},,function(t,e,n){var i,r=[];t.exports=function(t){r?r.push(t):t(i)},n.e(5,function(t){i=n(457);var e=r;r=null;for(var o=0,s=e.length;s>o;o++)e[o](i)})},,,,,,,,,,,,,,,function(t,e,n){function i(t,e){return t.push(r(e.resource,E(e.route),e.resource,s(e))),t.push(r(e.resource+"-permalink",E("/"+e.permalink),e.resource,o(e))),t}function r(t,e,n,i){return{name:t,route:e,resource:n,handler:i}}function o(t){return function(){var e,n=c.toArray(arguments),i=p.get("widgetParams").secret_token;w.lastIndex=0,e=t.permalink.replace(w,function(){return n.shift()}),i&&[_.SOUND,_.PLAYLIST].indexOf(t.resource)>-1&&(e+="/"+i),u.call(this,e,t.resource)}}function s(t){return function(e){var n,i=p.get("widgetParams"),r=i.visual,o=i.secret_token,s=t.resource,u=a(s,r);e=c.isNaN(Number(e))?e:Number(e),n={resource_id:e,resource_type:s},o&&(n.secret_token=o),this.apply(u,n)}}function a(t,e){var n;switch(t){case _.SOUND:n=e?"visual-single-sound":"single-sound";break;case _.PLAYLIST:case _.USER_SOUNDS:case _.USER_FAVORITES:case _.USER_SPOTLIGHT:case _.GROUP_SOUNDS:n=e?"visual-multi-sounds":"multi-sounds";break;default:n="error"}return n}function u(t,e){v(t).done(function(t){var n,i;switch(n=h.history.getOptions(),n.url=t.location.replace(/\.json.*/,""),e){case _.USER_FAVORITES:n.url+="/likes";break;case _.USER_SPOTLIGHT:n.url+="/spotlight"}i=g.stringify({query:n}),this.navigate(i,{trigger:!0,replace:!0})}.bind(this)).fail(function(t){return 404===t.status?l(m.escapeHTML(h.history.getFragment())):void f.raise({fatal:!0,xhr:t})})}function l(){f.raise({fatal:!0,message:d.INVALID_URL_PARAM})}var c=n(19),h=n(32),d=n(115),f=n(116),p=n(30),g=n(23),m=n(24),v=n(58).resolveWithPublicApi,_=n(61),y="[a-zA-Z0-9_-]{1,255}",b={id:"[0-9]+",app:y,user:y,group:y,track:y,playlist:y},w=new RegExp(":("+Object.keys(b).join("|")+")","g"),E=function(){function t(t,e){return"("+b[e]+")"}return function(e){return w.lastIndex=0,new RegExp("^"+e.replace(w,t)+"$")}}();t.exports=[{route:"tracks/:id",permalink:":user/:track",resource:_.SOUND},{route:"users/:id",permalink:":user",resource:_.USER_SOUNDS},{route:"users/:id/favorites",permalink:":user/favorites",resource:_.USER_FAVORITES},{route:"users/:id/spotlight",permalink:":user/spotlight",resource:_.USER_SPOTLIGHT},{route:"groups/:id",permalink:"groups/:group",resource:_.GROUP_SOUNDS},{route:"playlists/:id",permalink:":user/sets/:playlist",resource:_.PLAYLIST}].reduce(i,[r("error","*error","exception",l)])},function(t,e,n){function i(t,e){var n,i=h.last(t.split(":")),r=e&&e.model?e.model:e,o=r&&"getUrn"in r?r.getUrn():null,a=!1;switch(t){case"audio:play":case"audio:pause":case"audio:finish":"finish"===i&&(i="pause"),n=w;break;case v.LIKE_BUTTON_CLICKED:case v.FOLLOW_BUTTON_CLICKED:case v.SHARE_BUTTON_CLICKED:case v.UPSELL_CTA_BUTTON_CLICKED:case v.DOWNLOAD_LINK_CLICKED:case v.BUY_LINK_CLICKED:case v.SHARE_VIEW_OPENED:case v.LINK_BUTTON_CLICKED:case v.LINK_INPUT_CLICKED:case v.EMBED_BUTTON_CLICKED:case v.ARTWORK_CLICKED:case v.PLAYLIST_SCROLLED:case v.TITLE_LINK_CLICKED:case v.CREATOR_LINK_CLICKED:case v.LOGO_LINK_CLICKED:case v.RELATED_VIEW_OPENED:case v.RELATED_VIEW_CLICKED:n=S;break;case _.IMPRESSION:case _.CLICKED:case _.SKIPPED:case _.FINISH:n=k;break;case v.WAVEFORM_CLICKED:n=S,a=!0;break;case v.SHARE_ICON_CLICKED:n=S,i+="::"+e.shareIconType,o=e.model.getUrn();break;case y.LOAD:s(e)}if(a){if(x.hasOwnProperty(o)||(x[o]={}),x[o].hasOwnProperty(i))return;x[o][i]=!0}i&&n===w?d.trackAudioEvent(i,r):n===k&&t===_.IMPRESSION?d.trackImpression(e.impressionName):n&&i&&d.trackClick({level:b,chapter:e&&e.chapter||[i,o]},e),"audio:finish"===t&&delete x[o]}function r(){d.trackPageView({level:b,chapter:[T,m.parse(window.location.href).query.url]})}function o(){if(null!=window._gaq){var t,e=window.innerWidth||document.body.clientWidth,n=window.innerHeight||document.body.clientHeight;e=100*Math.round(e/100),n=100*Math.round(n/100),t=e+"x"+n,window._gaq.push(["_trackEvent","Widget container size","Range",t])}}function s(t){d.trackAppLoad(b,l(),t.latency)}function a(t,e,n){c(t)&&null!=window._gaq&&window._gaq.push(["_trackEvent",E,"JS - "+t,"file:"+e+"; line:"+n])}function u(t){var e=t.get("xhr");e&&0===e.status.toString().indexOf("5")&&null!=window._gaq&&window._gaq.push(["_trackEvent",E,e.status+" - "+e.statusText,"url:"+e.url])}function l(){return f.get("me").id||null}var c,h=n(19),d=n(335),f=n(30),p=n(42),g=n(43),m=n(23),v=g.UI,_=g.ADS,y=g.APP,b=0,w="Tracks",E="Error",S="UI",k="Ads",x={},T=m.parse(document.referrer).host;t.exports={init:h.once(function(){d.initialize();var t=["audio:play","audio:pause","audio:finish"];Object.keys(g).forEach(function(e){t.push.apply(t,h.values(g[e]))}),t.forEach(function(t){p.on(t,i.bind(null,t))}),window.onerror=a,p.on("exception",u).on("layout:change",function(){r(),o()})}),dispose:function(){d.dispose()}};c=function(){function t(t){return this.message.indexOf(t)>-1}var e=["Error: Permission denied to access property 'toString'",'Error: Permission denied to access property "toString"',"Script error.","stopAudioAdsTimer","ReferenceError: Can't find variable: dzPlayer","Error connecting to extension"];return function(n){return!e.some(t,{message:n})}}()}]);